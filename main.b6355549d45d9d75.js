"use strict";(self.webpackChunkjuego2=self.webpackChunkjuego2||[]).push([[179],{842:()=>{function ye(n){return"function"==typeof n}function Ic(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Hh=Ic(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ya(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class pn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof Hh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Dx(s)}catch(o){e=e??[],o instanceof Hh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Hh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Dx(e);else{if(e instanceof pn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ya(t,e)}remove(e){const{_finalizers:t}=this;t&&ya(t,e),e instanceof pn&&e._removeParent(this)}}pn.EMPTY=(()=>{const n=new pn;return n.closed=!0,n})();const Ex=pn.EMPTY;function Cx(n){return n instanceof pn||n&&"closed"in n&&ye(n.remove)&&ye(n.add)&&ye(n.unsubscribe)}function Dx(n){ye(n)?n():n.unsubscribe()}const ro={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zh={setTimeout(n,e,...t){const{delegate:r}=zh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=zh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ix(n){zh.setTimeout(()=>{const{onUnhandledError:e}=ro;if(!e)throw n;e(n)})}function iy(){}const aq=sy("C",void 0,void 0);function sy(n,e,t){return{kind:n,value:e,error:t}}let io=null;function Gh(n){if(ro.useDeprecatedSynchronousErrorHandling){const e=!io;if(e&&(io={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=io;if(io=null,t)throw r}}else n()}class oy extends pn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cx(e)&&e.add(this)):this.destination=pq}static create(e,t,r){return new Sc(e,t,r)}next(e){this.isStopped?ly(function cq(n){return sy("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ly(function lq(n){return sy("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ly(aq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dq=Function.prototype.bind;function ay(n,e){return dq.call(n,e)}class hq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){qh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){qh(r)}else qh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){qh(t)}}}class Sc extends oy{constructor(e,t,r){let i;if(super(),ye(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ro.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ay(e.next,s),error:e.error&&ay(e.error,s),complete:e.complete&&ay(e.complete,s)}):i=e}this.destination=new hq(i)}}function qh(n){ro.useDeprecatedSynchronousErrorHandling?function uq(n){ro.useDeprecatedSynchronousErrorHandling&&io&&(io.errorThrown=!0,io.error=n)}(n):Ix(n)}function ly(n,e){const{onStoppedNotification:t}=ro;t&&zh.setTimeout(()=>t(n,e))}const pq={closed:!0,next:iy,error:function fq(n){throw n},complete:iy},cy="function"==typeof Symbol&&Symbol.observable||"@@observable";function cs(n){return n}function Sx(...n){return Tx(n)}function Tx(n){return 0===n.length?cs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function mq(n){return n&&n instanceof oy||function gq(n){return n&&ye(n.next)&&ye(n.error)&&ye(n.complete)}(n)&&Cx(n)}(t)?t:new Sc(t,r,i);return Gh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ax(r))((i,s)=>{const o=new Sc({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[cy](){return this}pipe(...t){return Tx(t)(this)}toPromise(t){return new(t=Ax(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Ax(n){var e;return null!==(e=n??ro.Promise)&&void 0!==e?e:Promise}const _q=Ic(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ue=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Mx(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new _q}next(t){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Ex:(this.currentObservers=null,s.push(t),new pn(()=>{this.currentObservers=null,ya(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return n.create=(e,t)=>new Mx(e,t),n})();class Mx extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Ex}}class tr extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function xx(n){return ye(n?.lift)}function mt(n){return e=>{if(xx(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(n,e,t,r,i){return new yq(n,e,t,r,i)}class yq extends oy{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function we(n,e){return mt((t,r)=>{let i=0;t.subscribe(it(r,s=>{r.next(n.call(e,s,i++))}))})}function hy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function us(n){return this instanceof us?(this.v=n,this):new us(n)}function Nx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function py(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const gy=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Px(n){return ye(n?.then)}function Fx(n){return ye(n[cy])}function Lx(n){return Symbol.asyncIterator&&ye(n?.[Symbol.asyncIterator])}function Vx(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bx=function Bq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ux(n){return ye(n?.[Bx])}function jx(n){return function Ox(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof us?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield us(t.read());if(i)return yield us(void 0);yield yield us(r)}}finally{t.releaseLock()}})}function $x(n){return ye(n?.getReader)}function xn(n){if(n instanceof Be)return n;if(null!=n){if(Fx(n))return function Uq(n){return new Be(e=>{const t=n[cy]();if(ye(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(gy(n))return function jq(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Px(n))return function $q(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ix)})}(n);if(Lx(n))return Hx(n);if(Ux(n))return function Hq(n){return new Be(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if($x(n))return function zq(n){return Hx(jx(n))}(n)}throw Vx(n)}function Hx(n){return new Be(e=>{(function Gq(n,e){var t,r,i,s;return function kx(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Nx(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ai(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function $t(n,e,t=1/0){return ye(e)?$t((r,i)=>we((s,o)=>e(r,s,i,o))(xn(n(r,i))),t):("number"==typeof e&&(t=e),mt((r,i)=>function qq(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let _=!1;xn(t(g,u++)).subscribe(it(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const v=l.shift();o?Ai(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(it(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function va(n=1/0){return $t(cs,n)}const Kr=new Be(n=>n.complete());function zx(n){return n&&ye(n.schedule)}function my(n){return n[n.length-1]}function Gx(n){return ye(my(n))?n.pop():void 0}function Tc(n){return zx(my(n))?n.pop():void 0}function Wh(n,e=0){return mt((t,r)=>{t.subscribe(it(r,i=>Ai(r,n,()=>r.next(i),e),()=>Ai(r,n,()=>r.complete(),e),i=>Ai(r,n,()=>r.error(i),e)))})}function Kh(n,e=0){return mt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function qx(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{Ai(t,e,()=>{const r=n[Symbol.asyncIterator]();Ai(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ht(n,e){return e?function e5(n,e){if(null!=n){if(Fx(n))return function Yq(n,e){return xn(n).pipe(Kh(e),Wh(e))}(n,e);if(gy(n))return function Xq(n,e){return new Be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Px(n))return function Qq(n,e){return xn(n).pipe(Kh(e),Wh(e))}(n,e);if(Lx(n))return qx(n,e);if(Ux(n))return function Zq(n,e){return new Be(t=>{let r;return Ai(t,e,()=>{r=n[Bx](),Ai(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(n,e);if($x(n))return function Jq(n,e){return qx(jx(n),e)}(n,e)}throw Vx(n)}(n,e):xn(n)}function _y(...n){const e=Tc(n),t=function Kq(n,e){return"number"==typeof my(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?xn(r[0]):va(t)(Ht(r,e)):Kr}function Q(...n){return Ht(n,Tc(n))}function Wx(n={}){const{connector:e=(()=>new Ue),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return mt((g,_)=>{c++,!d&&!u&&h();const v=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=yy(p,i))}),v.subscribe(_),!o&&c>0&&(o=new Sc({next:y=>v.next(y),error:y=>{d=!0,h(),a=yy(f,t,y),v.error(y)},complete:()=>{u=!0,h(),a=yy(f,r),v.complete()}}),xn(g).subscribe(o))})(s)}}function yy(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Sc({next:()=>{r.unsubscribe(),n()}});return xn(e(...t)).subscribe(r)}function Yr(n,e){return mt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(it(r,l=>{i?.unsubscribe();let c=0;const u=s++;xn(n(l,u)).subscribe(i=it(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Kx(n,e=cs){return n=n??t5,mt((t,r)=>{let i,s=!0;t.subscribe(it(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function t5(n,e){return n===e}function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function Yh(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Nt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const n5=Ne({__forward_ref__:Ne});function He(n){return n.__forward_ref__=He,n.toString=function(){return Nt(this())},n}function ne(n){return wy(n)?n():n}function wy(n){return"function"==typeof n&&n.hasOwnProperty(n5)&&n.__forward_ref__===He}function by(n){return n&&!!n.\u0275providers}const Yx="https://g.co/ng/security#xss";class D extends Error{constructor(e,t){super(function Qh(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Xh(n,e){throw new D(-201,!1)}function yr(n,e){null==n&&function Me(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zh(n){return Qx(n,Jh)||Qx(n,Zx)}function Qx(n,e){return n.hasOwnProperty(e)?n[e]:null}function Xx(n){return n&&(n.hasOwnProperty(Ey)||n.hasOwnProperty(d5))?n[Ey]:null}const Jh=Ne({\u0275prov:Ne}),Ey=Ne({\u0275inj:Ne}),Zx=Ne({ngInjectableDef:Ne}),d5=Ne({ngInjectorDef:Ne});var pe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pe||{});let Cy;function Hn(n){const e=Cy;return Cy=n,e}function ek(n,e,t){const r=Zh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&pe.Optional?null:void 0!==e?e:void Xh(Nt(n))}const je=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ac={},Dy="__NG_DI_FLAG__",ef="ngTempTokenPath",f5=/\n/gm,tk="__source";let wa;function ds(n){const e=wa;return wa=n,e}function m5(n,e=pe.Default){if(void 0===wa)throw new D(-203,!1);return null===wa?ek(n,void 0,e):wa.get(n,e&pe.Optional?null:void 0,e)}function C(n,e=pe.Default){return(function Jx(){return Cy}()||m5)(ne(n),e)}function z(n,e=pe.Default){return C(n,tf(e))}function tf(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Iy(n){const e=[];for(let t=0;t<n.length;t++){const r=ne(n[t]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,s=pe.Default;for(let o=0;o<r.length;o++){const a=r[o],l=_5(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(C(i,s))}else e.push(C(r))}return e}function Mc(n,e){return n[Dy]=e,n.prototype[Dy]=e,n}function _5(n){return n[Dy]}function Mi(n){return{toString:n}.toString()}var nf=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nf||{}),vr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(vr||{});const Qr={},Ae=[],rf=Ne({\u0275cmp:Ne}),Sy=Ne({\u0275dir:Ne}),Ty=Ne({\u0275pipe:Ne}),rk=Ne({\u0275mod:Ne}),xi=Ne({\u0275fac:Ne}),xc=Ne({__NG_ELEMENT_ID__:Ne}),ik=Ne({__NG_ENV_ID__:Ne});function sk(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Ay(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];ak(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function ok(n){return 3===n||4===n||6===n}function ak(n){return 64===n.charCodeAt(0)}function kc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||lk(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function lk(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const ck="ng-template";function w5(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==sk(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function uk(n){return 4===n.type&&n.value!==ck}function b5(n,e,t){return e===(4!==n.type||t?n.value:ck)}function E5(n,e,t){let r=4;const i=n.attrs||[],s=function I5(n){for(let e=0;e<n.length;e++)if(ok(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!b5(n,l,t)||""===l&&1===e.length){if(Rr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!w5(n.attrs,c,t)){if(Rr(r))return!1;o=!0}continue}const d=C5(8&r?"class":l,i,uk(n),t);if(-1===d){if(Rr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==sk(f,c,0)||2&r&&c!==h){if(Rr(r))return!1;o=!0}}}}else{if(!o&&!Rr(r)&&!Rr(l))return!1;if(o&&Rr(l))continue;o=!1,r=l|1&r}}return Rr(r)||o}function Rr(n){return 0==(1&n)}function C5(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function S5(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function dk(n,e,t=!1){for(let r=0;r<e.length;r++)if(E5(n,e[r],t))return!0;return!1}function hk(n,e){return n?":not("+e.trim()+")":e}function A5(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Rr(o)&&(e+=hk(s,i),i=""),r=o,s=s||!Rr(r);t++}return""!==i&&(e+=hk(s,i)),e}function rr(n){return Mi(()=>{const e=pk(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vr.Emulated,styles:n.styles||Ae,_:null,schemas:n.schemas||null,tView:null,id:""};gk(t);const r=n.dependencies;return t.directiveDefs=sf(r,!1),t.pipeDefs=sf(r,!0),t.id=function F5(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function R5(n){return xe(n)||gn(n)}function O5(n){return null!==n}function Ke(n){return Mi(()=>({type:n.type,bootstrap:n.bootstrap||Ae,declarations:n.declarations||Ae,imports:n.imports||Ae,exports:n.exports||Ae,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function fk(n,e){if(null==n)return Qr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function J(n){return Mi(()=>{const e=pk(n);return gk(e),e})}function zn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function xe(n){return n[rf]||null}function gn(n){return n[Sy]||null}function Gn(n){return n[Ty]||null}function ir(n,e){const t=n[rk]||null;if(!t&&!0===e)throw new Error(`Type ${Nt(n)} does not have '\u0275mod' property.`);return t}function pk(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Qr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ae,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fk(n.inputs,e),outputs:fk(n.outputs)}}function gk(n){n.features?.forEach(e=>e(n))}function sf(n,e){if(!n)return null;const t=e?Gn:R5;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(O5)}const Pt=0,$=1,oe=2,st=3,Or=4,Rc=5,mn=6,Ea=7,_t=8,Ca=9,oo=10,ae=11,Oc=12,mk=13,Da=14,yt=15,Nc=16,Ia=17,Xr=18,Pc=19,_k=20,hs=21,ki=22,af=23,lf=24,me=25,My=1,yk=2,Zr=7,Sa=9,_n=11;function sr(n){return Array.isArray(n)&&"object"==typeof n[My]}function qn(n){return Array.isArray(n)&&!0===n[My]}function xy(n){return 0!=(4&n.flags)}function ao(n){return n.componentOffset>-1}function uf(n){return 1==(1&n.flags)}function Nr(n){return!!n.template}function ky(n){return 0!=(512&n[oe])}function lo(n,e){return n.hasOwnProperty(xi)?n[xi]:null}let $5=je.WeakRef??class j5{constructor(e){this.ref=e}deref(){return this.ref}},z5=0,Jr=null,df=!1;function zt(n){const e=Jr;return Jr=n,e}class Ck{constructor(){this.id=z5++,this.ref=function H5(n){return new $5(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const r=t.producerNode.deref();if(null!=r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=df;df=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{df=e}}producerAccessed(){if(df)throw new Error("");if(null===Jr)return;let e=Jr.producers.get(this.id);void 0===e?(e={consumerNode:Jr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Jr.trackingVersion},Jr.producers.set(this.id,e),this.consumers.set(Jr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Jr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Jr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Dk=null;const Sk=()=>{};class K5 extends Ck{constructor(e,t,r){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=Sk,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=zt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Sk,this.watch(this.registerOnCleanup)}finally{zt(e)}}cleanup(){this.cleanupFn()}}class Y5{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function or(){return Tk}function Tk(n){return n.type.prototype.ngOnChanges&&(n.setInput=X5),Q5}function Q5(){const n=Mk(this),e=n?.current;if(e){const t=n.previous;if(t===Qr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function X5(n,e,t,r){const i=this.declaredInputs[t],s=Mk(n)||function Z5(n,e){return n[Ak]=e}(n,{previous:Qr,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Y5(l&&l.currentValue,e,a===Qr),n[r]=e}or.ngInherit=!0;const Ak="__ngSimpleChanges__";function Mk(n){return n[Ak]||null}const ei=function(n,e,t){};function Ye(n){for(;Array.isArray(n);)n=n[Pt];return n}function pf(n,e){return Ye(e[n])}function Wn(n,e){return Ye(e[n.index])}function Rk(n,e){return n.data[e]}function ar(n,e){const t=e[n];return sr(t)?t:t[Pt]}function fs(n,e){return null==e?null:n[e]}function Ok(n){n[Ia]=0}function s6(n){1024&n[oe]||(n[oe]|=1024,Pk(n,1))}function Nk(n){1024&n[oe]&&(n[oe]&=-1025,Pk(n,-1))}function Pk(n,e){let t=n[st];if(null===t)return;t[Rc]+=e;let r=t;for(t=t[st];null!==t&&(1===e&&1===r[Rc]||-1===e&&0===r[Rc]);)t[Rc]+=e,r=t,t=t[st]}const ee={lFrame:qk(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vk(){return ee.bindingsEnabled}function M(){return ee.lFrame.lView}function be(){return ee.lFrame.tView}function vt(n){return ee.lFrame.contextLView=n,n[_t]}function wt(n){return ee.lFrame.contextLView=null,n}function tn(){let n=Bk();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bk(){return ee.lFrame.currentTNode}function ti(n,e){const t=ee.lFrame;t.currentTNode=n,t.isParent=e}function Ly(){return ee.lFrame.isParent}function kn(){const n=ee.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ri(){return ee.lFrame.bindingIndex}function Ma(){return ee.lFrame.bindingIndex++}function Oi(n){const e=ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _6(n,e){const t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,By(e)}function By(n){ee.lFrame.currentDirectiveIndex=n}function Hk(){return ee.lFrame.currentQueryIndex}function jy(n){ee.lFrame.currentQueryIndex=n}function v6(n){const e=n[$];return 2===e.type?e.declTNode:1===e.type?n[mn]:null}function zk(n,e,t){if(t&pe.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&pe.Host||(i=v6(s),null===i||(s=s[Da],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ee.lFrame=Gk();return r.currentTNode=e,r.lView=n,!0}function $y(n){const e=Gk(),t=n[$];ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Gk(){const n=ee.lFrame,e=null===n?null:n.child;return null===e?qk(n):e}function qk(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Wk(){const n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Kk=Wk;function Hy(){const n=Wk();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Rn(){return ee.lFrame.selectedIndex}function co(n){ee.lFrame.selectedIndex=n}function ot(){const n=ee.lFrame;return Rk(n.tView,n.selectedIndex)}let Qk=!0;function gf(){return Qk}function ps(n){Qk=n}function mf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function _f(n,e,t){Xk(n,e,3,t)}function yf(n,e,t,r){(3&n[oe])===t&&Xk(n,e,t,r)}function zy(n,e){let t=n[oe];(3&t)===e&&(t&=8191,t+=1,n[oe]=t)}function Xk(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[Ia]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[Ia]+=65536),(a<s||-1==s)&&(T6(n,t,e,l),n[Ia]=(4294901760&n[Ia])+l+2),l++}function Zk(n,e){ei(4,n,e);const t=zt(null);try{e.call(n)}finally{zt(t),ei(5,n,e)}}function T6(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[oe]>>13<n[Ia]>>16&&(3&n[oe])===e&&(n[oe]+=8192,Zk(a,s)):Zk(a,s)}const xa=-1;class Vc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Jk(n){return n!==xa}function vf(n){return 32767&n}function wf(n,e){let t=function k6(n){return n>>16}(n),r=e;for(;t>0;)r=r[Da],t--;return r}let qy=!0;function bf(n){const e=qy;return qy=n,e}const eR=255,tR=5;let R6=0;const ni={};function Ef(n,e){const t=nR(n,e);if(-1!==t)return t;const r=e[$];r.firstCreatePass&&(n.injectorIndex=e.length,Wy(r.data,n),Wy(e,null),Wy(r.blueprint,null));const i=Ky(n,e),s=n.injectorIndex;if(Jk(i)){const o=vf(i),a=wf(i,e),l=a[$].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Wy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nR(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ky(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=cR(i),null===r)return xa;if(t++,i=i[Da],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return xa}function Yy(n,e,t){!function O6(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(xc)&&(r=t[xc]),null==r&&(r=t[xc]=R6++);const i=r&eR;e.data[n+(i>>tR)]|=1<<i}(n,e,t)}function rR(n,e,t){if(t&pe.Optional||void 0!==n)return n;Xh()}function iR(n,e,t,r){if(t&pe.Optional&&void 0===r&&(r=null),!(t&(pe.Self|pe.Host))){const i=n[Ca],s=Hn(void 0);try{return i?i.get(e,r,t&pe.Optional):ek(e,r,t&pe.Optional)}finally{Hn(s)}}return rR(r,0,t)}function sR(n,e,t,r=pe.Default,i){if(null!==n){if(2048&e[oe]&&!(r&pe.Self)){const o=function V6(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[oe]&&!(512&o[oe]);){const a=oR(s,o,t,r|pe.Self,ni);if(a!==ni)return a;let l=s.parent;if(!l){const c=o[_k];if(c){const u=c.get(t,ni,r);if(u!==ni)return u}l=cR(o),o=o[Da]}s=l}return i}(n,e,t,r,ni);if(o!==ni)return o}const s=oR(n,e,t,r,ni);if(s!==ni)return s}return iR(e,t,r,i)}function oR(n,e,t,r,i){const s=function F6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xc)?n[xc]:void 0;return"number"==typeof e?e>=0?e&eR:L6:e}(t);if("function"==typeof s){if(!zk(e,n,r))return r&pe.Host?rR(i,0,r):iR(e,t,r,i);try{const o=s(r);if(null!=o||r&pe.Optional)return o;Xh()}finally{Kk()}}else if("number"==typeof s){let o=null,a=nR(n,e),l=xa,c=r&pe.Host?e[yt][mn]:null;for((-1===a||r&pe.SkipSelf)&&(l=-1===a?Ky(n,e):e[a+8],l!==xa&&lR(r,!1)?(o=e[$],a=vf(l),e=wf(l,e)):a=-1);-1!==a;){const u=e[$];if(aR(s,a,u.data)){const d=P6(a,e,t,o,r,c);if(d!==ni)return d}l=e[a+8],l!==xa&&lR(r,e[$].data[a+8]===c)&&aR(s,a,e)?(o=u,a=vf(l),e=wf(l,e)):a=-1}}return i}function P6(n,e,t,r,i,s){const o=e[$],a=o.data[n+8],u=Cf(a,o,t,null==r?ao(a)&&qy:r!=o&&0!=(3&a.type),i&pe.Host&&s===a);return null!==u?uo(e,o,u,a):ni}function Cf(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Nr(f)&&f.type===t)return l}return null}function uo(n,e,t,r){let i=n[t];const s=e.data;if(function A6(n){return n instanceof Vc}(i)){const o=i;o.resolving&&function r5(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Oe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(s[t]));const a=bf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Hn(o.injectImpl):null;zk(n,r,pe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function S6(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Tk(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&Hn(l),bf(a),o.resolving=!1,Kk()}}return i}function aR(n,e,t){return!!(t[e+(n>>tR)]&1<<n)}function lR(n,e){return!(n&pe.Self||n&pe.Host&&e)}class ka{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return sR(this._tNode,this._lView,e,tf(r),t)}}function L6(){return new ka(tn(),M())}function nn(n){return Mi(()=>{const e=n.prototype.constructor,t=e[xi]||Qy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[xi]||Qy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Qy(n){return wy(n)?()=>{const e=Qy(ne(n));return e&&e()}:lo(n)}function cR(n){const e=n[$],t=e.type;return 2===t?e.declTNode:1===t?n[mn]:null}const Oa="__parameters__";function Pa(n,e,t){return Mi(()=>{const r=function Xy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Oa)?l[Oa]:Object.defineProperty(l,Oa,{value:[]})[Oa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Uc(n,e){n.forEach(t=>Array.isArray(t)?Uc(t,e):e(t))}function dR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function If(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function lr(n,e,t){let r=La(n,e);return r>=0?n[1|r]=t:(r=~r,function G6(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Zy(n,e){const t=La(n,e);if(t>=0)return n[1|t]}function La(n,e){return function hR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const On=Mc(Pa("Optional"),8),Tf=Mc(Pa("SkipSelf"),4);function Rf(n){return 128==(128&n.flags)}var gs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(gs||{});const rv=new Map;let g9=0;const sv="__ngContext__";function yn(n,e){sr(e)?(n[sv]=e[Pc],function _9(n){rv.set(n[Pc],n)}(e)):n[sv]=e}let ov;function av(n,e){return ov(n,e)}function zc(n){const e=n[st];return qn(e)?e[st]:e}function RR(n){return NR(n[Oc])}function OR(n){return NR(n[Or])}function NR(n){for(;null!==n&&!qn(n);)n=n[Or];return n}function Ua(n,e,t,r,i){if(null!=r){let s,o=!1;qn(r)?s=r:sr(r)&&(o=!0,r=r[Pt]);const a=Ye(r);0===n&&null!==t?null==i?BR(e,t,a):ho(e,t,a,i||null,!0):1===n&&null!==t?ho(e,t,a,i||null,!0):2===n?function Vf(n,e,t){const r=Ff(n,e);r&&function F9(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function B9(n,e,t,r,i){const s=t[Zr];s!==Ye(t)&&Ua(e,n,r,s,i);for(let a=_n;a<t.length;a++){const l=t[a];qc(l[$],l,n,e,r,s)}}(e,n,s,t,i)}}function Pf(n,e,t){return n.createElement(e,t)}function FR(n,e){const t=n[Sa],r=t.indexOf(e);Nk(e),t.splice(r,1)}function cv(n,e){if(n.length<=_n)return;const t=_n+e,r=n[t];if(r){const i=r[Nc];null!==i&&i!==n&&FR(i,r),e>0&&(n[t-1][Or]=r[Or]);const s=If(n,_n+e);!function A9(n,e){qc(n,e,e[ae],2,null,null),e[Pt]=null,e[mn]=null}(r[$],r);const o=s[Xr];null!==o&&o.detachView(s[$]),r[st]=null,r[Or]=null,r[oe]&=-129}return r}function LR(n,e){if(!(256&e[oe])){const t=e[ae];e[af]?.destroy(),e[lf]?.destroy(),t.destroyNode&&qc(n,e,t,3,null,null),function k9(n){let e=n[Oc];if(!e)return uv(n[$],n);for(;e;){let t=null;if(sr(e))t=e[Oc];else{const r=e[_n];r&&(t=r)}if(!t){for(;e&&!e[Or]&&e!==n;)sr(e)&&uv(e[$],e),e=e[st];null===e&&(e=n),sr(e)&&uv(e[$],e),t=e&&e[Or]}e=t}}(e)}}function uv(n,e){if(!(256&e[oe])){e[oe]&=-129,e[oe]|=256,function P9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Vc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];ei(4,a,l);try{l.call(a)}finally{ei(5,a,l)}}else{ei(4,i,s);try{s.call(i)}finally{ei(5,i,s)}}}}}(n,e),function N9(n,e){const t=n.cleanup,r=e[Ea];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Ea]=null);const i=e[hs];if(null!==i){e[hs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[$].type&&e[ae].destroy();const t=e[Nc];if(null!==t&&qn(e[st])){t!==e[st]&&FR(t,e);const r=e[Xr];null!==r&&r.detachView(n)}!function y9(n){rv.delete(n[Pc])}(e)}}function dv(n,e,t){return function VR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Pt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===vr.None||s===vr.Emulated)return null}return Wn(r,t)}}(n,e.parent,t)}function ho(n,e,t,r,i){n.insertBefore(e,t,r,i)}function BR(n,e,t){n.appendChild(e,t)}function UR(n,e,t,r,i){null!==r?ho(n,e,t,r,i):BR(n,e,t)}function Ff(n,e){return n.parentNode(e)}let hv,mv,HR=function $R(n,e,t){return 40&n.type?Wn(n,t):null};function Lf(n,e,t,r){const i=dv(n,r,e),s=e[ae],a=function jR(n,e,t){return HR(n,e,t)}(r.parent||e[mn],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)UR(s,i,t[l],a,!1);else UR(s,i,t,a,!1);void 0!==hv&&hv(s,r,e,t,i)}function Gc(n,e){if(null!==e){const t=e.type;if(3&t)return Wn(e,n);if(4&t)return fv(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Gc(n,r);{const i=n[e.index];return qn(i)?fv(-1,i):Ye(i)}}if(32&t)return av(e,n)()||Ye(n[e.index]);{const r=GR(n,e);return null!==r?Array.isArray(r)?r[0]:Gc(zc(n[yt]),r):Gc(n,e.next)}}return null}function GR(n,e){return null!==e?n[yt][mn].projection[e.projection]:null}function fv(n,e){const t=_n+n+1;if(t<e.length){const r=e[t],i=r[$].firstChild;if(null!==i)return Gc(r,i)}return e[Zr]}function pv(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&yn(Ye(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)pv(n,e,t.child,r,i,s,!1),Ua(e,n,i,a,s);else if(32&l){const c=av(t,r);let u;for(;u=c();)Ua(e,n,i,u,s);Ua(e,n,i,a,s)}else 16&l?WR(n,e,r,t,i,s):Ua(e,n,i,a,s);t=o?t.projectionNext:t.next}}function qc(n,e,t,r,i,s){pv(t,r,n.firstChild,e,i,s,!1)}function WR(n,e,t,r,i,s){const o=t[yt],l=o[mn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ua(e,n,i,l[c],s);else{let c=l;const u=o[st];Rf(r)&&(c.flags|=128),pv(n,e,c,u,i,s,!0)}}function KR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function YR(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Ay(n,e,r),null!==i&&KR(n,e,i),null!==s&&function j9(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class JR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yx})`}}function ms(n){return n instanceof JR?n.changingThisBreaksApplicationSecurity:n}const tW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $a=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($a||{});function Yn(n){const e=function Qc(){const n=M();return n&&n[oo].sanitizer}();return e?e.sanitize($a.URL,n)||"":function Kc(n,e){const t=function X9(n){return n instanceof JR&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Yx})`)}return t===e}(n,"URL")?ms(n):function yv(n){return(n=String(n)).match(tW)?n:"unsafe:"+n}(ie(n))}class O{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xc=new O("ENVIRONMENT_INITIALIZER"),c1=new O("INJECTOR",-1),u1=new O("INJECTOR_DEF_TYPES");class d1{get(e,t=Ac){if(t===Ac){const r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return t}}function pW(...n){return{\u0275providers:f1(0,n),\u0275fromNgModule:!0}}function f1(n,...e){const t=[],r=new Set;let i;return Uc(e,s=>{const o=s;Ev(o,t,[],r)&&(i||=[],i.push(o))}),void 0!==i&&p1(i,t),t}function p1(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Cv(i,s=>{e.push(s)})}}function Ev(n,e,t,r){if(!(n=ne(n)))return!1;let i=null,s=Xx(n);const o=!s&&xe(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Xx(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Ev(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Uc(s.imports,u=>{Ev(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&p1(c,e)}if(!a){const c=lo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ae},{provide:u1,useValue:i,multi:!0},{provide:Xc,useValue:()=>C(i),multi:!0})}const l=s.providers;null==l||a||Cv(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function Cv(n,e){for(let t of n)by(t)&&(t=t.\u0275providers),Array.isArray(t)?Cv(t,e):e(t)}const gW=Ne({provide:String,useValue:Ne});function Dv(n){return null!==n&&"object"==typeof n&&gW in n}function fo(n){return"function"==typeof n}const Iv=new O("Set Injector scope."),$f={},_W={};let Sv;function Hf(){return void 0===Sv&&(Sv=new d1),Sv}class Pi{}class Tv extends Pi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mv(e,o=>this.processProvider(o)),this.records.set(c1,Ha(void 0,this)),i.has("environment")&&this.records.set(Pi,Ha(void 0,this));const s=this.records.get(Iv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(u1.multi,Ae,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ds(this),r=Hn(void 0);try{return e()}finally{ds(t),Hn(r)}}get(e,t=Ac,r=pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ik))return e[ik](this);r=tf(r);const i=ds(this),s=Hn(void 0);try{if(!(r&pe.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function EW(n){return"function"==typeof n||"object"==typeof n&&n instanceof O}(e)&&Zh(e);a=l&&this.injectableDefInScope(l)?Ha(Av(e),$f):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&pe.Self?Hf():this.parent).get(e,t=r&pe.Optional&&t===Ac?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ef]=o[ef]||[]).unshift(Nt(e)),i)throw o;return function y5(n,e,t,r){const i=n[ef];throw e[tk]&&i.unshift(e[tk]),n.message=function v5(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Nt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(f5,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ef]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Hn(s),ds(i)}}resolveInjectorInitializers(){const e=ds(this),t=Hn(void 0);try{const r=this.get(Xc.multi,Ae,pe.Self);for(const i of r)i()}finally{ds(e),Hn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=fo(e=ne(e))?e:ne(e&&e.provide);const r=function vW(n){return Dv(n)?Ha(void 0,n.useValue):Ha(_1(n),$f)}(e);if(fo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ha(void 0,$f,!0),i.factory=()=>Iy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===$f&&(t.value=_W,t.value=t.factory()),"object"==typeof t.value&&t.value&&function bW(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Av(n){const e=Zh(n),t=null!==e?e.factory:lo(n);if(null!==t)return t;if(n instanceof O)throw new D(204,!1);if(n instanceof Function)return function yW(n){const e=n.length;if(e>0)throw function jc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new D(204,!1);const t=function u5(n){return n&&(n[Jh]||n[Zx])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function _1(n,e,t){let r;if(fo(n)){const i=ne(n);return lo(i)||Av(i)}if(Dv(n))r=()=>ne(n.useValue);else if(function m1(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Iy(n.deps||[]));else if(function g1(n){return!(!n||!n.useExisting)}(n))r=()=>C(ne(n.useExisting));else{const i=ne(n&&(n.useClass||n.provide));if(!function wW(n){return!!n.deps}(n))return lo(i)||Av(i);r=()=>new i(...Iy(n.deps))}return r}function Ha(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Mv(n,e){for(const t of n)Array.isArray(t)?Mv(t,e):t&&by(t)?Mv(t.\u0275providers,e):e(t)}const zf=new O("AppId",{providedIn:"root",factory:()=>CW}),CW="ng",y1=new O("Platform Initializer"),Fi=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zc=new O("AnimationModuleType"),xv=new O("CSP nonce",{providedIn:"root",factory:()=>function Wc(){if(void 0!==mv)return mv;if(typeof document<"u")return document;throw new D(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let w1=(n,e)=>null;function b1(n,e){return w1(n,e)}class RW{}class D1{}class NW{resolveComponentFactory(e){throw function OW(n){const e=Error(`No component factory found for ${Nt(n)}.`);return e.ngComponent=n,e}(e)}}let Ga=(()=>{class n{}return n.NULL=new NW,n})();function PW(){return qa(tn(),M())}function qa(n,e){return new Lt(Wn(n,e))}let Lt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=PW,n})();function FW(n){return n instanceof Lt?n.nativeElement:n}class tu{}let Li=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function LW(){const n=M(),t=ar(tn().index,n);return(sr(t)?t:n)[ae]}(),n})(),VW=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>null}),n})();class _s{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const S1=new _s("16.1.7"),jv={};function nu(n){for(;n;){n[oe]|=64;const e=zc(n);if(ky(n)&&!e)return n;n=e}return null}function $v(n){return n.ngOriginalError}class po{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$v(e);for(;t&&$v(t);)t=$v(t);return t||null}}const M1=new O("",{providedIn:"root",factory:()=>!1});function Vi(n){return n instanceof Function?n():n}class N1 extends Ck{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){nu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,r){const i=zt(this);this.trackingVersion++;try{e(t,r)}finally{zt(i)}}destroy(){this.trackingVersion++}}let Qf=null;function P1(){return Qf??=new N1,Qf}function F1(n,e){return n[e]??P1()}function L1(n,e){const t=P1();t.hasReadASignal&&(n[e]=Qf,t.lView=n,Qf=new N1)}const le={};function V(n){V1(be(),M(),Rn()+n,!1)}function V1(n,e,t,r){if(!r)if(3==(3&e[oe])){const s=n.preOrderCheckHooks;null!==s&&_f(e,s,t)}else{const s=n.preOrderHooks;null!==s&&yf(e,s,0,t)}co(t)}function $1(n,e=null,t=null,r){const i=H1(n,e,t,r);return i.resolveInjectorInitializers(),i}function H1(n,e=null,t=null,r,i=new Set){const s=[t||Ae,pW(n)];return r=r||("object"==typeof n?void 0:Nt(n)),new Tv(s,e||Hf(),r||null,i)}let Vt=(()=>{class n{static create(t,r){if(Array.isArray(t))return $1({name:""},r,t,"");{const i=t.name??"";return $1({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ac,n.NULL=new d1,n.\u0275prov=P({token:n,providedIn:"any",factory:()=>C(c1)}),n.__NG_ELEMENT_ID__=-1,n})();function E(n,e=pe.Default){const t=M();return null===t?C(n,e):sR(tn(),t,ne(n),e)}function Hv(){throw new Error("invalid")}function Xf(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Pt]=i,d[oe]=140|r,(null!==c||n&&2048&n[oe])&&(d[oe]|=2048),Ok(d),d[st]=d[Da]=n,d[_t]=t,d[oo]=o||n&&n[oo],d[ae]=a||n&&n[ae],d[Ca]=l||n&&n[Ca]||null,d[mn]=s,d[Pc]=function m9(){return g9++}(),d[ki]=u,d[_k]=c,d[yt]=2==e.type?n[yt]:d,d}function Ka(n,e,t,r,i){let s=n.data[e];if(null===s)s=function zv(n,e,t,r,i){const s=Bk(),o=Ly(),l=n.data[e]=function s8(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Aa(){return null!==ee.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function m6(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Lc(){const n=ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ti(s,!0),s}function ru(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function z1(n,e,t,r,i){const s=F1(e,af),o=Rn(),a=2&r;try{if(co(-1),a&&e.length>me&&V1(n,e,me,!1),ei(a?2:0,i),a)s.runInContext(t,r,i);else{const c=zt(null);try{t(r,i)}finally{zt(c)}}}finally{a&&null===e[af]&&L1(e,af),co(o),ei(a?3:1,i)}}function Gv(n,e,t){if(xy(e)){const r=zt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{zt(r)}}}function qv(n,e,t){Vk()&&(function h8(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;ao(t)&&function v8(n,e,t){const r=Wn(e,n),i=G1(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Zf(n,Xf(n,i,null,o,r,e,null,n[oo].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ef(t,e),yn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=uo(e,n,a,t);yn(c,e),null!==o&&w8(0,a-i,c,l,0,o),Nr(l)&&(ar(t.index,e)[_t]=uo(e,n,a,t))}}(n,e,t,Wn(t,e)),64==(64&t.flags)&&Q1(n,e,t))}function Wv(n,e,t=Wn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function G1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Kv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Kv(n,e,t,r,i,s,o,a,l,c,u){const d=me+r,h=d+i,f=function JW(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:le);return t}(d,h),p="function"==typeof c?c():c;return f[$]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let q1=n=>null;function W1(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?K1(t,e,i,s):r.hasOwnProperty(i)&&K1(t,e,r[i],s)}return t}function K1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function cr(n,e,t,r,i,s,o,a){const l=Wn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Jv(n,t,u,r,i),ao(e)&&function l8(n,e){const t=ar(e,n);16&t[oe]||(t[oe]|=64)}(t,e.index)):3&e.type&&(r=function a8(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function Yv(n,e,t,r){if(Vk()){const i=null===r?null:{"":-1},s=function p8(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(dk(e,o.selectors,!1))if(r||(r=[]),Nr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Qv(n,e,a.length)}else r.unshift(o),Qv(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Y1(n,e,t,o,i,a),i&&function g8(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new D(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=kc(t.mergedAttrs,t.attrs)}function Y1(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Yy(Ef(t,e),n,r[c].type);!function _8(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=ru(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=kc(t.mergedAttrs,u.hostAttrs),y8(n,t,e,l,u),m8(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function o8(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=W1(d.inputs,u,l,h?h.inputs:null),c=W1(d.outputs,u,c,p);const g=null===l||null===o||uk(e)?null:b8(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function Q1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function y6(){return ee.lFrame.currentDirectiveIndex}();try{co(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];By(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&f8(l,c)}}finally{co(-1),By(o)}}function f8(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Qv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function m8(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Nr(e)&&(t[""]=n)}}function y8(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=lo(i.type)),o=new Vc(s,Nr(i),E);n.blueprint[r]=o,t[r]=o,function u8(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function d8(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,ru(n,t,i.hostVars,le),i)}function ri(n,e,t,r,i,s){const o=Wn(n,e);!function Xv(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ie(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[ae],o,s,n.value,t,r,i)}function w8(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)X1(r,t,o[a++],o[a++],o[a++])}function X1(n,e,t,r,i){const s=zt(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{zt(s)}}function b8(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Z1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function J1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];jy(t[r]),o.contentQueries(2,e[s],s)}}}function Zf(n,e){return n[Oc]?n[mk][Or]=e:n[Oc]=e,n[mk]=e,e}function Zv(n,e,t){jy(0);const r=zt(null);try{e(n,t)}finally{zt(r)}}function eO(n){return n[Ea]||(n[Ea]=[])}function tO(n){return n.cleanup||(n.cleanup=[])}function rO(n,e){const t=n[Ca],r=t?t.get(po,null):null;r&&r.handleError(e)}function Jv(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];X1(n.data[o],e[o],r,a,i)}}function Bi(n,e,t){const r=pf(e,n);!function PR(n,e,t){n.setValue(e,t)}(n[ae],r,t)}function E8(n,e){const t=ar(e,n),r=t[$];!function C8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Pt];null!==i&&null===t[ki]&&(t[ki]=b1(i,t[Ca])),ew(r,t,t[_t])}function ew(n,e,t){$y(e);try{const r=n.viewQuery;null!==r&&Zv(1,r,t);const i=n.template;null!==i&&z1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&J1(n,e),n.staticViewQueries&&Zv(2,n.viewQuery,t);const s=n.components;null!==s&&function D8(n,e){for(let t=0;t<e.length;t++)E8(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[oe]&=-5,Hy()}}let iO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new K5(t,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>new n}),n})();function Jf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=vy(i,a):2==s&&(r=vy(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function iu(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ye(s)),qn(s)){for(let a=_n;a<s.length;a++){const l=s[a],c=l[$].firstChild;null!==c&&iu(l[$],l,c,r)}s[Zr]!==s[Pt]&&r.push(s[Zr])}const o=t.type;if(8&o)iu(n,e,t.child,r);else if(32&o){const a=av(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=GR(e,t);if(Array.isArray(a))r.push(...a);else{const l=zc(e[yt]);iu(l[$],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ep(n,e,t,r=!0){const i=e[oo].rendererFactory;i.begin&&i.begin();try{sO(n,e,n.template,t)}catch(o){throw r&&rO(e,o),o}finally{i.end&&i.end(),e[oo].effectManager?.flush()}}function sO(n,e,t,r){const i=e[oe];if(256!=(256&i)){e[oo].effectManager?.flush(),$y(e);try{Ok(e),function jk(n){return ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&z1(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&_f(e,c,null)}else{const c=n.preOrderHooks;null!==c&&yf(e,c,0,null),zy(e,0)}if(function M8(n){for(let e=RR(n);null!==e;e=OR(e)){if(!e[yk])continue;const t=e[Sa];for(let r=0;r<t.length;r++){s6(t[r])}}}(e),oO(e,2),null!==n.contentQueries&&J1(n,e),o){const c=n.contentCheckHooks;null!==c&&_f(e,c)}else{const c=n.contentHooks;null!==c&&yf(e,c,1),zy(e,1)}!function ZW(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=F1(e,lf);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)co(~s);else{const o=s,a=t[++i],l=t[++i];_6(a,o),r.runInContext(l,2,e[o])}}}finally{null===e[lf]&&L1(e,lf),co(-1)}}(n,e);const a=n.components;null!==a&&lO(e,a,0);const l=n.viewQuery;if(null!==l&&Zv(2,l,r),o){const c=n.viewCheckHooks;null!==c&&_f(e,c)}else{const c=n.viewHooks;null!==c&&yf(e,c,2),zy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[oe]&=-73,Nk(e)}finally{Hy()}}}function oO(n,e){for(let t=RR(n);null!==t;t=OR(t))for(let r=_n;r<t.length;r++)aO(t[r],e)}function x8(n,e,t){aO(ar(e,n),t)}function aO(n,e){if(!function r6(n){return 128==(128&n[oe])}(n))return;const t=n[$];if(80&n[oe]&&0===e||1024&n[oe]||2===e)sO(t,n,t.template,n[_t]);else if(n[Rc]>0){oO(n,1);const i=n[$].components;null!==i&&lO(n,i,1)}}function lO(n,e,t){for(let r=0;r<e.length;r++)x8(n,e[r],t)}class su{get rootNodes(){const e=this._lView,t=e[$];return iu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_t]}set context(e){this._lView[_t]=e}get destroyed(){return 256==(256&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[st];if(qn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(cv(e,r),If(t,r))}this._attachedToViewContainer=!1}LR(this._lView[$],this._lView)}onDestroy(e){!function Fk(n,e){if(256==(256&n[oe]))throw new D(911,!1);null===n[hs]&&(n[hs]=[]),n[hs].push(e)}(this._lView,e)}markForCheck(){nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){this._lView[oe]|=128}detectChanges(){ep(this._lView[$],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function x9(n,e){qc(n,e,e[ae],2,null,null)}(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class k8 extends su{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ep(e[$],e,e[_t],!1)}checkNoChanges(){}get context(){return null}}class cO extends Ga{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xe(e);return new ou(t,this.ngModule)}}function uO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class O8{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=tf(r);const i=this.injector.get(e,jv,r);return i!==jv||t===jv?i:this.parentInjector.get(e,t,r)}}class ou extends D1{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=uO(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return uO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function M5(n){return n.map(A5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Pi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new O8(e,s):e,a=o.get(tu,null);if(null===a)throw new D(407,!1);const u={rendererFactory:a,sanitizer:o.get(VW,null),effectManager:o.get(iO,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function e8(n,e,t,r){const s=r.get(M1,!1)||t===vr.ShadowDom,o=n.selectRootElement(e,s);return function t8(n){q1(n)}(o),o}(d,r,this.componentDef.encapsulation,o):Pf(d,h,function R8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528,v=Kv(0,null,null,1,0,null,null,null,null,null,null),y=Xf(null,v,null,_,null,null,u,d,o,null,null);let I,R;$y(y);try{const j=this.componentDef;let K,ge=null;j.findHostDirectiveDefs?(K=[],ge=new Map,j.findHostDirectiveDefs(j,K,ge),K.push(j)):K=[j];const Tt=function P8(n,e){const t=n[$],r=me;return n[r]=e,Ka(t,r,2,"#host",null)}(y,f),Jt=function F8(n,e,t,r,i,s,o){const a=i[$];!function L8(n,e,t,r){for(const i of n)e.mergedAttrs=kc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Jf(e,e.mergedAttrs,!0),null!==t&&YR(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=b1(e,i[Ca]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=Xf(i,G1(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&Qv(a,n,r.length-1),Zf(i,d),i[n.index]=d}(Tt,f,j,K,y,u,d);R=Rk(v,me),f&&function B8(n,e,t,r){if(r)Ay(n,t,["ng-version",S1.full]);else{const{attrs:i,classes:s}=function x5(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Rr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ay(n,t,i),s&&s.length>0&&KR(n,t,s.join(" "))}}(d,j,f,r),void 0!==t&&function U8(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(R,this.ngContentSelectors,t),I=function V8(n,e,t,r,i,s){const o=tn(),a=i[$],l=Wn(o,i);Y1(a,i,o,t,null,r);for(let u=0;u<t.length;u++)yn(uo(i,a,o.directiveStart+u,o),i);Q1(a,i,o),l&&yn(l,i);const c=uo(i,a,o.directiveStart+o.componentOffset,o);if(n[_t]=i[_t]=c,null!==s)for(const u of s)u(c,e);return Gv(a,o,n),c}(Jt,j,K,ge,y,[j8]),ew(v,y,null)}finally{Hy()}return new N8(this.componentType,I,qa(R,y),y,R)}}class N8 extends RW{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new k8(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Jv(s[$],s,i,e,t),this.previousInputValues.set(e,t),nu(ar(this._tNode.index,s))}}get injector(){return new ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function j8(){const n=tn();mf(M()[$],n)}function De(n){let e=function dO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Nr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=tp(n.inputs),o.inputTransforms=tp(n.inputTransforms),o.declaredInputs=tp(n.declaredInputs),o.outputs=tp(n.outputs);const a=i.hostBindings;a&&G8(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&H8(n,l),c&&z8(n,c),Yh(n.inputs,i.inputs),Yh(n.declaredInputs,i.declaredInputs),Yh(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Yh(o.inputTransforms,i.inputTransforms)),Nr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===De&&(t=!1)}}e=Object.getPrototypeOf(e)}!function $8(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kc(i.hostAttrs,t=kc(t,i.hostAttrs))}}(r)}function tp(n){return n===Qr?{}:n===Ae?[]:n}function H8(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function z8(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function G8(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function np(n){return!!tw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function tw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ii(n,e,t){return n[e]=t}function vn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function go(n,e,t,r){const i=vn(n,e,t);return vn(n,e+1,r)||i}function Er(n,e,t,r){const i=M();return vn(i,Ma(),e)&&(be(),ri(ot(),i,n,e,t,r)),Er}function Za(n,e,t,r,i,s,o,a){const c=function rp(n,e,t,r,i){const s=go(n,e,t,r);return vn(n,e+2,i)||s}(n,Ri(),t,i,o);return Oi(3),c?e+ie(t)+r+ie(i)+s+ie(o)+a:le}function Pe(n,e,t,r,i,s,o,a){const l=M(),c=be(),u=n+me,d=c.firstCreatePass?function m7(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Ka(e,n,4,o||null,fs(c,a));Yv(e,t,u,fs(c,l)),mf(e,u);const d=u.tView=Kv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];ti(d,!1);const h=AO(c,l,d,n);gf()&&Lf(c,l,h,d),yn(h,l),Zf(l,l[u]=Z1(h,l,h,d)),uf(d)&&qv(c,l,d),null!=o&&Wv(l,d,a)}let AO=function MO(n,e,t,r){return ps(!0),e[ae].createComment("")};function te(n,e,t){const r=M();return vn(r,Ma(),e)&&cr(be(),ot(),r,n,e,r[ae],t,!1),te}function aw(n,e,t,r,i){const o=i?"class":"style";Jv(n,t,e.inputs[o],o,r)}function T(n,e,t,r){const i=M(),s=be(),o=me+n,a=i[ae],l=s.firstCreatePass?function b7(n,e,t,r,i,s){const o=e.consts,l=Ka(e,n,2,r,fs(o,i));return Yv(e,t,l,fs(o,s)),null!==l.attrs&&Jf(l,l.attrs,!1),null!==l.mergedAttrs&&Jf(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=xO(s,i,l,a,e,n);i[o]=c;const u=uf(l);return ti(l,!0),YR(a,c,l),32!=(32&l.flags)&&gf()&&Lf(s,i,c,l),0===function a6(){return ee.lFrame.elementDepthCount}()&&yn(c,i),function l6(){ee.lFrame.elementDepthCount++}(),u&&(qv(s,i,l),Gv(s,l,i)),null!==r&&Wv(i,l),T}function S(){let n=tn();Ly()?function Vy(){ee.lFrame.isParent=!1}():(n=n.parent,ti(n,!1));const e=n;(function u6(n){return ee.skipHydrationRootTNode===n})(e)&&function p6(){ee.skipHydrationRootTNode=null}(),function c6(){ee.lFrame.elementDepthCount--}();const t=be();return t.firstCreatePass&&(mf(t,n),xy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function M6(n){return 0!=(8&n.flags)}(e)&&aw(t,e,M(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function x6(n){return 0!=(16&n.flags)}(e)&&aw(t,e,M(),e.stylesWithoutHost,!1),S}function at(n,e,t,r){return T(n,e,t,r),S(),at}let xO=(n,e,t,r,i,s)=>(ps(!0),Pf(r,i,function Yk(){return ee.lFrame.currentNamespace}()));function Cr(){return M()}function du(n){return!!n&&"function"==typeof n.then}function OO(n){return!!n&&"function"==typeof n.subscribe}function ue(n,e,t,r){const i=M(),s=be(),o=tn();return function PO(n,e,t,r,i,s,o){const a=uf(r),c=n.firstCreatePass&&tO(n),u=e[_t],d=eO(e);let h=!0;if(3&r.type||o){const g=Wn(r,e),_=o?o(g):g,v=d.length,y=o?R=>o(Ye(R[r.index])):r.index;let I=null;if(!o&&a&&(I=function T7(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Ea],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,h=!1;else{s=LO(r,e,u,s,!1);const R=t.listen(_,i,s);d.push(s,R),c&&c.push(i,y,v,v+1)}}else s=LO(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const j=e[p[_]][p[_+1]].subscribe(s),K=d.length;d.push(s,j),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[ae],o,n,e,r),ue}function FO(n,e,t,r){try{return ei(6,e,t),!1!==t(r)}catch(i){return rO(n,i),!1}finally{ei(7,e,t)}}function LO(n,e,t,r,i){return function s(o){if(o===Function)return r;nu(n.componentOffset>-1?ar(n.index,e):e);let l=FO(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=FO(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function ce(n=1){return function w6(n){return(ee.lFrame.contextLView=function b6(n,e){for(;n>0;)e=e[Da],n--;return e}(n,ee.lFrame.contextLView))[_t]}(n)}function ap(n,e){return n<<17|e<<2}function ys(n){return n>>17&32767}function dw(n){return 2|n}function mo(n){return(131068&n)>>2}function hw(n,e){return-131069&n|e<<2}function fw(n){return 1|n}function WO(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ys(s):mo(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];F7(n[a],e)&&(l=!0,n[a+1]=r?fw(u):dw(u)),a=r?ys(u):mo(u)}l&&(n[t+1]=r?dw(s):fw(s))}function F7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&La(n,e)>=0}function hu(n,e){return function Pr(n,e,t,r){const i=M(),s=be(),o=Oi(2);s.firstUpdatePass&&function nN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Rn()],o=function tN(n,e){return e>=n.expandoStartIndex}(n,t);(function oN(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function G7(n,e,t,r){const i=function Uy(n){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fu(t=pw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=pw(i,n,e,t,r),null===s){let l=function q7(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==mo(r))return n[ys(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=pw(null,n,e,l[1],r),l=fu(l,e.attrs,r),function W7(n,e,t,r){n[ys(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function K7(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fu(r,n[s].hostAttrs,t);return fu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function N7(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ys(o),l=mo(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||La(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=ys(n[a+1]);n[r+1]=ap(h,a),0!==h&&(n[h+1]=hw(n[h+1],r)),n[a+1]=function R7(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ap(a,0),0!==a&&(n[a+1]=hw(n[a+1],r)),a=r;else n[r+1]=ap(l,0),0===a?a=r:n[l+1]=hw(n[l+1],r),l=r;c&&(n[r+1]=dw(n[r+1])),WO(n,u,r,!0),WO(n,u,r,!1),function P7(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&La(s,e)>=0&&(t[r+1]=fw(t[r+1]))}(e,u,n,r,s),o=ap(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==le&&vn(i,o,e)&&function iN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function O7(n){return 1==(1&n)}(c)?sN(l,e,t,i,mo(c),o):void 0;lp(u)||(lp(s)||function k7(n){return 2==(2&n)}(c)&&(s=sN(l,null,t,i,a,o)),function U9(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:gs.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=gs.Important),n.setStyle(t,r,i,s))}}(r,o,pf(Rn(),t),i,s))}(s,s.data[Rn()],i,i[ae],n,i[o+1]=function Z7(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Nt(ms(n)))),n}(e,t),r,o)}(n,e,null,!0),hu}function pw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=fu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),lr(n,o,!!t||e[++s]))}return void 0===n?null:n}function sN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===le&&(h=d?Ae:void 0);let f=d?Zy(h,r):u===r?h:void 0;if(c&&!lp(f)&&(f=Zy(l,r)),lp(f)&&(a=f,o))return a;const p=n[i+1];i=o?ys(p):mo(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Zy(l,r))}return a}function lp(n){return void 0!==n}function F(n,e=""){const t=M(),r=be(),i=n+me,s=r.firstCreatePass?Ka(r,i,1,e,null):r.data[i],o=aN(r,t,s,e,n);t[i]=o,gf()&&Lf(r,t,o,s),ti(s,!1)}let aN=(n,e,t,r,i)=>(ps(!0),function Nf(n,e){return n.createText(e)}(e[ae],r));function rn(n){return sn("",n,""),rn}function sn(n,e,t){const r=M(),i=function Qa(n,e,t,r){return vn(n,Ma(),t)?e+ie(t)+r:le}(r,n,e,t);return i!==le&&Bi(r,Rn(),i),sn}function gw(n,e,t,r,i){const s=M(),o=function Xa(n,e,t,r,i,s){const a=go(n,Ri(),t,i);return Oi(2),a?e+ie(t)+r+ie(i)+s:le}(s,n,e,t,r,i);return o!==le&&Bi(s,Rn(),o),gw}function mw(n,e,t,r,i,s,o){const a=M(),l=Za(a,n,e,t,r,i,s,o);return l!==le&&Bi(a,Rn(),l),mw}function _w(n,e,t){const r=M();return vn(r,Ma(),e)&&cr(be(),ot(),r,n,e,r[ae],t,!0),_w}const ol="en-US";let SN=ol;function ww(n,e,t,r,i){if(n=ne(n),Array.isArray(n))for(let s=0;s<n.length;s++)ww(n[s],e,t,r,i);else{const s=be(),o=M();let a=fo(n)?n:ne(n.provide),l=_1(n);const c=tn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(fo(n)||!n.multi){const f=new Vc(l,i,E),p=Ew(a,e,i?u:u+h,d);-1===p?(Yy(Ef(c,o),s,a),bw(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Ew(a,e,u+h,d),p=Ew(a,e,u,u+h),_=p>=0&&t[p];if(i&&!_||!i&&!(f>=0&&t[f])){Yy(Ef(c,o),s,a);const v=function yY(n,e,t,r,i){const s=new Vc(n,t,E);return s.multi=[],s.index=e,s.componentProviders=0,XN(s,i,r&&!t),s}(i?_Y:mY,t.length,i,r,l);!i&&_&&(t[p].providerFactory=v),bw(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else bw(s,n,f>-1?f:p,XN(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function bw(n,e,t,r){const i=fo(e),s=function mW(n){return!!n.useClass}(e);if(i||s){const l=(s?ne(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function XN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ew(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function mY(n,e,t,r){return Cw(this.multi,[])}function _Y(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=uo(t,t[$],this.providerFactory.index,r);s=a.slice(0,o),Cw(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Cw(i,s);return s}function Cw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function tt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function gY(n,e,t){const r=be();if(r.firstCreatePass){const i=Nr(n);ww(t,r.data,r.blueprint,i,!0),ww(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class al{}class ZN{}class Dw extends al{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cO(this);const i=ir(e);this._bootstrapComponents=Vi(i.bootstrap),this._r3Injector=H1(e,t,[{provide:al,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Iw extends ZN{constructor(e){super(),this.moduleType=e}create(e){return new Dw(this.moduleType,e,[])}}class JN extends al{constructor(e){super(),this.componentFactoryResolver=new cO(this),this.instance=null;const t=new Tv([...e.providers,{provide:al,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver}],e.parent||Hf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Sw(n,e,t=null){return new JN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let bY=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=f1(0,t.type),i=r.length>0?Sw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(C(Pi))}),n})();function eP(n){n.getStandaloneInjector=e=>e.get(bY).getOrCreateStandaloneInjector(n)}function cP(n,e,t,r,i,s){const o=e+t;return vn(n,o,i)?ii(n,o+1,s?r.call(s,i):r(i)):function vu(n,e){const t=n[e];return t===le?void 0:t}(n,o+1)}function gP(n,e,t){const r=n+me,i=M(),s=function Ta(n,e){return n[e]}(i,r);return function wu(n,e){return n[$].data[e].pure}(i,r)?cP(i,kn(),e,s.transform,t,s):s.transform(t)}function Aw(n){return e=>{setTimeout(n,void 0,e)}}const Qe=class HY extends Ue{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Aw(s),i&&(i=Aw(i)),o&&(o=Aw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof pn&&e.add(a),a}};function zY(){return this._results[Symbol.iterator]()}class Mw{get changes(){return this._changes||(this._changes=new Qe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Mw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=zY)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function wr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function H6(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=WY,n})();const GY=ai,qY=class extends GY{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,r){const o=this._declarationTContainer.tView,a=Xf(this._declarationLView,o,e,4096&this._declarationLView[oe]?4096:16,null,o.declTNode,null,null,null,t||null,r||null);a[Nc]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[Xr];return null!==c&&(a[Xr]=c.createEmbeddedView(o)),ew(o,a,e),new su(a)}};function WY(){return fp(tn(),M())}function fp(n,e){return 4&n.type?new qY(e,n,qa(n,e)):null}let Dr=(()=>{class n{}return n.__NG_ELEMENT_ID__=eQ,n})();function eQ(){return bP(tn(),M())}const tQ=Dr,vP=class extends tQ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return qa(this._hostTNode,this._hostLView)}get injector(){return new ka(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ky(this._hostTNode,this._hostLView);if(Jk(e)){const t=wf(e,this._hostLView),r=vf(e);return new ka(t[$].data[r+8],t)}return new ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=wP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function Bc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new ou(xe(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const _=(o?c:this.parentInjector).get(Pi,null);_&&(s=_)}xe(l.componentType??{});const f=l.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView,s=i[$];if(function i6(n){return qn(n[st])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[st],u=new vP(c,c[mn],c[st]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;if(function R9(n,e,t,r){const i=_n+r,s=t.length;r>0&&(t[i-1][Or]=e),r<s-_n?(e[Or]=t[i],dR(t,_n+r,e)):(t.push(e),e[Or]=null),e[st]=t;const o=e[Nc];null!==o&&t!==o&&function O9(n,e){const t=n[Sa];e[yt]!==e[st][st][yt]&&(n[yk]=!0),null===t?n[Sa]=[e]:t.push(e)}(o,e);const a=e[Xr];null!==a&&a.insertView(n),e[oe]|=128}(s,i,a,o),!r){const l=fv(o,a),c=i[ae],u=Ff(c,a[Zr]);null!==u&&function M9(n,e,t,r,i,s){r[Pt]=i,r[mn]=e,qc(n,r,t,1,i,s)}(s,a[mn],c,i,u,l)}return e.attachToViewContainerRef(),dR(kw(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=wP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=cv(this._lContainer,t);r&&(If(kw(this._lContainer),t),LR(r[$],r))}detach(e){const t=this._adjustIndex(e,-1),r=cv(this._lContainer,t);return r&&null!=If(kw(this._lContainer),t)?new su(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function wP(n){return n[8]}function kw(n){return n[8]||(n[8]=[])}function bP(n,e){let t;const r=e[n.index];return qn(r)?t=r:(t=Z1(r,e,null,n),e[n.index]=t,Zf(e,t)),EP(t,e,n,r),new vP(t,n,e)}let EP=function CP(n,e,t,r){if(n[Zr])return;let i;i=8&t.type?Ye(r):function nQ(n,e){const t=n[ae],r=t.createComment(""),i=Wn(e,n);return ho(t,Ff(t,i),r,function L9(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Zr]=i};class Rw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Rw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ow{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ow(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==xP(e,t).matches&&this.queries[t].setDirty()}}class DP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Nw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Nw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Pw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Pw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,sQ(t,s)),this.matchTNodeWithReadOption(e,t,Cf(t,e,s,!1,!1))}else r===ai?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Cf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Lt||i===Dr||i===ai&&4&t.type)this.addMatch(t.index,-2);else{const s=Cf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function sQ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function aQ(n,e,t,r){return-1===t?function oQ(n,e){return 11&n.type?qa(n,e):4&n.type?fp(n,e):null}(e,n):-2===t?function lQ(n,e,t){return t===Lt?qa(e,n):t===ai?fp(e,n):t===Dr?bP(e,n):void 0}(n,e,r):uo(n,n[$],t,e)}function IP(n,e,t,r){const i=e[Xr].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:aQ(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Fw(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=IP(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=_n;d<u.length;d++){const h=u[d];h[Nc]===h[st]&&Fw(h[$],h,c,r)}if(null!==u[Sa]){const d=u[Sa];for(let h=0;h<d.length;h++){const f=d[h];Fw(f[$],f,c,r)}}}}}return r}function Lw(n){const e=M(),t=be(),r=Hk();jy(r+1);const i=xP(t,r);if(n.dirty&&function n6(n){return 4==(4&n[oe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Fw(t,e,r,[]):IP(t,e,i,r);n.reset(s,FW),n.notifyOnChanges()}return!0}return!1}function SP(n,e,t){const r=be();r.firstCreatePass&&(function MP(n,e,t){null===n.queries&&(n.queries=new Nw),n.queries.track(new Pw(e,t))}(r,new DP(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function AP(n,e,t){const r=new Mw(4==(4&t));(function i8(n,e,t,r){const i=eO(e);i.push(t),n.firstCreatePass&&tO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Xr]&&(e[Xr]=new Ow),e[Xr].queries.push(new Rw(r))}(r,M(),e)}function xP(n,e){return n.queries.getByIndex(e)}const zw=new O("Application Initializer");let Gw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=z(zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(du(s))t.push(s);else if(OO(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WP=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const li=new O("LocaleId",{providedIn:"root",factory:()=>z(li,pe.Optional|pe.SkipSelf)||function RQ(){return typeof $localize<"u"&&$localize.locale||ol}()});let KP=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PQ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let YP=(()=>{class n{compileModuleSync(t){return new Iw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Vi(ir(t).declarations).reduce((o,a)=>{const l=xe(a);return l&&o.push(new ou(l)),o},[]);return new PQ(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZP(...n){}class de{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function VQ(){const n="function"==typeof je.requestAnimationFrame;let e=je[n?"requestAnimationFrame":"setTimeout"],t=je[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function jQ(n){const e=()=>{!function UQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ww(n),n.isCheckStableRunning=!0,qw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ww(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return JP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),eF(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return JP(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),eF(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Ww(n),qw(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!de.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(de.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,BQ,ZP,ZP);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const BQ={};function qw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ww(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function JP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function eF(n){n._nesting--,qw(n)}class $Q{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const tF=new O("",{providedIn:"root",factory:nF});function nF(){const n=z(de);let e=!0;return _y(new Be(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Be(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{de.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Wx()))}const rF=new O(""),gp=new O("");let Qw,Kw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qw||(function HQ(n){Qw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(C(de),C(Yw),C(gp))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Yw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Qw?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vs=null;const iF=new O("AllowMultipleToken"),Xw=new O("PlatformDestroyListeners"),Zw=new O("appBootstrapListener");class oF{constructor(e,t){this.name=e,this.token=t}}function lF(n,e,t=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=Jw();if(!o||o.injector.get(iF,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function qQ(n){if(vs&&!vs.get(iF,!1))throw new D(400,!1);(function sF(){!function q5(n){Dk=n}(()=>{throw new D(600,!1)})})(),vs=n;const e=n.get(uF);(function aF(n){n.get(y1,null)?.forEach(t=>t())})(n)}(function cF(n=[],e){return Vt.create({name:e,providers:[{provide:Iv,useValue:"platform"},{provide:Xw,useValue:new Set([()=>vs=null])},...n]})}(a,r))}return function KQ(n){const e=Jw();if(!e)throw new D(401,!1);return e}()}}function Jw(){return vs?.get(uF)??null}let uF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function YQ(n="zone.js",e){return"noop"===n?new $Q:"zone.js"===n?new de(e):n}(r?.ngZone,function dF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function wY(n,e,t){return new Dw(n,e,t)}(t.moduleType,this.injector,function mF(n){return[{provide:de,useFactory:n},{provide:Xc,multi:!0,useFactory:()=>{const e=z(XQ,{optional:!0});return()=>e.initialize()}},{provide:gF,useFactory:QQ},{provide:tF,useFactory:nF}]}(()=>i)),o=s.injector.get(po,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{mp(this._modules,s),a.unsubscribe()})}),function hF(n,e,t){try{const r=t();return du(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Gw);return a.runInitializers(),a.donePromise.then(()=>(function TN(n){yr(n,"Expected localeId to be defined"),"string"==typeof n&&(SN=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(li,ol)||ol),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=fF({},r);return function zQ(n,e,t){const r=new Iw(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(ws);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new D(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Xw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(C(Vt))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function fF(n,e){return Array.isArray(e)?e.reduce(fF,n):{...n,...e}}let ws=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(gF),this.zoneIsStable=z(tF),this.componentTypes=[],this.components=[],this.isStable=z(KP).hasPendingTasks.pipe(Yr(t=>t?Q(!1):this.zoneIsStable),Kx(),Wx()),this._injector=z(Pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof D1;if(!this._injector.get(Gw).done)throw!i&&function ba(n){const e=xe(n)||gn(n)||Gn(n);return null!==e&&e.standalone}(t),new D(405,!1);let o;o=i?t:this._injector.get(Ga).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function GQ(n){return n.isBoundToModule}(o)?void 0:this._injector.get(al),c=o.create(Vt.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(rF,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),mp(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;mp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Zw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const gF=new O("",{providedIn:"root",factory:()=>z(po).handleError.bind(void 0)});function QQ(){const n=z(de),e=z(po);return t=>n.runOutsideAngular(()=>e.handleError(t))}let XQ=(()=>{class n{constructor(){this.zone=z(de),this.applicationRef=z(ws)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let _p=(()=>{class n{}return n.__NG_ELEMENT_ID__=JQ,n})();function JQ(n){return function eX(n,e,t){if(ao(n)&&!t){const r=ar(n.index,e);return new su(r,r)}return 47&n.type?new su(e[yt],e):null}(tn(),M(),16==(16&n))}class wF{constructor(){}supports(e){return np(e)}create(e){return new oX(e)}}const sX=(n,e)=>e;class oX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<EF(r,i,s)?t:r,a=EF(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!np(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Z8(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new aX(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new bF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class aX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class bF{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new lX,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EF(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class CF{constructor(){}supports(e){return e instanceof Map||tw(e)}create(){return new cX}}class cX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||tw(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new uX(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class uX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DF(){return new wp([new wF])}let wp=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DF()),deps:[[n,new Tf,new On]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new D(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:DF}),n})();function IF(){return new Eu([new CF])}let Eu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||IF()),deps:[[n,new Tf,new On]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new D(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:IF}),n})();const fX=lF(null,"core",[]);let pX=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(C(ws))},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({}),n})();let ob=null;function bs(){return ob}class SX{}const Ie=new O("DocumentToken");let ab=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return z(AX)},providedIn:"platform"}),n})();const TX=new O("Location Initialized");let AX=(()=>{class n extends ab{constructor(){super(),this._doc=z(Ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bs().getBaseHref(this._doc)}onPopState(t){const r=bs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=bs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function lb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function RF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ui(n){return n&&"?"!==n[0]?"?"+n:n}let vo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return z(NF)},providedIn:"root"}),n})();const OF=new O("appBaseHref");let NF=(()=>{class n extends vo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ab),C(OF,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MX=(()=>{class n extends vo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=lb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ab),C(OF,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Cu=(()=>{class n{constructor(t){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function RX(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(RF(PF(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ui(r))}normalize(t){return n.stripTrailingSlash(function kX(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,PF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ui(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ui,n.joinWithSlash=lb,n.stripTrailingSlash=RF,n.\u0275fac=function(t){return new(t||n)(C(vo))},n.\u0275prov=P({token:n,factory:function(){return function xX(){return new Cu(C(vo))}()},providedIn:"root"}),n})();function PF(n){return n.replace(/\/index.html$/,"")}class vZ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Su=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new vZ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),qF(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{qF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(Dr),E(ai),E(wp))},n.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qF(n,e){n.context.$implicit=e.item}let Rp=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(Dr),E(ai))},n.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class wZ{constructor(){this.$implicit=null,this.ngIf=null}}function WF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Nt(e)}'.`)}let YF=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:gs.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(E(Lt),E(Eu),E(Li))},n.\u0275dir=J({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),QF=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=XF}transform(t,r=XF){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function jZ(n,e){return{key:n,value:e}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(E(Eu,16))},n.\u0275pipe=zn({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function XF(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let GZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({}),n})();const ZF="browser";function JF(n){return"server"===n}let QZ=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>new XZ(C(Ie),window)}),n})();class XZ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ZZ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=eL(this.window.history)||eL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function eL(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class EJ extends SX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ib extends EJ{static makeCurrent(){!function IX(n){ob||(ob=n)}(new Ib)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function CJ(){return Au=Au||document.querySelector("base"),Au?Au.getAttribute("href"):null}();return null==t?null:function DJ(n){Pp=Pp||document.createElement("a"),Pp.setAttribute("href",n);const e=Pp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function mZ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Pp,Au=null,SJ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Sb=new O("EventManagerPlugins");let sL=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(C(Sb),C(de))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class oL{constructor(e){this._doc=e}}const Tb="ng-app-id";let aL=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=JF(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Tb}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Tb),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Tb,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(C(Ie),C(zf),C(xv,8),C(Fi))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Ab={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mb=/%COMP%/g,xJ=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function cL(n,e){return e.map(t=>t.replace(Mb,n))}let xb=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=JF(a),this.defaultRenderer=new kb(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vr.ShadowDom&&(r={...r,encapsulation:vr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof dL?i.applyToHost(t):i instanceof Rb&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case vr.Emulated:s=new dL(l,c,r,this.appId,u,o,a,d);break;case vr.ShadowDom:return new NJ(l,c,t,r,o,a,this.nonce,d);default:s=new Rb(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(C(sL),C(aL),C(zf),C(xJ),C(Ie),C(Fi),C(de),C(xv))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class kb{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ab[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(uL(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(uL(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ab[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ab[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(gs.DashCase|gs.Important)?e.style.setProperty(t,r,i&gs.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&gs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=bs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function uL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class NJ extends kb{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cL(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rb extends kb{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?cL(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dL extends Rb{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function kJ(n){return"_ngcontent-%COMP%".replace(Mb,n)}(c),this.hostAttr=function RJ(n){return"_nghost-%COMP%".replace(Mb,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let PJ=(()=>{class n extends oL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(C(Ie))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const hL=["alt","control","meta","shift"],FJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let VJ=(()=>{class n extends oL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),hL.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=FJ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hL.forEach(o=>{o!==i&&(0,LJ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(C(Ie))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const pL=[{provide:Fi,useValue:ZF},{provide:y1,useValue:function BJ(){Ib.makeCurrent()},multi:!0},{provide:Ie,useFactory:function jJ(){return function G9(n){mv=n}(document),document},deps:[]}],$J=lF(fX,"browser",pL),HJ=new O(""),gL=[{provide:gp,useClass:class IJ{addToWindow(e){je.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new D(5103,!1);return s},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(r=>{const i=je.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?bs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:rF,useClass:Kw,deps:[de,Yw,gp]},{provide:Kw,useClass:Kw,deps:[de,Yw,gp]}],mL=[{provide:Iv,useValue:"root"},{provide:po,useFactory:function UJ(){return new po},deps:[]},{provide:Sb,useClass:PJ,multi:!0,deps:[Ie,de,Fi]},{provide:Sb,useClass:VJ,multi:!0,deps:[Ie]},xb,aL,sL,{provide:tu,useExisting:xb},{provide:class JZ{},useClass:SJ,deps:[]},[]];let _L=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:zf,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(C(HJ,12))},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:[...mL,...gL],imports:[GZ,pX]}),n})(),yL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(C(Ie))},n.\u0275prov=P({token:n,factory:function(t){let r=null;return r=t?new t:function GJ(){return new yL(C(Ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:XJ}=Array,{getPrototypeOf:ZJ,prototype:JJ,keys:eee}=Object;function EL(n){if(1===n.length){const e=n[0];if(XJ(e))return{args:e,keys:null};if(function tee(n){return n&&"object"==typeof n&&ZJ(n)===JJ}(e)){const t=eee(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:nee}=Array;function Nb(n){return we(e=>function ree(n,e){return nee(e)?n(...e):n(e)}(n,e))}function CL(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Fp(...n){const e=Tc(n),t=Gx(n),{args:r,keys:i}=EL(n);if(0===r.length)return Ht([],e);const s=new Be(function iee(n,e,t=cs){return r=>{DL(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)DL(e,()=>{const c=Ht(n[l],e);let u=!1;c.subscribe(it(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>CL(i,o):cs));return t?s.pipe(Nb(t)):s}function DL(n,e,t){n?Ai(t,n,e):e()}const Lp=Ic(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Vp(...n){return function see(){return va(1)}()(Ht(n,Tc(n)))}function Bp(n){return new Be(e=>{xn(n()).subscribe(e)})}function Mu(n,e){const t=ye(n)?n:()=>n,r=i=>i.error(t());return new Be(e?i=>e.schedule(r,0,i):r)}function Pb(){return mt((n,e)=>{let t=null;n._refCount++;const r=it(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class IL extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,xx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pn;const t=this.getSubject();e.add(this.source.subscribe(it(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pn.EMPTY)}return e}refCount(){return Pb()(this)}}function dr(n){return n<=0?()=>Kr:mt((e,t)=>{let r=0;e.subscribe(it(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Up(...n){const e=Tc(n);return mt((t,r)=>{(e?Vp(n,t,e):Vp(n,t)).subscribe(r)})}function Ln(n,e){return mt((t,r)=>{let i=0;t.subscribe(it(r,s=>n.call(e,s,i++)&&r.next(s)))})}function jp(n){return mt((e,t)=>{let r=!1;e.subscribe(it(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function SL(n=oee){return mt((e,t)=>{let r=!1;e.subscribe(it(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oee(){return new Lp}function wo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):cs,dr(1),t?jp(e):SL(()=>new Lp))}function xu(n,e){return ye(e)?$t(n,e,1):$t(n,1)}function wn(n,e,t){const r=ye(n)||e||t?{next:n,error:e,complete:t}:n;return r?mt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(it(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):cs}function bo(n){return mt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(it(t,void 0,void 0,o=>{s=xn(n(o,bo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Fb(n){return n<=0?()=>Kr:mt((e,t)=>{let r=[];e.subscribe(it(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Lb(n){return mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const he="primary",ku=Symbol("RouteTitle");class dee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hl(n){return new dee(n)}function hee(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ci(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!TL(n[i],e[i]))return!1;return!0}function TL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function AL(n){return n.length>0?n[n.length-1]:null}function Cs(n){return function QJ(n){return!!n&&(n instanceof Be||ye(n.lift)&&ye(n.subscribe))}(n)?n:du(n)?Ht(Promise.resolve(n)):Q(n)}const pee={exact:function kL(n,e,t){if(!Eo(n.segments,e.segments)||!$p(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!kL(n.children[r],e.children[r],t))return!1;return!0},subset:RL},ML={exact:function gee(n,e){return ci(n,e)},subset:function mee(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>TL(n[t],e[t]))},ignored:()=>!0};function xL(n,e,t){return pee[t.paths](n.root,e.root,t.matrixParams)&&ML[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function RL(n,e,t){return OL(n,e,e.segments,t)}function OL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Eo(i,t)||e.hasChildren()||!$p(i,t,r))}if(n.segments.length===t.length){if(!Eo(n.segments,t)||!$p(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!RL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Eo(n.segments,i)&&$p(n.segments,i,r)&&n.children[he])&&OL(n.children[he],e,s,r)}}function $p(n,e,t){return e.every((r,i)=>ML[t](n[i].parameters,r.parameters))}class fl{constructor(e=new Fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hl(this.queryParams)),this._queryParamMap}toString(){return vee.serialize(this)}}class Fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hp(this)}}class Ru{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hl(this.parameters)),this._parameterMap}toString(){return FL(this)}}function Eo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return new Vb},providedIn:"root"}),n})();class Vb{parse(e){const t=new xee(e);return new fl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nu(e.root,!0)}`,r=function Eee(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zp(t)}=${zp(i)}`).join("&"):`${zp(t)}=${zp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function wee(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vee=new Vb;function Hp(n){return n.segments.map(e=>FL(e)).join("/")}function Nu(n,e){if(!n.hasChildren())return Hp(n);if(e){const t=n.children[he]?Nu(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==he&&r.push(`${i}:${Nu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function yee(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===he?[Nu(n.children[he],!1)]:[`${i}:${Nu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${Hp(n)}/${t[0]}`:`${Hp(n)}/(${t.join("//")})`}}function NL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zp(n){return NL(n).replace(/%3B/gi,";")}function Bb(n){return NL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gp(n){return decodeURIComponent(n)}function PL(n){return Gp(n.replace(/\+/g,"%20"))}function FL(n){return`${Bb(n.path)}${function bee(n){return Object.keys(n).map(e=>`;${Bb(e)}=${Bb(n[e])}`).join("")}(n.parameters)}`}const Cee=/^[^\/()?;#]+/;function Ub(n){const e=n.match(Cee);return e?e[0]:""}const Dee=/^[^\/()?;=#]+/,See=/^[^=?&#]+/,Aee=/^[^&#]+/;class xee{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new Fe(e,t)),r}parseSegment(){const e=Ub(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Ru(Gp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Iee(n){const e=n.match(Dee);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ub(this.remaining);i&&(r=i,this.capture(r))}e[Gp(t)]=Gp(r)}parseQueryParam(e){const t=function Tee(n){const e=n.match(See);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Mee(n){const e=n.match(Aee);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=PL(t),s=PL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ub(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[he]:new Fe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function LL(n){return n.segments.length>0?new Fe([],{[he]:n}):n}function VL(n){const e={};for(const r of Object.keys(n.children)){const s=VL(n.children[r]);if(r===he&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function kee(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new Fe(n.segments.concat(e.segments),e.children)}return n}(new Fe(n.segments,e))}function Co(n){return n instanceof fl}function BL(n){let e;const i=LL(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Fe(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function UL(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return jb(i,i,i,t,r);const s=function Oee(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $L(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $L(t,e,r)}(e);if(s.toRoot())return jb(i,i,new Fe([],{}),t,r);const o=function Nee(n,e,t){if(n.isAbsolute)return new Wp(e,!0,0);if(!t)return new Wp(e,!1,NaN);if(null===t.parent)return new Wp(t,!0,0);const r=qp(n.commands[0])?0:1;return function Pee(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new Wp(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?Fu(o.segmentGroup,o.index,s.commands):HL(o.segmentGroup,o.index,s.commands);return jb(i,o.segmentGroup,a,t,r)}function qp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pu(n){return"object"==typeof n&&null!=n&&n.outlets}function jb(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:jL(n,e,t);const a=LL(VL(o));return new fl(a,s,i)}function jL(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:jL(s,e,t)}),new Fe(n.segments,r)}class $L{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qp(r[0]))throw new D(4003,!1);const i=r.find(Pu);if(i&&i!==AL(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function HL(n,e,t){if(n||(n=new Fe([],{})),0===n.segments.length&&n.hasChildren())return Fu(n,e,t);const r=function Lee(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Pu(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!GL(l,c,o))return s;r+=2}else{if(!GL(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Fe(n.segments.slice(0,r.pathIndex),{});return s.children[he]=new Fe(n.segments.slice(r.pathIndex),n.children),Fu(s,0,i)}return r.match&&0===i.length?new Fe(n.segments,{}):r.match&&!n.hasChildren()?$b(n,e,t):r.match?Fu(n,0,i):$b(n,e,t)}function Fu(n,e,t){if(0===t.length)return new Fe(n.segments,{});{const r=function Fee(n){return Pu(n[0])?n[0].outlets:{[he]:n}}(t),i={};if(!r[he]&&n.children[he]&&1===n.numberOfChildren&&0===n.children[he].segments.length){const s=Fu(n.children[he],e,t);return new Fe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=HL(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Fe(n.segments,i)}}function $b(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Pu(s)){const l=Vee(s.outlets);return new Fe(r,l)}if(0===i&&qp(t[0])){r.push(new Ru(n.segments[e].path,zL(t[0]))),i++;continue}const o=Pu(s)?s.outlets[he]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&qp(a)?(r.push(new Ru(o,zL(a))),i+=2):(r.push(new Ru(o,{})),i++)}return new Fe(r,{})}function Vee(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=$b(new Fe([],{}),0,r))}),e}function zL(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function GL(n,e,t){return n==t.path&&ci(e,t.parameters)}const Lu="imperative";class ui{constructor(e,t){this.id=e,this.url=t}}class Hb extends ui{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Do extends ui{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kp extends ui{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vu extends ui{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class zb extends ui{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bee extends ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uee extends ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jee extends ui{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ee extends ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hee extends ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zee{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gee{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qee{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wee{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kee{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yee{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qee{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bu,this.attachRef=null}}let Bu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Qee,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class WL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qb(e,this._root).map(t=>t.value)}}function Gb(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gb(n,t);if(r)return r}return null}function qb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qb(n,t);if(r.length)return r.unshift(e),r}return[]}class Hi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class KL extends WL{constructor(e,t){super(e),this.snapshot=t,Wb(this,e)}toString(){return this.snapshot.toString()}}function YL(n,e){const t=function Xee(n,e){const o=new Yp([],{},{},"",{},he,e,null,{});return new XL("",new Hi(o,[]))}(0,e),r=new tr([new Ru("",{})]),i=new tr({}),s=new tr({}),o=new tr({}),a=new tr(""),l=new gl(r,i,o,a,s,he,e,t.root);return l.snapshot=t.root,new KL(new Hi(l,[]),t)}class gl{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(we(c=>c[ku]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(e=>hl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(e=>hl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QL(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Zee(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Yp{get title(){return this.data?.[ku]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XL extends WL{constructor(e,t){super(t),this.url=e,Wb(this,t)}toString(){return ZL(this._root)}}function Wb(n,e){e.value._routerState=n,e.children.forEach(t=>Wb(n,t))}function ZL(n){const e=n.children.length>0?` { ${n.children.map(ZL).join(", ")} } `:"";return`${n.value}${e}`}function Kb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ci(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ci(e.params,t.params)||n.paramsSubject.next(t.params),function fee(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ci(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ci(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yb(n,e){const t=ci(n.params,e.params)&&function _ee(n,e){return Eo(n,e)&&n.every((t,r)=>ci(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Yb(n.parent,e.parent))}let Qb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=z(Bu),this.location=z(Dr),this.changeDetector=z(_p),this.environmentInjector=z(Pi),this.inputBinder=z(Qp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Jee(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[or]}),n})();class Jee{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gl?this.route:e===Bu?this.childContexts:this.parent.get(e,t)}}const Qp=new O("");let JL=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Fp([r.queryParams,r.params,r.data]).pipe(Yr(([s,o,a],l)=>(a={...s,...o,...a},0===l?Q(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function DX(n){const e=xe(n);if(!e)return null;const t=new ou(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function Uu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function tte(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uu(n,r,i);return Uu(n,r)})}(n,e,t);return new Hi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uu(n,a)),o}}const r=function nte(n){return new gl(new tr(n.url),new tr(n.params),new tr(n.queryParams),new tr(n.fragment),new tr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Uu(n,s));return new Hi(r,i)}}const Xb="ngNavigationCancelingError";function e2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=t2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function t2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Xb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function n2(n){return r2(n)&&Co(n.url)}function r2(n){return n&&n[Xb]}let s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rr({type:n,selectors:[["ng-component"]],standalone:!0,features:[eP],decls:1,vars:0,template:function(t,r){1&t&&at(0,"router-outlet")},dependencies:[Qb],encapsulation:2}),n})();function Zb(n){const e=n.children&&n.children.map(Zb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=s2),t}function Ur(n){return n.outlet||he}function ju(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class cte{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Kb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=pl(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=pl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=pl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=pl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yee(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wee(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Kb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Kb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ju(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class o2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xp{constructor(e,t){this.component=e,this.route=t}}function ute(n,e,t){const r=n._root;return $u(r,e?e._root:null,t,[r.value])}function ml(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function c5(n){return null!==Zh(n)}(n)?e.get(n):n:r}function $u(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=pl(e);return n.children.forEach(o=>{(function hte(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function fte(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(n.url,e.url)||!ci(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yb(n,e)||!ci(n.queryParams,e.queryParams);default:return!Yb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new o2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$u(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xp(a.outlet.component,o))}else o&&Hu(e,a,i),i.canActivateChecks.push(new o2(r)),$u(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Hu(a,t.getContext(o),i)),i}function Hu(n,e,t){const r=pl(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Hu(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Xp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zu(n){return"function"==typeof n}function a2(n){return n instanceof Lp||"EmptyError"===n?.name}const Zp=Symbol("INITIAL_VALUE");function _l(){return Yr(n=>Fp(n.map(e=>e.pipe(dr(1),Up(Zp)))).pipe(we(e=>{for(const t of e)if(!0!==t){if(t===Zp)return Zp;if(!1===t||t instanceof fl)return t}return!0}),Ln(e=>e!==Zp),dr(1)))}function l2(n){return Sx(wn(e=>{if(Co(e))throw e2(0,e)}),we(e=>!0===e))}class Jp{constructor(e){this.segmentGroup=e||null}}class c2{constructor(e){this.urlTree=e}}function yl(n){return Mu(new Jp(n))}function u2(n){return Mu(new c2(n))}class Ote{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new D(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[he])return Mu(new D(4e3,!1));i=i.children[he]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new fl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Fe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Jb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nte(n,e,t,r,i){const s=eE(n,e,t);return s.matched?(r=function rte(n,e){return n.providers&&!n._injector&&(n._injector=Sw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function xte(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(o=>{const a=ml(o,n);return Cs(function vte(n){return n&&zu(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(_l(),l2()):Q(!0)}(r,e,t).pipe(we(o=>!0===o?s:{...Jb}))):Q(s)}function eE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Jb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||hee)(t,n,e);if(!i)return{...Jb};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function d2(n,e,t,r){return t.length>0&&function Lte(n,e,t){return t.some(r=>eg(n,e,r)&&Ur(r)!==he)}(n,t,r)?{segmentGroup:new Fe(e,Fte(r,new Fe(t,n.children))),slicedSegments:[]}:0===t.length&&function Vte(n,e,t){return t.some(r=>eg(n,e,r))}(n,t,r)?{segmentGroup:new Fe(n.segments,Pte(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Fe(n.segments,n.children),slicedSegments:t}}function Pte(n,e,t,r,i){const s={};for(const o of r)if(eg(n,t,o)&&!i[Ur(o)]){const a=new Fe([],{});s[Ur(o)]=a}return{...i,...s}}function Fte(n,e){const t={};t[he]=e;for(const r of n)if(""===r.path&&Ur(r)!==he){const i=new Fe([],{});t[Ur(r)]=i}return t}function eg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class $te{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ote(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,!1)}recognize(){const e=d2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(bo(t=>{if(t instanceof c2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Jp?this.noMatchError(t):t}),we(t=>{const r=new Yp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new Hi(r,t),s=new XL("",i),o=function Ree(n,e,t=null,r=null){return UL(BL(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,he).pipe(bo(r=>{throw r instanceof Jp?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=QL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ht(i).pipe(xu(s=>{const o=r.children[s],a=function ate(n,e){const t=n.filter(r=>Ur(r)===e);return t.push(...n.filter(r=>Ur(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function lee(n,e){return mt(function aee(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(it(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),jp(null),function cee(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):cs,Fb(1),t?jp(e):SL(()=>new Lp))}(),$t(s=>{if(null===s)return yl(r);const o=h2(s);return function Hte(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Q(o)}))}processSegment(e,t,r,i,s,o){return Ht(t).pipe(xu(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(bo(l=>{if(l instanceof Jp)return Q(null);throw l}))),wo(a=>!!a),bo(a=>{if(a2(a))return function Ute(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?Q([]):yl(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function Bte(n,e,t,r){return!!(Ur(n)===r||r!==he&&eg(e,t,n))&&("**"===n.path||eE(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):yl(i):yl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?u2(s):this.applyRedirects.lineralizeSegments(r,s).pipe($t(o=>{const a=new Fe(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=eE(t,i,s);if(!a)return yl(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?u2(d):this.applyRedirects.lineralizeSegments(i,d).pipe($t(h=>this.processSegment(e,r,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?AL(i).parameters:{};a=Q({snapshot:new Yp(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f2(r),Ur(r),r.component??r._loadedComponent??null,r,p2(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Nte(t,r,i,e).pipe(we(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new Yp(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f2(r),Ur(r),r.component??r._loadedComponent??null,r,p2(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Yr(l=>null===l?yl(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Yr(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=d2(t,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(we(v=>null===v?null:[new Hi(d,v)]));if(0===c.length&&0===g.length)return Q([new Hi(d,[])]);const _=Ur(r)===s;return this.processSegment(u,c,p,g,_?he:s,!0).pipe(we(v=>[new Hi(d,v)]))}))))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):function Mte(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(o=>{const a=ml(o,n);return Cs(function gte(n){return n&&zu(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(_l(),l2())}(e,t,r).pipe($t(i=>i?this.configLoader.loadChildren(e,t).pipe(wn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Rte(n){return Mu(t2(!1,3))}())):Q({routes:[],injector:e})}}function zte(n){const e=n.value.routeConfig;return e&&""===e.path}function h2(n){const e=[],t=new Set;for(const r of n){if(!zte(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=h2(r.children);e.push(new Hi(r.value,i))}return e.filter(r=>!t.has(r))}function f2(n){return n.data||{}}function p2(n){return n.resolve||{}}function g2(n){return"string"==typeof n.title||null===n.title}function tE(n){return Yr(e=>{const t=n(e);return t?Ht(t).pipe(we(()=>e)):Q(e)})}const vl=new O("ROUTES");let nE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(YP)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Cs(t.loadComponent()).pipe(we(m2),wn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Lb(()=>{this.componentLoaders.delete(t)})),i=new IL(r,()=>new Ue).pipe(Pb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(we(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c;return Array.isArray(a)?c=a:(l=a.create(t).injector,c=l.get(vl,[],pe.Self|pe.Optional).flat()),{routes:c.map(Zb),injector:l}}),Lb(()=>{this.childrenLoaders.delete(r)})),o=new IL(s,()=>new Ue).pipe(Pb());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Cs(t()).pipe(we(m2),$t(r=>r instanceof ZN||Array.isArray(r)?Q(r):Ht(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m2(n){return function Xte(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let tg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ue,this.configLoader=z(nE),this.environmentInjector=z(Pi),this.urlSerializer=z(Ou),this.rootContexts=z(Bu),this.inputBindingEnabled=null!==z(Qp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Gee(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new zee(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new tr({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(r=>0!==r.id),we(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Yr(r=>{let i=!1,s=!1;return Q(r).pipe(wn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yr(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Vu(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Kr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return _2(o.source)&&(t.browserUrlTree=o.extractedUrl),Q(o).pipe(Yr(u=>{const d=this.transitions?.getValue();return this.events.next(new Hb(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Kr:Promise.resolve(u)}),function Gte(n,e,t,r,i,s){return $t(o=>function jte(n,e,t,r,i,s,o="emptyOnly"){return new $te(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(we(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),wn(u=>{if(r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new Bee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Hb(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const _=YL(0,this.rootComponentType).snapshot;return Q(r={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Vu(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Kr}}),wn(o=>{const a=new Uee(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),we(o=>r={...o,guards:ute(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function bte(n,e){return $t(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Q({...t,guardsResult:!0}):function Ete(n,e,t,r){return Ht(n).pipe($t(i=>function Ate(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const l=ju(e)??i,c=ml(a,l);return Cs(function yte(n){return n&&zu(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(wo())})).pipe(_l()):Q(!0)}(i.component,i.route,t,e,r)),wo(i=>!0!==i,!0))}(o,r,i,n).pipe($t(a=>a&&function pte(n){return"boolean"==typeof n}(a)?function Cte(n,e,t,r){return Ht(e).pipe(xu(i=>Vp(function Ite(n,e){return null!==n&&e&&e(new qee(n)),Q(!0)}(i.route.parent,r),function Dte(n,e){return null!==n&&e&&e(new Kee(n)),Q(!0)}(i.route,r),function Tte(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function dte(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Bp(()=>Q(o.guards.map(l=>{const c=ju(o.node)??t,u=ml(l,c);return Cs(function _te(n){return n&&zu(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(wo())})).pipe(_l())));return Q(s).pipe(_l())}(n,i.path,t),function Ste(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>Bp(()=>{const o=ju(e)??t,a=ml(s,o);return Cs(function mte(n){return n&&zu(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(wo())}));return Q(i).pipe(_l())}(n,i.route,t))),wo(i=>!0!==i,!0))}(r,s,n,e):Q(a)),we(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),wn(o=>{if(r.guardsResult=o.guardsResult,Co(o.guardsResult))throw e2(0,o.guardsResult);const a=new jee(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ln(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),tE(o=>{if(o.guards.canActivateChecks.length)return Q(o).pipe(wn(a=>{const l=new $ee(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Yr(a=>{let l=!1;return Q(a).pipe(function qte(n,e){return $t(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let s=0;return Ht(i).pipe(xu(o=>function Wte(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!g2(i)&&(s[ku]=i.title),function Kte(n,e,t,r){const i=function Yte(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Q({});const s={};return Ht(i).pipe($t(o=>function Qte(n,e,t,r){const i=ju(e)??r,s=ml(n,i);return Cs(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(wo(),wn(a=>{s[o]=a}))),Fb(1),function uee(n){return we(()=>n)}(s),bo(o=>a2(o)?Kr:Mu(o)))}(s,n,e,r).pipe(we(o=>(n._resolvedData=o,n.data=QL(n,t).resolve,i&&g2(i)&&(n.data[ku]=i.title),null)))}(o.route,r,n,e)),wn(()=>s++),Fb(1),$t(o=>s===i.length?Q(t):Kr))})}(t.paramsInheritanceStrategy,this.environmentInjector),wn({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),wn(a=>{const l=new Hee(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),tE(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(wn(u=>{l.component=u}),we(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Fp(a(o.targetSnapshot.root)).pipe(jp(),dr(1))}),tE(()=>this.afterPreactivation()),we(o=>{const a=function ete(n,e,t){const r=Uu(n,e._root,t?t._root:void 0);return new KL(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),wn(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t,r)=>we(i=>(new cte(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),dr(1),wn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Do(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Lb(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),bo(o=>{if(s=!0,r2(o)){n2(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Kp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),n2(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||_2(r.source)};t.scheduleNavigation(l,Lu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new zb(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return Kr}))}))}cancelNavigationTransition(t,r,i){const s=new Kp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _2(n){return n!==Lu}let y2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[ku]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return z(Zte)},providedIn:"root"}),n})(),Zte=(()=>{class n extends y2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(C(yL))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return z(tne)},providedIn:"root"}),n})();class ene{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let tne=(()=>{class n extends ene{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=nn(n)))(r||n)}}(),n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ng=new O("",{providedIn:"root",factory:()=>({})});let nne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return z(rne)},providedIn:"root"}),n})(),rne=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Gu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Gu||{});function v2(n,e){n.events.pipe(Ln(t=>t instanceof Do||t instanceof Kp||t instanceof zb||t instanceof Vu),we(t=>t instanceof Do||t instanceof Vu?Gu.COMPLETE:t instanceof Kp&&(0===t.code||1===t.code)?Gu.REDIRECTING:Gu.FAILED),Ln(t=>t!==Gu.REDIRECTING),dr(1)).subscribe(()=>{e()})}function ine(n){throw n}function sne(n,e,t){return e.parse("/")}const one={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ane={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let on=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=z(WP),this.isNgZoneEnabled=!1,this.options=z(ng,{optional:!0})||{},this.pendingTasks=z(KP),this.errorHandler=this.options.errorHandler||ine,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||sne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=z(nne),this.routeReuseStrategy=z(Jte),this.titleStrategy=z(y2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=z(vl,{optional:!0})?.flat()??[],this.navigationTransitions=z(tg),this.urlSerializer=z(Ou),this.location=z(Cu),this.componentInputBindingEnabled=!!z(Qp,{optional:!0}),this.isNgZoneEnabled=z(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=YL(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Zb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=BL(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return UL(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Co(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Lu,null,r)}navigate(t,r={skipLocationChange:!1}){return function lne(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new D(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...one}:!1===r?{...ane}:r,Co(t))return xL(this.currentUrlTree,t,i);const s=this.parseUrl(t);return xL(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return v2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class w2{}let dne=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(t=>t instanceof Do),xu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Sw(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ht(i).pipe(va())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Q(null);const s=i.pipe($t(o=>null===o?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Ht([s,this.loader.loadComponent(r)]).pipe(va()):s})}}return n.\u0275fac=function(t){return new(t||n)(C(on),C(YP),C(Pi),C(w2),C(nE))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iE=new O("");let b2=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Do?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Vu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Hv()},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function zi(n,e){return{\u0275kind:n,\u0275providers:e}}function C2(){const n=z(Vt);return e=>{const t=n.get(ws);if(e!==t.components[0])return;const r=n.get(on),i=n.get(D2);1===n.get(sE)&&r.initialNavigation(),n.get(I2,null,pe.Optional)?.setUpPreloading(),n.get(iE,null,pe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const D2=new O("",{factory:()=>new Ue}),sE=new O("",{providedIn:"root",factory:()=>1}),I2=new O("");function gne(n){return zi(0,[{provide:I2,useExisting:dne},{provide:w2,useExisting:n}])}const S2=new O("ROUTER_FORROOT_GUARD"),_ne=[Cu,{provide:Ou,useClass:Vb},on,Bu,{provide:gl,useFactory:function E2(n){return n.routerState.root},deps:[on]},nE,[]];function yne(){return new oF("Router",on)}let T2=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_ne,[],{provide:vl,multi:!0,useValue:t},{provide:S2,useFactory:Ene,deps:[[on,new On,new Tf]]},{provide:ng,useValue:r||{}},r?.useHash?{provide:vo,useClass:MX}:{provide:vo,useClass:NF},{provide:iE,useFactory:()=>{const n=z(QZ),e=z(de),t=z(ng),r=z(tg),i=z(Ou);return t.scrollOffset&&n.setOffset(t.scrollOffset),new b2(i,r,n,e,t)}},r?.preloadingStrategy?gne(r.preloadingStrategy).\u0275providers:[],{provide:oF,multi:!0,useFactory:yne},r?.initialNavigation?Cne(r):[],r?.bindToComponentInputs?zi(8,[JL,{provide:Qp,useExisting:JL}]).\u0275providers:[],[{provide:A2,useFactory:C2},{provide:Zw,multi:!0,useExisting:A2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:vl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(C(S2,8))},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({}),n})();function Ene(n){return"guarded"}function Cne(n){return["disabled"===n.initialNavigation?zi(3,[{provide:zw,multi:!0,useFactory:()=>{const e=z(on);return()=>{e.setUpLocationChangeListener()}}},{provide:sE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?zi(2,[{provide:sE,useValue:0},{provide:zw,multi:!0,deps:[Vt],useFactory:e=>{const t=e.get(TX,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(on),s=e.get(D2);v2(i,()=>{r(!0)}),e.get(tg).afterPreactivation=()=>(r(!0),s.closed?Q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const A2=new O("");function M2(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){M2(s,r,i,o,a,"next",l)}function a(l){M2(s,r,i,o,a,"throw",l)}o(void 0)})}}const x2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(x2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Ane;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ane extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rg=function(n){return function(n){const e=x2(n);return aE.encodeByteArray(e,!0)}(n).replace(/\./g,"")},ig=function(n){try{return aE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},sg=()=>{try{return function kne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ig(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},R2=n=>{var e,t;return null===(t=null===(e=sg())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},O2=()=>{var n;return null===(n=sg())||void 0===n?void 0:n.config},N2=n=>{var e;return null===(e=sg())||void 0===e?void 0:e[`_${n}`]};class og{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Io(){try{return"object"==typeof indexedDB}catch{return!1}}function qu(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function cE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,di.prototype.create)}}class di{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function $ne(n,e){return n.replace(Hne,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Tr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Hne=/\{\$([^}]+)}/g;function lg(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(F2(s)&&F2(o)){if(!lg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function F2(n){return null!==n&&"object"==typeof n}function cg(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ku(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class qne{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Wne(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=uE),void 0===i.error&&(i.error=uE),void 0===i.complete&&(i.complete=uE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uE(){}const Kne=1e3,Yne=2,Qne=144e5,Xne=.5;function hE(n,e=Kne,t=Yne){const r=e*Math.pow(t,n),i=Math.round(Xne*r*(Math.random()-.5)*2);return Math.min(Qne,r+i)}function Mt(n){return n&&n._delegate?n._delegate:n}class bn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const So="[DEFAULT]";class Jne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new og;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tre(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===So?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const fE=[];var Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{});const L2={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},rre=Se.INFO,ire={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},sre=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=ire[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class wl{constructor(e){this.name=e,this._logLevel=rre,this._logHandler=sre,this._userLogHandler=null,fE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const ore=(n,e)=>e.some(t=>n instanceof t);let V2,B2;const U2=new WeakMap,pE=new WeakMap,j2=new WeakMap,gE=new WeakMap,mE=new WeakMap;let _E={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return pE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||j2.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function fre(n){return"function"==typeof n?function hre(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lre(){return B2||(B2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(yE(this),e),Ds(U2.get(this))}:function(...e){return Ds(n.apply(yE(this),e))}:function(e,...t){const r=n.call(yE(this),e,...t);return j2.set(r,e.sort?e.sort():[e]),Ds(r)}}(n):(n instanceof IDBTransaction&&function ure(n){if(pE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});pE.set(n,e)}(n),ore(n,function are(){return V2||(V2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,_E):n)}function Ds(n){if(n instanceof IDBRequest)return function cre(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ds(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&U2.set(t,n)}).catch(()=>{}),mE.set(e,n),e}(n);if(gE.has(n))return gE.get(n);const e=fre(n);return e!==n&&(gE.set(n,e),mE.set(e,n)),e}const yE=n=>mE.get(n),gre=["get","getKey","getAll","getAllKeys","count"],mre=["put","add","delete","clear"],vE=new Map;function $2(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(vE.get(e))return vE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=mre.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gre.includes(t))return;const s=function(){var o=m(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return vE.set(e,s),s}!function dre(n){_E=n(_E)}(n=>({...n,get:(e,t,r)=>$2(e,t)||n.get(e,t,r),has:(e,t)=>!!$2(e,t)||n.has(e,t)}));class _re{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function yre(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const wE="@firebase/app",To=new wl("@firebase/app"),ug="[DEFAULT]",zre={[wE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ao=new Map,dg=new Map;function Gre(n,e){try{n.container.addComponent(e)}catch(t){To.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vn(n){const e=n.name;if(dg.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,n);for(const t of Ao.values())Gre(t,n);return!0}function bl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Gi=new di("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wre{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}const Mo="9.23.0";function z2(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ug,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(t||(t=O2()),!t)throw Gi.create("no-options");const s=Ao.get(i);if(s){if(lg(t,s.options)&&lg(r,s.config))return s;throw Gi.create("duplicate-app",{appName:i})}const o=new nre(i);for(const l of dg.values())o.addComponent(l);const a=new Wre(t,r,o);return Ao.set(i,a),a}function bE(n=ug){const e=Ao.get(n);if(!e&&n===ug&&O2())return z2();if(!e)throw Gi.create("no-app",{appName:n});return e}function G2(){return Array.from(Ao.values())}function dt(n,e,t){var r;let i=null!==(r=zre[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void To.warn(a.join(" "))}Vn(new bn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Kre="firebase-heartbeat-database",Yre=1,Yu="firebase-heartbeat-store";let CE=null;function q2(){return CE||(CE=function pre(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Kre,Yre,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Yu)}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),CE}function DE(){return(DE=m(function*(n){try{return yield(yield q2()).transaction(Yu).objectStore(Yu).get(K2(n))}catch(e){if(e instanceof Tr)To.warn(e.message);else{const t=Gi.create("idb-get",{originalErrorMessage:e?.message});To.warn(t.message)}}})).apply(this,arguments)}function W2(n,e){return IE.apply(this,arguments)}function IE(){return(IE=m(function*(n,e){try{const r=(yield q2()).transaction(Yu,"readwrite");yield r.objectStore(Yu).put(e,K2(n)),yield r.done}catch(t){if(t instanceof Tr)To.warn(t.message);else{const r=Gi.create("idb-set",{originalErrorMessage:t?.message});To.warn(r.message)}}})).apply(this,arguments)}function K2(n){return`${n.name}!${n.options.appId}`}class Jre{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tie(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Y2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=Y2(),{heartbeatsToSend:r,unsentEntries:i}=function eie(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Q2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Q2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=rg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Y2(){return(new Date).toISOString().substring(0,10)}class tie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Io()&&qu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Qre(n){return DE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return W2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return W2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Q2(n){return rg(JSON.stringify({version:2,heartbeats:n})).length}!function nie(n){Vn(new bn("platform-logger",e=>new _re(e),"PRIVATE")),Vn(new bn("heartbeat",e=>new Jre(e),"PRIVATE")),dt(wE,"0.9.13",n),dt(wE,"0.9.13","esm2017"),dt("fire-js","")}(""),dt("firebase","9.23.0","app");const sie=(n,e)=>e.some(t=>n instanceof t);let X2,Z2;const J2=new WeakMap,SE=new WeakMap,eV=new WeakMap,TE=new WeakMap,AE=new WeakMap;let ME={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return SE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||eV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function hie(n){return"function"==typeof n?function die(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function aie(){return Z2||(Z2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(xE(this),e),Is(J2.get(this))}:function(...e){return Is(n.apply(xE(this),e))}:function(e,...t){const r=n.call(xE(this),e,...t);return eV.set(r,e.sort?e.sort():[e]),Is(r)}}(n):(n instanceof IDBTransaction&&function cie(n){if(SE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});SE.set(n,e)}(n),sie(n,function oie(){return X2||(X2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ME):n)}function Is(n){if(n instanceof IDBRequest)return function lie(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Is(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&J2.set(t,n)}).catch(()=>{}),AE.set(e,n),e}(n);if(TE.has(n))return TE.get(n);const e=hie(n);return e!==n&&(TE.set(n,e),AE.set(e,n)),e}const xE=n=>AE.get(n),pie=["get","getKey","getAll","getAllKeys","count"],gie=["put","add","delete","clear"],kE=new Map;function tV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(kE.get(e))return kE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=gie.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pie.includes(t))return;const s=function(){var o=m(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return kE.set(e,s),s}!function uie(n){ME=n(ME)}(n=>({...n,get:(e,t,r)=>tV(e,t)||n.get(e,t,r),has:(e,t)=>!!tV(e,t)||n.has(e,t)}));const nV="@firebase/installations",RE="0.6.4",rV=1e4,iV=`w:${RE}`,sV="FIS_v2",mie="https://firebaseinstallations.googleapis.com/v1",_ie=36e5,qi=new di("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oV(n){return n instanceof Tr&&n.code.includes("request-failed")}function OE({projectId:n}){return`${mie}/projects/${n}/installations`}function aV(n){return{token:n.token,requestStatus:2,expiresIn:bie(n.expiresIn),creationTime:Date.now()}}function NE(n,e){return PE.apply(this,arguments)}function PE(){return(PE=m(function*(n,e){const r=(yield e.json()).error;return qi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function lV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function FE(n){return LE.apply(this,arguments)}function LE(){return(LE=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function bie(n){return Number(n.replace("s","000"))}function VE(){return(VE=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=OE(n),i=lV(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:sV,appId:n.appId,sdkVersion:iV})},l=yield FE(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:aV(c.authToken)}}throw yield NE("Create Installation",l)})).apply(this,arguments)}function uV(n){return new Promise(e=>{setTimeout(e,n)})}const Iie=/^[cdef][\w-]{21}$/,BE="";function Sie(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Tie(n){return function Die(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Iie.test(t)?t:BE}catch{return BE}}function El(n){return`${n.appName}!${n.appId}`}const Cl=new Map;function dV(n,e){const t=El(n);hV(t,e),function xie(n,e){const t=function fV(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=n=>{hV(n.data.key,n.data.fid)}),xo}();t&&t.postMessage({key:n,fid:e}),function pV(){0===Cl.size&&xo&&(xo.close(),xo=null)}()}(t,e)}function hV(n,e){const t=Cl.get(n);if(t)for(const r of t)r(e)}let xo=null;const kie="firebase-installations-database",Rie=1,ko="firebase-installations-store";let UE=null;function jE(){return UE||(UE=function fie(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Is(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Is(o.result),l.oldVersion,l.newVersion,Is(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(kie,Rie,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ko)}})),UE}function hg(n,e){return $E.apply(this,arguments)}function $E(){return($E=m(function*(n,e){const t=El(n),i=(yield jE()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&dV(n,e.fid),e})).apply(this,arguments)}function HE(n){return zE.apply(this,arguments)}function zE(){return(zE=m(function*(n){const e=El(n),r=(yield jE()).transaction(ko,"readwrite");yield r.objectStore(ko).delete(e),yield r.done})).apply(this,arguments)}function Qu(n,e){return GE.apply(this,arguments)}function GE(){return(GE=m(function*(n,e){const t=El(n),i=(yield jE()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&dV(n,a.fid),a})).apply(this,arguments)}function qE(n){return WE.apply(this,arguments)}function WE(){return WE=m(function*(n){let e;const t=yield Qu(n.appConfig,r=>{const i=function Oie(n){return mV(n||{fid:Sie(),registrationStatus:0})}(r),s=function Nie(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Pie(n,e){return KE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Fie(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===BE?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),WE.apply(this,arguments)}function KE(){return KE=m(function*(n,e){try{const t=yield function Cie(n,e){return VE.apply(this,arguments)}(n,e);return hg(n.appConfig,t)}catch(t){throw oV(t)&&409===t.customData.serverCode?yield HE(n.appConfig):yield hg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),KE.apply(this,arguments)}function Fie(n){return YE.apply(this,arguments)}function YE(){return(YE=m(function*(n){let e=yield gV(n.appConfig);for(;1===e.registrationStatus;)yield uV(100),e=yield gV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield qE(n);return r||t}return e})).apply(this,arguments)}function gV(n){return Qu(n,e=>{if(!e)throw qi.create("installation-not-found");return mV(e)})}function mV(n){return function Lie(n){return 1===n.registrationStatus&&n.registrationTime+rV<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function QE(){return(QE=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Bie(n,{fid:e}){return`${OE(n)}/${e}/authTokens:generate`}(n,t),i=function cV(n,{refreshToken:e}){const t=lV(n);return t.append("Authorization",function Eie(n){return`${sV} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iV,appId:n.appId}})},l=yield FE(()=>fetch(r,a));if(l.ok)return aV(yield l.json());throw yield NE("Generate Auth Token",l)})).apply(this,arguments)}function XE(n){return ZE.apply(this,arguments)}function ZE(){return ZE=m(function*(n,e=!1){let t;const r=yield Qu(n.appConfig,s=>{if(!yV(s))throw qi.create("not-registered");const o=s.authToken;if(!e&&function $ie(n){return 2===n.requestStatus&&!function Hie(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+_ie}(n)}(o))return s;if(1===o.requestStatus)return t=function Uie(n,e){return JE.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw qi.create("app-offline");const a=function zie(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function jie(n,e){return eC.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),ZE.apply(this,arguments)}function JE(){return(JE=m(function*(n,e){let t=yield _V(n.appConfig);for(;1===t.authToken.requestStatus;)yield uV(100),t=yield _V(n.appConfig);const r=t.authToken;return 0===r.requestStatus?XE(n,e):r})).apply(this,arguments)}function _V(n){return Qu(n,e=>{if(!yV(e))throw qi.create("not-registered");return function Gie(n){return 1===n.requestStatus&&n.requestTime+rV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function eC(){return eC=m(function*(n,e){try{const t=yield function Vie(n,e){return QE.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield hg(n.appConfig,r),t}catch(t){if(!oV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hg(n.appConfig,r)}else yield HE(n.appConfig);throw t}}),eC.apply(this,arguments)}function yV(n){return void 0!==n&&2===n.registrationStatus}function tC(){return(tC=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield qE(e);return r?r.catch(console.error):XE(e).catch(console.error),t.fid})).apply(this,arguments)}function nC(){return nC=m(function*(n,e=!1){const t=n;return yield function Kie(n){return rC.apply(this,arguments)}(t),(yield XE(t,e)).token}),nC.apply(this,arguments)}function rC(){return(rC=m(function*(n){const{registrationPromise:e}=yield qE(n);e&&(yield e)})).apply(this,arguments)}function oC(n){return qi.create("missing-app-config-values",{valueName:n})}const vV="installations",Jie=n=>{const e=n.getProvider("app").getImmediate(),t=function Xie(n){if(!n||!n.options)throw oC("App Configuration");if(!n.name)throw oC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw oC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:bl(e,"heartbeat"),_delete:()=>Promise.resolve()}},ese=n=>{const t=bl(n.getProvider("app").getImmediate(),vV).getImmediate();return{getId:()=>function qie(n){return tC.apply(this,arguments)}(t),getToken:i=>function Wie(n){return nC.apply(this,arguments)}(t,i)}};(function tse(){Vn(new bn(vV,Jie,"PUBLIC")),Vn(new bn("installations-internal",ese,"PRIVATE"))})(),dt(nV,RE),dt(nV,RE,"esm2017");const aC="@firebase/remote-config",Xn=new di("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hse{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function fse(n=navigator){return n.languages&&n.languages[0]||n.language}class pse{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:fse()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",y(I)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),Xn.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw Xn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw Xn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class _se{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function gse(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function mse(n){if(!(n instanceof Tr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+hE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class wse{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pg(n,e){const t=n.target.error||void 0;return Xn.create(e,{originalErrorMessage:t&&t?.message})}const Ro="app_namespace_store";class Dse{constructor(e,t,r,i=function Cse(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(pg(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ro,{keyPath:"compositeKey"})}}catch(t){e(Xn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ro],"readonly").objectStore(Ro),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(pg(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(Xn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Ro],"readwrite").objectStore(Ro),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(pg(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Xn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ro],"readwrite").objectStore(Ro),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(pg(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Xn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ise{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Tse(){return hC.apply(this,arguments)}function hC(){return(hC=m(function*(){if(!Io())return!1;try{return yield qu()}catch{return!1}})).apply(this,arguments)}!function Sse(){Vn(new bn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!Io())throw Xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Xn.create("registration-project-id");if(!o)throw Xn.create("registration-api-key");if(!a)throw Xn.create("registration-app-id");const l=new Dse(a,r.name,t=t||"firebase"),c=new Ise(l),u=new wl(aC);u.logLevel=Se.ERROR;const d=new pse(i,Mo,t,s,o,a),h=new _se(d,l),f=new hse(h,l,c,u),p=new wse(r,f,c,l,u);return function cse(n){const e=Mt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),dt(aC,"0.4.4"),dt(aC,"0.4.4","esm2017")}();const Ase=(n,e)=>e.some(t=>n instanceof t);let CV,DV;const IV=new WeakMap,fC=new WeakMap,SV=new WeakMap,pC=new WeakMap,gC=new WeakMap;let mC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return fC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||SV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Pse(n){return"function"==typeof n?function Nse(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xse(){return DV||(DV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(_C(this),e),Wi(IV.get(this))}:function(...e){return Wi(n.apply(_C(this),e))}:function(e,...t){const r=n.call(_C(this),e,...t);return SV.set(r,e.sort?e.sort():[e]),Wi(r)}}(n):(n instanceof IDBTransaction&&function Rse(n){if(fC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});fC.set(n,e)}(n),Ase(n,function Mse(){return CV||(CV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,mC):n)}function Wi(n){if(n instanceof IDBRequest)return function kse(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Wi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&IV.set(t,n)}).catch(()=>{}),gC.set(e,n),e}(n);if(pC.has(n))return pC.get(n);const e=Pse(n);return e!==n&&(pC.set(n,e),gC.set(e,n)),e}const _C=n=>gC.get(n);function TV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wi(o.result),l.oldVersion,l.newVersion,Wi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function yC(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Wi(t).then(()=>{})}const Fse=["get","getKey","getAll","getAllKeys","count"],Lse=["put","add","delete","clear"],vC=new Map;function AV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(vC.get(e))return vC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Lse.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Fse.includes(t))return;const s=function(){var o=m(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return vC.set(e,s),s}!function Ose(n){mC=n(mC)}(n=>({...n,get:(e,t,r)=>AV(e,t)||n.get(e,t,r),has:(e,t)=>!!AV(e,t)||n.has(e,t)}));const Vse="/firebase-messaging-sw.js",Bse="/firebase-cloud-messaging-push-scope",MV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Use="https://fcmregistrations.googleapis.com/v1",xV="google.c.a.c_id",jse="google.c.a.c_l",$se="google.c.a.ts";var gg=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(gg||{});function Ki(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gse(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const wC="fcm_token_details_db",qse=5,kV="fcm_token_object_Store";function bC(){return bC=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(wC))return null;let e=null;return(yield TV(wC,qse,{upgrade:(r=m(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(kV))return;const c=a.objectStore(kV),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ki(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ki(d.auth),p256dh:Ki(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ki(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ki(d.auth),p256dh:Ki(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ki(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield yC(wC),yield yC("fcm_vapid_details_db"),yield yC("undefined"),function Kse(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),bC.apply(this,arguments)}const Yse="firebase-messaging-database",Qse=1,Oo="firebase-messaging-store";let EC=null;function CC(){return EC||(EC=TV(Yse,Qse,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Oo)}})),EC}function RV(n){return DC.apply(this,arguments)}function DC(){return DC=m(function*(n){const e=AC(n),r=yield(yield CC()).transaction(Oo).objectStore(Oo).get(e);if(r)return r;{const i=yield function Wse(n){return bC.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield IC(n,i),i}}),DC.apply(this,arguments)}function IC(n,e){return SC.apply(this,arguments)}function SC(){return(SC=m(function*(n,e){const t=AC(n),i=(yield CC()).transaction(Oo,"readwrite");return yield i.objectStore(Oo).put(e,t),yield i.done,e})).apply(this,arguments)}function TC(){return(TC=m(function*(n){const e=AC(n),r=(yield CC()).transaction(Oo,"readwrite");yield r.objectStore(Oo).delete(e),yield r.done})).apply(this,arguments)}function AC({appConfig:n}){return n.appId}const an=new di("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jse(n,e){return MC.apply(this,arguments)}function MC(){return(MC=m(function*(n,e){const t=yield OC(n),r=NV(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(RC(n.appConfig),i)).json()}catch(o){throw an.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw an.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw an.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function xC(){return(xC=m(function*(n,e){const t=yield OC(n),r=NV(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${RC(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw an.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw an.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw an.create("token-update-no-token");return s.token})).apply(this,arguments)}function OV(n,e){return kC.apply(this,arguments)}function kC(){return(kC=m(function*(n,e){const r={method:"DELETE",headers:yield OC(n)};try{const s=yield(yield fetch(`${RC(n.appConfig)}/${e}`,r)).json();if(s.error)throw an.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw an.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function RC({projectId:n}){return`${Use}/projects/${n}/registrations`}function OC(n){return NC.apply(this,arguments)}function NC(){return(NC=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function NV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==MV&&(i.web.applicationPubKey=r),i}const toe=6048e5;function PC(){return PC=m(function*(n){const e=yield function ioe(n,e){return BC.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ki(e.getKey("auth")),p256dh:Ki(e.getKey("p256dh"))},r=yield RV(n.firebaseDependencies);if(r){if(function soe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+toe?function roe(n,e){return LC.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield OV(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return FV(n.firebaseDependencies,t)}return FV(n.firebaseDependencies,t)}),PC.apply(this,arguments)}function FC(){return FC=m(function*(n){const e=yield RV(n.firebaseDependencies);e&&(yield OV(n.firebaseDependencies,e.token),yield function Xse(n){return TC.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),FC.apply(this,arguments)}function LC(){return LC=m(function*(n,e){try{const t=yield function eoe(n,e){return xC.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield IC(n.firebaseDependencies,r),t}catch(t){throw yield function PV(n){return FC.apply(this,arguments)}(n),t}}),LC.apply(this,arguments)}function FV(n,e){return VC.apply(this,arguments)}function VC(){return(VC=m(function*(n,e){const r={token:yield Jse(n,e),createTime:Date.now(),subscriptionOptions:e};return yield IC(n,r),r.token})).apply(this,arguments)}function BC(){return(BC=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gse(e)})})).apply(this,arguments)}function LV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function ooe(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function aoe(n,e){e.data&&(n.data=e.data)}(e,n),function loe(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function VV(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function UC(n){return an.create("missing-app-config-values",{valueName:n})}VV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),VV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class doe{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function uoe(n){if(!n||!n.options)throw UC("App Configuration Object");if(!n.name)throw UC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw UC(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function jC(){return(jC=m(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Vse,{scope:Bse}),n.swRegistration.update().catch(()=>{})}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function $C(){return($C=m(function*(n,e){if(!e&&!n.swRegistration&&(yield function BV(n){return jC.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function HC(){return(HC=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=MV)})).apply(this,arguments)}function zC(){return zC=m(function*(n,e){if(!navigator)throw an.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw an.create("permission-blocked");return yield function foe(n,e){return HC.apply(this,arguments)}(n,e?.vapidKey),yield function hoe(n,e){return $C.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function noe(n){return PC.apply(this,arguments)}(n)}),zC.apply(this,arguments)}function GC(){return(GC=m(function*(n,e,t){const r=function goe(n){switch(n){case gg.NOTIFICATION_CLICKED:return"notification_open";case gg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[xV],message_name:t[jse],message_time:t[$se],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qC(){return qC=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===gg.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(LV(t)):n.onMessageHandler.next(LV(t)));const r=t.data;(function coe(n){return"object"==typeof n&&!!n&&xV in n})(r)&&"1"===r["google.c.a.e"]&&(yield function poe(n,e,t){return GC.apply(this,arguments)}(n,t.messageType,r))}),qC.apply(this,arguments)}const jV="@firebase/messaging",_oe=n=>{const e=new doe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function moe(n,e){return qC.apply(this,arguments)}(e,t)),e},yoe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function UV(n,e){return zC.apply(this,arguments)}(e,r)}};function HV(){return WC.apply(this,arguments)}function WC(){return(WC=m(function*(){try{yield qu()}catch{return!1}return typeof window<"u"&&Io()&&cE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function voe(){Vn(new bn("messaging",_oe,"PUBLIC")),Vn(new bn("messaging-internal",yoe,"PRIVATE")),dt(jV,"0.12.4"),dt(jV,"0.12.4","esm2017")}();const mg="analytics",Eoe="firebase_id",Coe="origin",Doe=6e4,Ioe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",QC="https://www.googletagmanager.com/gtag/js",qt=new wl("@firebase/analytics"),Bn=new di("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Toe(n){if(!n.startsWith(QC)){const e=Bn.create("invalid-gtag-resource",{gtagURL:n});return qt.warn(e.message),""}return n}function zV(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function XC(){return(XC=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield zV(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){qt.error(a)}n("config",i,s)})).apply(this,arguments)}function ZC(){return(ZC=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield zV(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){qt.error(s)}})).apply(this,arguments)}const Foe=30,GV=new class Voe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Boe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function JC(){return(JC=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Boe(r)},s=Ioe.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function eD(){return(eD=m(function*(n,e=GV,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Bn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Bn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zoe;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:Doe),qV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function qV(n,e,t){return tD.apply(this,arguments)}function tD(){return tD=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=GV){var s;const{appId:o,measurementId:a}=n;try{yield function $oe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function Uoe(n){return JC.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function Hoe(n){if(!(n instanceof Tr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?hE(t,i.intervalMillis,Foe):hE(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),qt.debug(`Calling attemptFetch again in ${u} millis`),qV(n,d,r,i)}}),tD.apply(this,arguments)}class zoe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let nD,cD;function rD(){return(rD=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function uD(){return(uD=m(function*(){if(!Io())return qt.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield qu()}catch(n){return qt.warn(Bn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function dD(){return dD=m(function*(n,e,t,r,i,s,o){var a;const l=function joe(n){return eD.apply(this,arguments)}(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>qt.error(f)),e.push(l);const c=function Xoe(){return uD.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);(function Poe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(QC)&&t.src.includes(n))return t;return null})(s)||function Moe(n,e){const t=function Aoe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Toe}),r=document.createElement("script"),i=`${QC}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),cD&&(i("consent","default",cD),function WV(n){cD=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Coe]="firebase",h.update=!0,null!=d&&(h[Eoe]=d),i("config",u.measurementId,h),nD&&(i("set",nD),function KV(n){nD=n}(void 0)),u.measurementId}),dD.apply(this,arguments)}class Joe{constructor(e){this.app=e}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},YV=[];const QV={};let ZV,fi,_g="dataLayer",hD=!1;function tae(n,e,t){!function eae(){const n=[];if(lE()&&n.push("This is a browser extension environment."),cE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Bn.create("invalid-analytics-context",{errorInfo:e});qt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Bn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Bn.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[r])throw Bn.create("already-exists",{id:r});if(!hD){!function xoe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(_g);const{wrappedGtag:s,gtagCore:o}=function Noe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Ooe(n,e,t,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[l,c]=a;yield function Roe(n,e,t,r,i){return ZC.apply(this,arguments)}(n,e,t,l,c)}else if("config"===o){const[l,c]=a;yield function koe(n,e,t,r,i,s){return XC.apply(this,arguments)}(n,e,t,r,l,c)}else if("consent"===o){const[l]=a;n("consent","update",l)}else if("get"===o){const[l,c,u]=a;n("get",l,c,u)}else if("set"===o){const[l]=a;n("set",l)}else n(o,...a)}catch(l){qt.error(l)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(hi,YV,QV,_g,"gtag");fi=s,ZV=o,hD=!0}return hi[r]=function Zoe(n,e,t,r,i,s,o){return dD.apply(this,arguments)}(n,YV,QV,e,ZV,_g,t),new Joe(n)}function rae(){return fD.apply(this,arguments)}function fD(){return(fD=m(function*(){if(lE()||!cE()||!Io())return!1;try{return yield qu()}catch{return!1}})).apply(this,arguments)}const JV="@firebase/analytics";!function sae(){Vn(new bn(mg,(e,{options:t})=>tae(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Vn(new bn("analytics-internal",function n(e){try{const t=e.getProvider(mg).getImmediate();return{logEvent:(r,i,s)=>function iae(n,e,t,r){n=Mt(n),function Goe(n,e,t,r,i){return rD.apply(this,arguments)}(fi,hi[n.app.options.appId],e,t,r).catch(i=>qt.error(i))}(t,r,i,s)}}catch(t){throw Bn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),dt(JV,"0.10.0"),dt(JV,"0.10.0","esm2017")}();class oae extends pn{constructor(e,t){super()}schedule(e,t=0){return this}}const yg={setInterval(n,e,...t){const{delegate:r}=yg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=yg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class vg extends oae{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return yg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&yg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ya(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const tB={now:()=>(tB.delegate||Date).now(),delegate:void 0};class Xu{constructor(e,t=Xu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Xu.now=tB.now;class wg extends Xu{constructor(e,t=Xu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const cae=new class lae extends wg{}(class aae extends vg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),bg=new wg(vg),uae=bg,Eg=new _s("7.6.1"),gD="__angularfire_symbol__analyticsIsSupportedValue",mD="__angularfire_symbol__analyticsIsSupported",_D="__angularfire_symbol__remoteConfigIsSupportedValue",yD="__angularfire_symbol__remoteConfigIsSupported",vD="__angularfire_symbol__messagingIsSupportedValue",wD="__angularfire_symbol__messagingIsSupported";function ED(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[mD]||(globalThis[mD]=rae().then(n=>globalThis[gD]=n).catch(()=>globalThis[gD]=!1)),globalThis[wD]||(globalThis[wD]=HV().then(n=>globalThis[vD]=n).catch(()=>globalThis[vD]=!1)),globalThis[yD]||(globalThis[yD]=Tse().then(n=>globalThis[_D]=n).catch(()=>globalThis[_D]=!1));const CD=(n,e)=>{const t=e?[e]:G2(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Dl(){}class nB{constructor(e,t=cae){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class dae{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dl,{},Dl,Dl)),t.pipe(wn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let DD=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new nB(Zone.current)),this.insideAngular=t.run(()=>new nB(Zone.current,bg)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(de))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function No(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Po(n){return No().ngZone.run(()=>n())}function fae(n){return No(),function pae(n){return function(t){return(t=t.lift(new dae(n.ngZone))).pipe(Kh(n.outsideAngular),Wh(n.insideAngular))}}(No())(n)}const gae=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Po(()=>n.apply(void 0,r))},En=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Po(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dl,{},Dl,Dl)))),r[s]=gae(r[s],t));const i=function hae(n){return No().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Be){const s=No();return i.pipe(Kh(s.outsideAngular),Wh(s.insideAngular))}return Po(()=>i)}return i instanceof Be?i.pipe(fae):i instanceof Promise?Po(()=>new Promise((s,o)=>i.then(a=>Po(()=>s(a)),a=>Po(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Po(()=>i)};class Il{constructor(e){return e}}class ID{constructor(){return G2()}}const SD=new O("angularfire2._apps"),_ae={provide:Il,useFactory:function mae(n){return n&&1===n.length?n[0]:new Il(bE())},deps:[[new On,SD]]},yae={provide:ID,deps:[[new On,SD]]};function vae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Il(r)}}let wae=(()=>{class n{constructor(t){dt("angularfire",Eg.full,"core"),dt("angularfire",Eg.full,"app"),dt("angular",S1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(Fi))},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:[_ae,yae]}),n})();function bae(n,...e){return{ngModule:wae,providers:[{provide:SD,useFactory:vae(n),multi:!0,deps:[de,Vt,DD,...e]}]}}const Eae=En(z2,!0),TD=new Map,rB={activated:!1,tokenObservers:[]},Cae={initialized:!1,enabled:!1};function ht(n){return TD.get(n)||Object.assign({},rB)}function Cg(){return Cae}const AD="https://content-firebaseappcheck.googleapis.com/v1",Tae="exchangeDebugToken",iB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Mae{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new og,yield function xae(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new og,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ln=new di("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MD(n){if(!ht(n).activated)throw ln.create("use-before-activation",{appName:n.name})}function Sg(n,e){return kD.apply(this,arguments)}function kD(){return(kD=m(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw ln.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw ln.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw ln.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ln.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function sB(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${AD}/projects/${t}/apps/${r}:${Tae}?key=${i}`,body:{debug_token:e}}}const Nae="firebase-app-check-database",Pae=1,Zu="firebase-app-check-store";let Tg=null;function RD(){return(RD=m(function*(n,e){const r=(yield function aB(){return Tg||(Tg=new Promise((n,e)=>{try{const t=indexedDB.open(Nae,Pae);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ln.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zu,{keyPath:"compositeKey"})}}catch(t){e(ln.create("storage-open",{originalErrorMessage:t?.message}))}}),Tg)}()).transaction(Zu,"readwrite"),s=r.objectStore(Zu).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(ln.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Ju=new wl("@firebase/app-check");function PD(n,e){return Io()?function Lae(n,e){return function lB(n,e){return RD.apply(this,arguments)}(function uB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ju.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LD(){return Cg().enabled}function VD(){return BD.apply(this,arguments)}function BD(){return(BD=m(function*(){const n=Cg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Hae={error:"UNKNOWN_ERROR"};function zae(n){return aE.encodeString(JSON.stringify(n),!1)}function Ag(n){return UD.apply(this,arguments)}function UD(){return(UD=m(function*(n,e=!1){const t=n.app;MD(t);const r=ht(t);let s,i=r.token;if(i&&!Sl(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Sl(l)?i=l:yield PD(t,void 0))}if(!e&&i&&Sl(i))return{token:i.token};let a,o=!1;if(LD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Sg(sB(t,yield VD()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield PD(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield ht(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Ju.warn(l.message):Ju.error(l),s=l}return i?s?a=Sl(i)?{token:i.token,internalError:s}:pB(s):(a={token:i.token},r.token=i,yield PD(t,i)):a=pB(s),o&&function fB(n,e){const t=ht(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function dB(n){return jD.apply(this,arguments)}function jD(){return(jD=m(function*(n){const e=n.app;MD(e);const{provider:t}=ht(e);if(LD()){const r=yield VD(),{token:i}=yield Sg(sB(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function HD(n,e){const t=ht(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function hB(n){const{app:e}=n,t=ht(e);let r=t.tokenRefresher;r||(r=function Gae(n){const{app:e}=n;return new Mae(m(function*(){let r;if(r=ht(e).token?yield Ag(n,!0):yield Ag(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ht(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},iB.RETRIAL_MIN_WAIT,iB.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Sl(n){return n.expireTimeMillis-Date.now()>0}function pB(n){return{token:zae(Hae),error:n}}class qae{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ht(this.app);for(const t of e)HD(this.app,t.next);return Promise.resolve()}}const EB="app-check-internal";!function ole(){Vn(new bn("app-check",n=>function Wae(n,e){return new qae(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(EB).initialize()})),Vn(new bn(EB,n=>function Kae(n){return{getToken:e=>Ag(n,e),getLimitedUseToken:()=>dB(n),addTokenListener:e=>function $D(n,e,t,r){const{app:i}=n,s=ht(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Sl(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),hB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>hB(n))}(n,"INTERNAL",e),removeTokenListener:e=>HD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),dt("@firebase/app-check","0.8.0")}();class WD{constructor(){return CD("app-check")}}typeof window<"u"&&window;const dle=function DB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},IB=new di("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xg=new wl("@firebase/auth");function kg(n,...e){xg.logLevel<=Se.ERROR&&xg.error(`Auth (${Mo}): ${n}`,...e)}function Zn(n,...e){throw YD(n,...e)}function pi(n,...e){return YD(n,...e)}function YD(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return IB.create(n,...e)}function N(n,e,...t){if(!n)throw YD(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kg(e),new Error(e)}function Ss(n,e){n||gi(e)}function ed(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function TB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class td{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ss(t>e,"Short delay should be less than long delay!"),this.isMobile=function Lne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}()||function Bne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function fle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function QD(){return"http:"===TB()||"https:"===TB()}()||lE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function XD(n,e){Ss(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class AB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mle=new td(3e4,6e4);function lt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ft(n,e,t,r){return ZD.apply(this,arguments)}function ZD(){return(ZD=m(function*(n,e,t,r,i={}){return MB(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=cg(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),AB.fetch()(xB(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function MB(n,e,t){return JD.apply(this,arguments)}function JD(){return(JD=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},gle),e);try{const i=new _le(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw nd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw nd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw nd(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw nd(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function SB(n,e,t){const r=Object.assign(Object.assign({},dle()),{[e]:t});return new di("auth","Firebase",r).create(e,{appName:n.name})}(n,u,c);Zn(n,u)}}catch(i){if(i instanceof Tr)throw i;Zn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Yi(n,e,t,r){return eI.apply(this,arguments)}function eI(){return(eI=m(function*(n,e,t,r,i={}){const s=yield ft(n,e,t,r,i);return"mfaPendingCredential"in s&&Zn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function xB(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?XD(n.config,i):`${n.config.apiScheme}://${i}`}class _le{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),mle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=pi(n,e,r);return i.customData._tokenResponse=t,i}function tI(){return(tI=m(function*(n,e){return ft(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function rI(){return(rI=m(function*(n,e){return ft(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function rd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iI(){return(iI=m(function*(n,e=!1){const t=Mt(n),r=yield t.getIdToken(e),i=Rg(r);N(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:rd(sI(i.auth_time)),issuedAtTime:rd(sI(i.iat)),expirationTime:rd(sI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function sI(n){return 1e3*Number(n)}function Rg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return kg("JWT malformed, contained fewer than 3 sections"),null;try{const i=ig(t);return i?JSON.parse(i):(kg("Failed to decode base64 JWT payload"),null)}catch(i){return kg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qi(n,e){return oI.apply(this,arguments)}function oI(){return(oI=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Tr&&function Cle({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Dle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class kB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rd(this.lastLoginAt),this.creationTime=rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function id(n){return aI.apply(this,arguments)}function aI(){return aI=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Qi(n,function wle(n,e){return rI.apply(this,arguments)}(t,{idToken:r}));N(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Tle(n){return n.map(e=>{var{providerId:t}=e,r=hy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Sle(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kB(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),aI.apply(this,arguments)}function lI(){return(lI=m(function*(n){const e=Mt(n);yield id(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function cI(){return(cI=m(function*(n,e){const t=yield MB(n,{},m(function*(){const r=cg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=xB(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class sd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ele(n){const e=Rg(n);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Ale(n,e){return cI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new sd;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sd,this.toJSON())}_performRefresh(){return gi("not implemented")}}function Ts(n,e){N("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Fo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield Qi(t,t.stsTokenManager.getToken(t.auth,e));return N(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function ble(n){return iI.apply(this,arguments)}(this,e)}reload(){return function Ile(n){return lI.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield id(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield Qi(e,function yle(n,e){return tI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:I,emailVerified:R,isAnonymous:j,providerData:K,stsTokenManager:ge}=t;N(I&&ge,e,"internal-error");const Tt=sd.fromJSON(this.name,ge);N("string"==typeof I,e,"internal-error"),Ts(d,e.name),Ts(h,e.name),N("boolean"==typeof R,e,"internal-error"),N("boolean"==typeof j,e,"internal-error"),Ts(f,e.name),Ts(p,e.name),Ts(g,e.name),Ts(_,e.name),Ts(v,e.name),Ts(y,e.name);const Jt=new Fo({uid:I,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Tt,createdAt:v,lastLoginAt:y});return K&&Array.isArray(K)&&(Jt.providerData=K.map(Wr=>Object.assign({},Wr))),_&&(Jt._redirectEventId=_),Jt}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new sd;i.updateFromServerResponse(t);const s=new Fo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield id(s),s})()}}const RB=new Map;function Xi(n){Ss(n instanceof Function,"Expected a class definition");let e=RB.get(n);return e?(Ss(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RB.set(n,e),e)}const OB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Og(n,e,t){return`firebase:${n}:${e}:${t}`}class Al{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Og(this.userKey,i.apiKey,s),this.fullPersistenceKey=Og("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Fo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new Al(Xi(OB),e,r);const i=(yield Promise.all(t.map(function(){var c=m(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Xi(OB);const o=Og(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Fo._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Al(s,e,r)):new Al(s,e,r)})()}}function NB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BB(e))return"Blackberry";if(UB(e))return"Webos";if(uI(e))return"Safari";if((e.includes("chrome/")||FB(e))&&!e.includes("edge/"))return"Chrome";if(VB(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function PB(n=Gt()){return/firefox\//i.test(n)}function uI(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FB(n=Gt()){return/crios\//i.test(n)}function LB(n=Gt()){return/iemobile/i.test(n)}function VB(n=Gt()){return/android/i.test(n)}function BB(n=Gt()){return/blackberry/i.test(n)}function UB(n=Gt()){return/webos/i.test(n)}function Ng(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jB(n=Gt()){return Ng(n)||VB(n)||UB(n)||BB(n)||/windows phone/i.test(n)||LB(n)}function $B(n,e=[]){let t;switch(n){case"Browser":t=NB(Gt());break;case"Worker":t=`${NB(Gt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mo}/${r}`}function HB(n,e){return hI.apply(this,arguments)}function hI(){return(hI=m(function*(n,e){return ft(n,"GET","/v2/recaptchaConfig",lt(n,e))})).apply(this,arguments)}function GB(n){return void 0!==n&&void 0!==n.enterprise}class qB{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function fI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Ole(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function WB(n){return`__${n}${Math.floor(1e6*Math.random())}`}class KB{constructor(e){this.type="recaptcha-enterprise",this.auth=Wt(e)}verify(e="verify",t=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=m(function*(c,u){HB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new qB(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;GB(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&GB(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));fI("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function As(n,e,t){return pI.apply(this,arguments)}function pI(){return(pI=m(function*(n,e,t,r=!1){const i=new KB(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Lle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Vle{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YB(this),this.idTokenSubscription=new YB(this),this.beforeStateQueue=new Lle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Xi(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Al.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return N(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield id(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ple(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?Mt(e):null;return r&&N(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Xi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const t=yield HB(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new qB(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new KB(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new di("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&Xi(e)||t._popupRedirectResolver;N(r,t,"argument-error"),t.redirectPersistenceManager=yield Al.create(t,[Xi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$B(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function hle(n,...e){xg.logLevel<=Se.WARN&&xg.warn(`Auth (${Mo}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Wt(n){return Mt(n)}class YB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Gne(n,e){const t=new qne(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function QB(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XB(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class ZB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}function eU(n,e){return mI.apply(this,arguments)}function mI(){return(mI=m(function*(n,e){return ft(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function yI(n,e){return vI.apply(this,arguments)}function vI(){return(vI=m(function*(n,e){return Yi(n,"POST","/v1/accounts:signInWithPassword",lt(n,e))})).apply(this,arguments)}function TI(){return(TI=m(function*(n,e){return Yi(n,"POST","/v1/accounts:signInWithEmailLink",lt(n,e))})).apply(this,arguments)}function AI(){return(AI=m(function*(n,e){return Yi(n,"POST","/v1/accounts:signInWithEmailLink",lt(n,e))})).apply(this,arguments)}class od extends ZB{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new od(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new od(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield As(e,i,"signInWithPassword");return yI(e,s)}return yI(e,i).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield As(e,i,"signInWithPassword");return yI(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Wle(n,e){return TI.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Zn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return m(function*(){switch(r.signInMethod){case"password":return eU(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Kle(n,e){return AI.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Zn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Zi(n,e){return MI.apply(this,arguments)}function MI(){return(MI=m(function*(n,e){return Yi(n,"POST","/v1/accounts:signInWithIdp",lt(n,e))})).apply(this,arguments)}class cd{constructor(e){var t,r,i,s,o,a;const l=Wu(Ku(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function tce(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);N(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function nce(n){const e=Wu(Ku(n)).link,t=e?Wu(Ku(e)).deep_link_id:null,r=Wu(Ku(n)).deep_link_id;return(r?Wu(Ku(r)).link:null)||r||t||e||n}(e);try{return new cd(t)}catch{return null}}}let tU=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return od._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=cd.parseLink(r);return N(i,"argument-error"),od._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ms{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rce extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Lg(n,e){return PI.apply(this,arguments)}function PI(){return(PI=m(function*(n,e){return Yi(n,"POST","/v1/accounts:signUp",lt(n,e))})).apply(this,arguments)}class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield Fo._fromIdTokenResponse(e,r,i),o=nU(r);return new Ar({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=nU(r);return new Ar({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function nU(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Vg extends Tr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Vg(e,t,r,i)}}function rU(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Vg._fromErrorAndOperation(n,s,e,r):s})}function BI(){return(BI=m(function*(n,e,t=!1){const r=yield Qi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ar._forOperation(n,"link",r)})).apply(this,arguments)}function jI(){return(jI=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Qi(n,rU(r,i,e,n),t);N(s.idToken,r,"internal-error");const o=Rg(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(n.uid===a,r,"user-mismatch"),Ar._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Zn(r,"user-mismatch"),s}})).apply(this,arguments)}function oU(n,e){return $I.apply(this,arguments)}function $I(){return($I=m(function*(n,e,t=!1){const r="signIn",i=yield rU(n,r,e),s=yield Ar._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function zI(){return(zI=m(function*(n,e){return oU(Wt(n),e)})).apply(this,arguments)}function uce(n,e,t){return r0.apply(this,arguments)}function r0(){return r0=m(function*(n,e,t){var r;const i=Wt(n),s={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield As(i,s,"signUpPassword");o=Lg(i,c)}else o=Lg(i,s).catch(function(){var c=m(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield As(i,s,"signUpPassword");return Lg(i,d)}return Promise.reject(u)});return function(u){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),l=yield Ar._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l}),r0.apply(this,arguments)}function dce(n,e,t){return function HI(n,e){return zI.apply(this,arguments)}(Mt(n),tU.credential(e,t))}function lU(n,e,t,r){return Mt(n).onIdTokenChanged(e,t,r)}function wce(n){return Mt(n).signOut()}const Ug="__sak";class cU{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ug,"1"),this.storage.removeItem(Ug),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ace=(()=>{class n extends cU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ice(){const n=Gt();return uI(n)||Ng(n)}()&&function kle(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function xle(){return function Une(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),uU=(()=>{class n extends cU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let xce=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Mce(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function v0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class kce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=v0("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xt(){return window}function w0(){return typeof xt().WorkerGlobalScope<"u"&&"function"==typeof xt().importScripts}function b0(){return(b0=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const dU="firebaseLocalStorageDb",jg="firebaseLocalStorage",hU="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $g(n,e){return n.transaction([jg],e?"readwrite":"readonly").objectStore(jg)}function E0(){const n=indexedDB.open(dU,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(jg,{keyPath:hU})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(jg)?e(r):(r.close(),yield function Lce(){const n=indexedDB.deleteDatabase(dU);return new dd(n).toPromise()}(),e(yield E0()))}))})}function fU(n,e,t){return C0.apply(this,arguments)}function C0(){return(C0=m(function*(n,e,t){const r=$g(n,!0).put({[hU]:e,value:t});return new dd(r).toPromise()})).apply(this,arguments)}function D0(){return(D0=m(function*(n,e){const t=$g(n,!1).get(e),r=yield new dd(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function pU(n,e){const t=$g(n,!0).delete(e);return new dd(t).toPromise()}const jce=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield E0()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return w0()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=xce._getInstance(function Pce(){return w0()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function Oce(){return b0.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new kce(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Nce(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield E0();return yield fU(t,Ug,"1"),yield pU(t,Ug),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>fU(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Vce(n,e){return D0.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>pU(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=$g(o,!1).getAll();return new dd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();WB("rcb"),new td(3e4,6e4);class O0 extends ZB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rue(n){return oU(n.auth,new O0(n),n.bypassAuthState)}function iue(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),function sU(n,e){return jI.apply(this,arguments)}(t,new O0(n),n.bypassAuthState)}function sue(n){return N0.apply(this,arguments)}function N0(){return(N0=m(function*(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),function VI(n,e){return BI.apply(this,arguments)}(t,new O0(n),n.bypassAuthState)})).apply(this,arguments)}class oue{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rue;case"linkViaPopup":case"linkViaRedirect":return sue;case"reauthViaPopup":case"reauthViaRedirect":return iue;default:Zn(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new td(2e3,1e4);const aue="pendingRedirect",hd=new Map;class lue extends oue{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=hd.get(t.auth._key());if(!r){try{const s=(yield function cue(n,e){return B0.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}hd.set(t.auth._key(),r)}return t.bypassAuthState||hd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function B0(){return(B0=m(function*(n,e){const t=function _U(n){return Og(aue,n.config.apiKey,n.name)}(e),r=function mU(n){return Xi(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function uue(n,e){hd.set(n._key(),e)}function yU(n,e){return q0.apply(this,arguments)}function q0(){return(q0=m(function*(n,e,t=!1){const r=Wt(n),i=function Vo(n,e){return e?Xi(e):(N(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new lue(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class gue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function mue(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bU(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bU(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(pi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wU(e))}saveEventToCache(e){this.cachedEventUids.add(wU(e)),this.lastProcessedEventTime=Date.now()}}function wU(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bU({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function K0(){return(K0=m(function*(n,e={}){return ft(n,"GET","/v1/projects",e)})).apply(this,arguments)}const yue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vue=/^https?/;function Y0(){return Y0=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function _ue(n){return K0.apply(this,arguments)}(n);for(const t of e)try{if(bue(t))return}catch{}Zn(n,"unauthorized-domain")}),Y0.apply(this,arguments)}function bue(n){const e=ed(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!vue.test(t))return!1;if(yue.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Eue=new td(3e4,6e4);function EU(){const n=xt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let zg=null;const Iue=new td(5e3,15e3),Sue="__/auth/iframe",Tue="emulator/auth/iframe",Aue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xue(n){const e=n.config;N(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?XD(e,Tue):`https://${n.config.authDomain}/${Sue}`,r={apiKey:e.apiKey,appName:n.name,v:Mo},i=Mue.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${cg(r).slice(1)}`}function Q0(){return Q0=m(function*(n){const e=yield function Due(n){return zg=zg||function Cue(n){return new Promise((e,t)=>{var r,i,s;function o(){EU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EU(),t(pi(n,"network-request-failed"))},timeout:Eue.get()})}if(null!==(i=null===(r=xt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=xt().gapi)||void 0===s||!s.load){const a=WB("iframefcb");return xt()[a]=()=>{gapi.load?o():t(pi(n,"network-request-failed"))},fI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw zg=null,e})}(n),zg}(n),t=xt().gapi;return N(t,n,"internal-error"),e.open({where:document.body,url:xue(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aue,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=pi(n,"network-request-failed"),l=xt().setTimeout(()=>{o(a)},Iue.get());function c(){xt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Q0.apply(this,arguments)}const Rue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class CU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Bue="__/auth/handler",Uue="emulator/auth/handler",jue=encodeURIComponent("fac");function DU(n,e,t,r,i,s){return X0.apply(this,arguments)}function X0(){return(X0=m(function*(n,e,t,r,i,s){N(n.config.authDomain,n,"auth-domain-config-required"),N(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Mo,eventId:i};if(e instanceof Ms){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function zne(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof rce){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${jue}=${encodeURIComponent(l)}`:"";return`${function $ue({config:n}){return n.emulator?XD(n,Uue):`https://${n.authDomain}/${Bue}`}(n)}?${cg(a).slice(1)}${c}`})).apply(this,arguments)}const Z0="webStorageSupport",zue=class Hue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uU,this._completeRedirectFn=yU,this._overrideRedirectResult=uue}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;Ss(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield DU(e,t,r,ed(),i);return function Lue(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Rue),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Gt().toLowerCase();t&&(a=FB(c)?"_blank":t),PB(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Mle(n=Gt()){var e;return Ng(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Vue(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new CU(null);const d=window.open(e||"",a,u);N(d,n,"popup-blocked");try{d.focus()}catch{}return new CU(d)}(e,a,v0())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function Rce(n){xt().location.href=n}(yield DU(e,t,r,ed(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ss(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function kue(n){return Q0.apply(this,arguments)}(e),i=new gue(e);return r.register("authEvent",s=>(N(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Z0,{type:Z0},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Z0];void 0!==o&&t(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function wue(n){return Y0.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jB()||uI()||Ng()}};var TU="@firebase/auth";class Gue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Yue=N2("authIdTokenMaxAge")||300;let MU=null;const Que=n=>function(){var e=m(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Yue)return;const s=r?.token;MU!==s&&(MU=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Xue(n=bE()){const e=bl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Ble(n,e){const t=bl(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(lg(t.getOptions(),e??{}))return i;Zn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:zue,persistence:[jce,Ace,uU]}),r=N2("authTokenSyncURL");if(r){const s=Que(r);(function vce(n,e,t){Mt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),lU(t,o=>s(o))}const i=R2("auth");return i&&function jle(n,e,t){const r=Wt(n);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=QB(e),{host:o,port:a}=function $le(n){const e=QB(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:XB(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:XB(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Hle(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function xU(n){return new Be(function(e){return{unsubscribe:lU(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function Wue(n){Vn(new bn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$B(n)},c=new Vle(r,i,s,l);return function Ule(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vn(new bn("auth-internal",e=>{const t=Wt(e.getProvider("auth").getImmediate());return new Gue(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(TU,"0.23.2",function que(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),dt(TU,"0.23.2","esm2017")}("Browser");class fd{constructor(e){return e}}class RU{constructor(){return CD("auth")}}const eS=new O("angularfire2.auth-instances");function Jue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fd(r)}}const ede={provide:RU,deps:[[new On,eS]]},tde={provide:fd,useFactory:function Zue(n,e){const t=ED("auth",n,e);return t&&new fd(t)},deps:[[new On,eS],Il]};let nde=(()=>{class n{constructor(){dt("angularfire",Eg.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:[tde,ede]}),n})();function rde(n,...e){return{ngModule:nde,providers:[{provide:eS,useFactory:Jue(n),multi:!0,deps:[de,Vt,DD,ID,[new On,WD],...e]}]}}const ide=En(xU,!0),sde=En(uce,!0),ode=En(Xue,!0),ade=En(dce,!0),lde=En(wce,!0),tS=we(n=>!!n);let cde=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>tS);return ide(this.auth).pipe(dr(1),o(i,s),we(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(C(on),C(fd))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var qg=function(n){return n.tierra="./assets/tierra.jpg",n.ceniza="./assets/ground.jpg",n.agua="./assets/agua.jpg",n.hierba="./assets/grass.jpg",n.arbol="./assets/arbol.jpg",n.rock="./assets/muro.jpg",n}(qg||{}),OU=function(n){return n.Initial="./assets/sobres/sobre1.png",n.Peasant="./assets/PJ/granjero.png",n.Guerrero="./assets/PJ/hacha1.png",n.Arquero="./assets/PJ/ballesta1.png",n.Paladin="./assets/PJ/caballero1.png",n.picaro="./assets/PJ/espada1.png",n.caballero="./assets/PJ/caballo1.png",n.heal="./assets/PJ/heal1.png",n.Sorcerer="./assets/PJ/sorcer1.png",n.arco="./assets/arma/arco.png",n.palo="./assets/arma/porra.png",n.ballesta="./assets/arma/ballesta01.png",n.lanza="./assets/arma/lanza.png",n.daga="./assets/arma/daga2.png",n.vara="./assets/arma/baston3.png",n.lanzaCab="./assets/arma/lanzaC.png",n.espada="./assets/arma/espada01.png",n.noArma="./assets/arma/puno.png",n.cuero="./assets/armadura/armadura5.png",n.ligera="./assets/armadura/armadura2.png",n.media="./assets/armadura/armadura1.png",n.pesada="./assets/armadura/armadura3.png",n.completa="./assets/armadura/armadura4.png",n.noArmadura="./assets/armadura/cuerpo.png",n["Pocion PV peque\xf1a"]="./assets/pociones/pocion.png",n["Pocion mp peque\xf1a"]="./assets/pociones/pocion5.png",n.UPDEF="./assets/pociones/pocion1.png",n.UPVEL="./assets/pociones/pocion3.png",n.UPFUE="./assets/pociones/pocion4.png",n.UPMOV="./assets/pociones/pocion2.png",n.Carga="./assets/skills/carga.png",n.Da\u00f1o="./assets/skills/explosion.png",n.romperdef="./assets/skills/romper.png",n.taunt="./assets/skills/taunt.png",n.alcance="./assets/skills/mirilla.png",n.critico="./assets/skills/explosion.png",n.untaunt="./assets/skills/untaunt.png",n.fuego="./assets/skills/dom.png",n.hielo="./assets/skills/hielo.png",n.rayo="./assets/skills/electrico.png",n.confundir="./assets/skills/depresion.png",n.mute="./assets/skills/mute.png",n.curar="./assets/skills/soltar.png",n.escudo="./assets/skills/proteger.png",n.Movimiento="./assets/skills/huracan.png",n.velocidad="./assets/skills/huracan1.png",n.quitardebuff="./assets/skills/sol.png",n.ocultarse="./assets/skills/ninja.png",n.sangrante="./assets/skills/sangre.png",n.vacio="./assets/pociones/nada.png",n}(OU||{}),pd=function(n){return n.Audio0="./assets/audio/audio0.mp3",n.Audio1="./assets/audio/audio1.mp3",n.Audio2="./assets/audio/audio2.mp3",n.Audio3="./assets/audio/audio3.mp3",n.Audio4="./assets/audio/audio4.mp3",n.Audio5="./assets/audio/audio5.mp3",n.Audio6="./assets/audio/audio6.mp3",n.Audio7="./assets/audio/audio7.mp3",n.Audio8="./assets/audio/audio8.mp3",n.Audio9="./assets/audio/audio9.mp3",n}(pd||{});const pde=[{ID:0,tipo:"Initial"},{Nombre:"Peasant",BattlePoints:10,FUE:0,DEF:0,VEL:0,MOV:1,PV:100,PM:0,ARMA:"noArma",ARMADURA:"noArmadura",ITEM1:[],SKILL1:[]},{tipo:"Arma",nombre:"palo",FUE:1},{tipo:"Item",nombre:"Pocion PV peque\xf1a",PV:30},{tipo:"Cuerpo",nombre:"Carga",FUE:2,MOV:2,REUSE:5}],NU=[[{Nombre:"Guerrero",BattlePoints:30,FUE:6,DEF:2,VEL:3,MOV:3,PV:200,PM:20,ARMA:"noArma",ARMADURA:"noArmadura",ITEM1:[],SKILL1:[]},{Nombre:"Paladin",BattlePoints:30,FUE:4,DEF:5,VEL:2,MOV:3,PV:250,PM:20,ARMA:"noArma",ARMADURA:"noArmadura",ITEM1:[],SKILL1:[]},{Nombre:"Arquero",BattlePoints:40,FUE:3,DEF:1,VEL:5,MOV:4,PV:150,PM:40,ARMA:"noArma",ARMADURA:"noArmadura",ITEM1:[],SKILL1:[]},{Nombre:"picaro",BattlePoints:40,FUE:3,DEF:1,VEL:6,MOV:4,PV:125,PM:40,ARMA:"noArma",ARMADURA:"noArmadura",ITEM1:[],SKILL1:[]},{Nombre:"caballero",BattlePoints:50,FUE:6,DEF:4,VEL:3,MOV:6,PV:250,PM:10,ARMA:"noArma",ARMADURA:"noArmadura",ITEM1:[],SKILL1:[]},{Nombre:"heal",BattlePoints:50,FUE:2,DEF:0,VEL:3,MOV:3,PV:125,PM:60,ARMA:"noArma",ARMADURA:"noArmadura",ITEM1:[],SKILL1:[]},{Nombre:"Sorcerer",BattlePoints:50,FUE:2,DEF:0,VEL:3,MOV:3,PV:125,PM:60,ARMA:"noArma",ARMADURA:"noArmadura",ITEM1:[],SKILL1:[]}],[[{tipo:"Arma",nombre:"palo",FUE:1},{tipo:"Arma",nombre:"espada",FUE:3},{tipo:"Arma",nombre:"lanza",FUE:2},{tipo:"Arma",nombre:"arco",FUE:2},{tipo:"Arma",nombre:"daga",FUE:2},{tipo:"Arma",nombre:"ballesta",FUE:4},{tipo:"Arma",nombre:"vara",PM:20},{tipo:"Arma",nombre:"LanzaC",FUE:4}],[{tipo:"Armadura",nombre:"cuero",DEF:1,MOV:1,VEL:2},{tipo:"Armadura",nombre:"ligera",DEF:2,MOV:0,VEL:1},{tipo:"Armadura",nombre:"media",DEF:3,MOV:0,VEL:0},{tipo:"Armadura",nombre:"pesada",DEF:4,MOV:-1,VEL:-1},{tipo:"Armadura",nombre:"completa",DEF:6,MOV:-1,VEL:-3}],[{tipo:"Item",nombre:"Pocion PV peque\xf1a",PV:30},{tipo:"Item",nombre:"Pocion mp peque\xf1a",PM:30}],[{tipo:"Item",nombre:"UPDEF",DEF:3},{tipo:"Item",nombre:"UPFUE",FUE:3},{tipo:"Item",nombre:"UPVEL",VEL:3},{tipo:"Item",nombre:"UPMOV",MOV:3}]],[[{tipo:"Cuerpo",nombre:"Carga",FUE:2,MOV:2,REUSE:5},{tipo:"Cuerpo",nombre:"Da\xf1o",FUE:6,REUSE:5},{tipo:"Cuerpo",nombre:"rompedef",DEF:-2},{tipo:"Cuerpo",nombre:"taunt",FUE:2,MOV:2,REUSE:5}],[{tipo:"distancia",nombre:"alcance",FUE:2,MOV:2,REUSE:5},{tipo:"distancia",nombre:"Da\xf1o",FUE:6,REUSE:5},{tipo:"distancia",nombre:"critico",DEF:-2},{tipo:"distancia",nombre:"untaunt",FUE:2,MOV:2,REUSE:5}],[{tipo:"sorcer",nombre:"Fuego",FUE:2,MOV:2,REUSE:5},{tipo:"sorcer",nombre:"rayo",FUE:6,REUSE:5},{tipo:"sorcer",nombre:"hielo",DEF:-2},{tipo:"sorcer",nombre:"confusion",FUE:2,MOV:2,REUSE:5},{tipo:"sorcer",nombre:"mute",FUE:2,MOV:2,REUSE:5}],[{tipo:"heal",nombre:"Cura",FUE:2,MOV:2,REUSE:5},{tipo:"heal",nombre:"escudo",FUE:6,REUSE:5},{tipo:"heal",nombre:"Movimiento",DEF:-2},{tipo:"heal",nombre:"velocidad",FUE:2,MOV:2,REUSE:5},{tipo:"heal",nombre:"quitardebuff",FUE:2,MOV:2,REUSE:5}],[{tipo:"picaro",nombre:"untaunt",FUE:2,MOV:2,REUSE:5},{tipo:"picaro",nombre:"ocultarse",FUE:6,REUSE:5},{tipo:"picaro",nombre:"critico",DEF:-2},{tipo:"picaro",nombre:"sangrante",FUE:2,MOV:2,REUSE:5}]]];var U,gde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jr={},nS=nS||{},se=gde||self;function Wg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rS="closure_uid_"+(1e9*Math.random()>>>0),_de=0;function yde(n,e,t){return n.call.apply(n.bind,arguments)}function vde(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Cn(n,e,t){return(Cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yde:vde).apply(null,arguments)}function Kg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xs(){this.s=this.s,this.o=this.o}xs.prototype.s=!1,xs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function mde(n){Object.prototype.hasOwnProperty.call(n,rS)&&n[rS]||(n[rS]=++_de)}(this)},xs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function iS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function FU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Wg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Dn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Dn.prototype.h=function(){this.defaultPrevented=!0};var bde=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return n}();function md(n){return/^[\s\xa0]*$/.test(n)}function Yg(){var n=se.navigator;return n&&(n=n.userAgent)?n:""}function mi(n){return-1!=Yg().indexOf(n)}function sS(n){return sS[" "](n),n}sS[" "]=function(){};var aS,n,Cde=mi("Opera"),xl=mi("Trident")||mi("MSIE"),LU=mi("Edge"),oS=LU||xl,VU=mi("Gecko")&&!(-1!=Yg().toLowerCase().indexOf("webkit")&&!mi("Edge"))&&!(mi("Trident")||mi("MSIE"))&&!mi("Edge"),Dde=-1!=Yg().toLowerCase().indexOf("webkit")&&!mi("Edge");function BU(){var n=se.document;return n?n.documentMode:void 0}e:{var lS="",cS=(n=Yg(),VU?/rv:([^\);]+)(\)|;)/.exec(n):LU?/Edge\/([\d\.]+)/.exec(n):xl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Dde?/WebKit\/(\S+)/.exec(n):Cde?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cS&&(lS=cS?cS[1]:""),xl){var uS=BU();if(null!=uS&&uS>parseFloat(lS)){aS=String(uS);break e}}aS=lS}var Ide=se.document&&xl&&(BU()||parseInt(aS,10))||void 0;function _d(n,e){if(Dn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(VU){e:{try{sS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Sde[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_d.$.h.call(this)}}Kt(_d,Dn);var Sde={2:"touch",3:"pen",4:"mouse"};_d.prototype.h=function(){_d.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yd="closure_listenable_"+(1e6*Math.random()|0),Tde=0;function Ade(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Tde,this.fa=this.ia=!1}function Qg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function hS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jU(n){const e={};for(const t in n)e[t]=n[t];return e}const $U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<$U.length;s++)t=$U[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xg(n){this.src=n,this.g={},this.h=0}function fS(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=PU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pS(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Xg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=pS(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Ade(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var gS="closure_lm_"+(1e6*Math.random()|0),mS={};function zU(n,e,t,r,i){if(r&&r.once)return qU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zU(n,e[s],t,r,i);return null}return t=wS(t),n&&n[yd]?n.O(e,t,gd(r)?!!r.capture:!!r,i):GU(n,e,t,!1,r,i)}function GU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=gd(i)?!!i.capture:!!i,a=yS(n);if(a||(n[gS]=a=new Xg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function xde(){const e=kde;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)bde||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(KU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qU(n,e[s],t,r,i);return null}return t=wS(t),n&&n[yd]?n.P(e,t,gd(r)?!!r.capture:!!r,i):GU(n,e,t,!0,r,i)}function WU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)WU(n,e[s],t,r,i);else r=gd(r)?!!r.capture:!!r,t=wS(t),n&&n[yd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pS(s=n.g[e],t,r,i))&&(Qg(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=yS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pS(e,t,r,i)),(t=-1<n?e[n]:null)&&_S(t))}function _S(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[yd])fS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yS(e))?(fS(t,n),0==t.h&&(t.src=null,e[gS]=null)):Qg(n)}}}function KU(n){return n in mS?mS[n]:mS[n]="on"+n}function kde(n,e){if(n.fa)n=!0;else{e=new _d(e,this);var t=n.listener,r=n.la||n.src;n.ia&&_S(n),n=t.call(r,e)}return n}function yS(n){return(n=n[gS])instanceof Xg?n:null}var vS="__closure_events_fn_"+(1e9*Math.random()>>>0);function wS(n){return"function"==typeof n?n:(n[vS]||(n[vS]=function(e){return n.handleEvent(e)}),n[vS])}function Yt(){xs.call(this),this.i=new Xg(this),this.S=this,this.J=null}function cn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Dn(e,n);else if(e instanceof Dn)e.target=e.target||n;else{var i=e;HU(e=new Dn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Zg(o,r,!0,e)&&i}if(i=Zg(o=e.g=n,r,!0,e)&&i,i=Zg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Zg(o=e.g=t[s],r,!1,e)&&i}function Zg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&fS(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Kt(Yt,xs),Yt.prototype[yd]=!0,Yt.prototype.removeEventListener=function(n,e,t,r){WU(this,n,e,t,r)},Yt.prototype.N=function(){if(Yt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qg(t[r]);delete n.g[e],n.h--}}this.J=null},Yt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var bS=se.JSON.stringify;function Ode(){var n=ES;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var YU=new class Rde{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Pde,n=>n.reset());class Pde{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fde(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Lde(n){se.setTimeout(()=>{throw n},0)}let vd,wd=!1,ES=new class Nde{constructor(){this.h=this.g=null}add(e,t){const r=YU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},QU=()=>{const n=se.Promise.resolve(void 0);vd=()=>{n.then(Vde)}};var Vde=()=>{for(var n;n=Ode();){try{n.h.call(n.g)}catch(t){Lde(t)}var e=YU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wd=!1};function Jg(n,e){Yt.call(this),this.h=n||1,this.g=e||se,this.j=Cn(this.qb,this),this.l=Date.now()}function CS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function DS(n,e,t){if("function"==typeof n)t&&(n=Cn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Cn(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function XU(n){n.g=DS(()=>{n.g=null,n.i&&(n.i=!1,XU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kt(Jg,Yt),(U=Jg.prototype).ga=!1,U.T=null,U.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cn(this,"tick"),this.ga&&(CS(this),this.start()))}},U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.N=function(){Jg.$.N.call(this),CS(this),delete this.g};class Bde extends xs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XU(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bd(n){xs.call(this),this.h=n,this.g={}}Kt(bd,xs);var ZU=[];function JU(n,e,t,r){Array.isArray(t)||(t&&(ZU[0]=t.toString()),t=ZU);for(var i=0;i<t.length;i++){var s=zU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function ej(n){hS(n.g,function(e,t){this.g.hasOwnProperty(t)&&_S(e)},n),n.g={}}function em(){this.g=!0}function kl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hde(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return bS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}bd.prototype.N=function(){bd.$.N.call(this),ej(this)},bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},em.prototype.Ea=function(){this.g=!1},em.prototype.info=function(){};var Bo={},tj=null;function tm(){return tj=tj||new Yt}function nj(n){Dn.call(this,Bo.Ta,n)}function Ed(n){const e=tm();cn(e,new nj(e))}function rj(n,e){Dn.call(this,Bo.STAT_EVENT,n),this.stat=e}function Un(n){const e=tm();cn(e,new rj(e,n))}function ij(n,e){Dn.call(this,Bo.Ua,n),this.size=e}function Cd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}Bo.Ta="serverreachability",Kt(nj,Dn),Bo.STAT_EVENT="statevent",Kt(rj,Dn),Bo.Ua="timingevent",Kt(ij,Dn);var nm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function IS(){}function aj(){}IS.prototype.h=null;var AS,Dd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function SS(){Dn.call(this,"d")}function TS(){Dn.call(this,"c")}function rm(){}function Id(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new bd(this),this.P=zde,this.V=new Jg(n=oS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lj}function lj(){this.i=null,this.g="",this.h=!1}Kt(SS,Dn),Kt(TS,Dn),Kt(rm,IS),rm.prototype.g=function(){return new XMLHttpRequest},rm.prototype.i=function(){return{}},AS=new rm;var zde=45e3,MS={},im={};function xS(n,e,t){n.L=1,n.v=lm(Ji(e)),n.s=t,n.S=!0,cj(n,null)}function cj(n,e){n.G=Date.now(),Sd(n),n.A=Ji(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),vj(t.i,"t",r),n.C=0,t=n.l.J,n.h=new lj,n.g=Hj(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Bde(Cn(n.Pa,n,n.g),n.O)),JU(n.U,n.g,"readystatechange",n.nb),e=n.I?jU(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ed(),function Ude(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function uj(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function dj(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Gde(n,t),i==im){4==e&&(n.o=4,Un(14),r=!1),kl(n.j,n.m,null,"[Incomplete Response]");break}if(i==MS){n.o=4,Un(15),kl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}kl(n.j,n.m,i,null),kS(n,i)}uj(n)&&i!=im&&i!=MS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Un(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),VS(e),e.M=!0,Un(11))):(kl(n.j,n.m,t,"[Invalid Chunked Response]"),Uo(n),Td(n))}function Gde(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?im:(t=Number(e.substring(t,r)),isNaN(t)?MS:(r+=1)+t>e.length?im:(e=e.slice(r,r+t),n.C=r+t,e))}function Sd(n){n.Y=Date.now()+n.P,hj(n,n.P)}function hj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Cd(Cn(n.lb,n),e)}function sm(n){n.B&&(se.clearTimeout(n.B),n.B=null)}function Td(n){0==n.l.H||n.J||Bj(n.l,n)}function Uo(n){sm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,CS(n.V),ej(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function kS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||RS(t.i,n)))if(!n.K&&RS(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;pm(t),hm(t)}LS(t),Un(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Cd(Cn(t.ib,t),6e3));if(1>=Ej(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else $o(t,11)}else if((n.K||t.g==n)&&pm(t),!md(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(OS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Xe(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=$j(r,r.J?r.pa:null,r.Y),o.K){Cj(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(sm(a),Sd(a)),r.g=o}else Lj(r);0<t.j.length&&fm(t)}else"stop"!=c[0]&&"close"!=c[0]||$o(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?$o(t,7):FS(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Ed()}catch{}}function fj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Wde(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function qde(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(U=Id.prototype).setTimeout=function(n){this.P=n},U.nb=function(n){n=n.target;const e=this.M;e&&3==_i(n)?e.l():this.Pa(n)},U.Pa=function(n){try{if(n==this.g)e:{const u=_i(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||oS||this.g&&(this.h.h||this.g.ja()||kj(this.g)))){this.J||4!=u||7==e||Ed(),sm(this);var t=this.g.da();this.ca=t;t:if(uj(this)){var r=kj(this.g);n="";var i=r.length,s=4==_i(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uo(this),Td(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function jde(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!md(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Un(12),Uo(this),Td(this);break e}kl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kS(this,t)}this.S?(dj(this,u,o),oS&&this.i&&3==u&&(JU(this.U,this.V,"tick",this.mb),this.V.start())):(kl(this.j,this.m,o,null),kS(this,o)),4==u&&Uo(this),this.i&&!this.J&&(4==u?Bj(this.l,this):(this.i=!1,Sd(this)))}else(function dhe(n){const e={};n=(n.g&&2<=_i(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(md(n[r]))continue;var t=Fde(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function Mde(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Un(12)):(this.o=0,Un(13)),Uo(this),Td(this)}}}catch{}},U.mb=function(){if(this.g){var n=_i(this.g),e=this.g.ja();this.C<e.length&&(sm(this),dj(this,n,e),this.i&&4!=n&&Sd(this))}},U.cancel=function(){this.J=!0,Uo(this)},U.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function $de(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ed(),Un(17)),Uo(this),this.o=2,Td(this)):hj(this,this.Y-n)};var pj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof jo){this.h=n.h,om(this,n.j),this.s=n.s,this.g=n.g,am(this,n.m),this.l=n.l;var e=n.i,t=new xd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gj(this,t),this.o=n.o}else n&&(e=String(n).match(pj))?(this.h=!1,om(this,e[1]||"",!0),this.s=Ad(e[2]||""),this.g=Ad(e[3]||"",!0),am(this,e[4]),this.l=Ad(e[5]||"",!0),gj(this,e[6]||"",!0),this.o=Ad(e[7]||"")):(this.h=!1,this.i=new xd(null,this.h))}function Ji(n){return new jo(n)}function om(n,e,t){n.j=t?Ad(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function am(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gj(n,e,t){e instanceof xd?(n.i=e,function ehe(n,e){e&&!n.j&&(ks(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(_j(this,r),vj(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Md(e,Zde)),n.i=new xd(e,n.h))}function Xe(n,e,t){n.i.set(e,t)}function lm(n){return Xe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ad(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Md(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Yde),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Yde(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Md(e,mj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Md(e,mj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Md(t,"/"==t.charAt(0)?Xde:Qde,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Md(t,Jde)),n.join("")};var mj=/[#\/\?@]/g,Qde=/[#\?:]/g,Xde=/[#\?]/g,Zde=/[#\?@]/g,Jde=/#/g;function xd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ks(n){n.g||(n.g=new Map,n.h=0,n.i&&function Kde(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _j(n,e){ks(n),e=Rl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function yj(n,e){return ks(n),e=Rl(n,e),n.g.has(e)}function vj(n,e,t){_j(n,e),0<t.length&&(n.i=null,n.g.set(Rl(n,e),iS(t)),n.h+=t.length)}function Rl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function wj(n){this.l=n||nhe,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=xd.prototype).add=function(n,e){ks(this),this.i=null,n=Rl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},U.forEach=function(n,e){ks(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},U.ta=function(){ks(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},U.Z=function(n){ks(this);let e=[];if("string"==typeof n)yj(this,n)&&(e=e.concat(this.g.get(Rl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},U.set=function(n,e){return ks(this),this.i=null,yj(this,n=Rl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},U.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var nhe=10;function bj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ej(n){return n.h?1:n.g?n.g.size:0}function RS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function OS(n,e){n.g?n.g.add(e):n.h=e}function Cj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Dj(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return iS(n.i)}wj.prototype.cancel=function(){if(this.i=Dj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var rhe=class{stringify(n){return se.JSON.stringify(n,void 0)}parse(n){return se.JSON.parse(n,void 0)}};function ihe(){this.g=new rhe}function she(n,e,t){const r=t||"";try{fj(n,function(i,s){let o=i;gd(i)&&(o=bS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kd(n){this.l=n.fc||null,this.j=n.ob||!1}function um(n,e){Yt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=NS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt(kd,IS),kd.prototype.g=function(){return new um(this.l,this.j)},kd.prototype.i=function(n){return function(){return n}}({}),Kt(um,Yt);var NS=0;function Ij(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Rd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Od(n)}function Od(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(U=um.prototype).open=function(n,e){if(this.readyState!=NS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Od(this)},U.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rd(this)),this.readyState=NS},U.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Od(this)),this.g&&(this.readyState=3,Od(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ij(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},U.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Rd(this):Od(this),3==this.readyState&&Ij(this)}},U.Za=function(n){this.g&&(this.response=this.responseText=n,Rd(this))},U.Ya=function(n){this.g&&(this.response=n,Rd(this))},U.ka=function(){this.g&&Rd(this)},U.setRequestHeader=function(n,e){this.v.append(n,e)},U.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(um.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ahe=se.JSON.parse;function pt(n){Yt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sj,this.L=this.M=!1}Kt(pt,Yt);var Sj="",lhe=/^https?$/i,che=["POST","PUT"];function Tj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Aj(n),dm(n)}function Aj(n){n.F||(n.F=!0,cn(n,"complete"),cn(n,"error"))}function Mj(n){if(n.h&&typeof nS<"u"&&(!n.C[1]||4!=_i(n)||2!=n.da()))if(n.v&&4==_i(n))DS(n.La,0,n);else if(cn(n,"readystatechange"),4==_i(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(pj)[1]||null;!i&&se.self&&se.self.location&&(i=se.self.location.protocol.slice(0,-1)),r=!lhe.test(i?i.toLowerCase():"")}t=r}if(t)cn(n,"complete"),cn(n,"success");else{n.m=6;try{var s=2<_i(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",Aj(n)}}finally{dm(n)}}}function dm(n,e){if(n.g){xj(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||cn(n,"ready");try{t.onreadystatechange=r}catch{}}}function xj(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function _i(n){return n.g?n.g.readyState:0}function kj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Sj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Rj(n){let e="";return hS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function PS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Rj(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xe(n,e,t))}function Nd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Oj(n){this.Ga=0,this.j=[],this.l=new em,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Nd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Nd("baseRetryDelayMs",5e3,n),this.hb=Nd("retryDelaySeedMs",1e4,n),this.eb=Nd("forwardChannelMaxRetries",2,n),this.xa=Nd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new wj(n&&n.concurrentRequestLimit),this.Ja=new ihe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function FS(n){if(Nj(n),3==n.H){var e=n.W++,t=Ji(n.I);if(Xe(t,"SID",n.K),Xe(t,"RID",e),Xe(t,"TYPE","terminate"),Pd(n,t),(e=new Id(n,n.l,e)).L=2,e.v=lm(Ji(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=Hj(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sd(e)}jj(n)}function hm(n){n.g&&(VS(n),n.g.cancel(),n.g=null)}function Nj(n){hm(n),n.u&&(se.clearTimeout(n.u),n.u=null),pm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function fm(n){if(!bj(n.i)&&!n.m){n.m=!0;var e=n.Na;vd||QU(),wd||(vd(),wd=!0),ES.add(e,n),n.C=0}}function Pj(n,e){var t;t=e?e.m:n.W++;const r=Ji(n.I);Xe(r,"SID",n.K),Xe(r,"RID",t),Xe(r,"AID",n.V),Pd(n,r),n.o&&n.s&&PS(r,n.o,n.s),t=new Id(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Fj(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),OS(n.i,t),xS(t,r,e)}function Pd(n,e){n.na&&hS(n.na,function(t,r){Xe(e,r,t)}),n.h&&fj({},function(t,r){Xe(e,r,t)})}function Fj(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Cn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{she(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function Lj(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;vd||QU(),wd||(vd(),wd=!0),ES.add(e,n),n.A=0}}function LS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Cd(Cn(n.Ma,n),Uj(n,n.A)),n.A++,0))}function VS(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function Vj(n){n.g=new Id(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ji(n.wa);Xe(e,"RID","rpc"),Xe(e,"SID",n.K),Xe(e,"AID",n.V),Xe(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Xe(e,"TO",n.qa),Xe(e,"TYPE","xmlhttp"),Pd(n,e),n.o&&n.s&&PS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=lm(Ji(e)),t.s=null,t.S=!0,cj(t,n)}function pm(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function Bj(n,e){var t=null;if(n.g==e){pm(n),VS(n),n.g=null;var r=2}else{if(!RS(n.i,e))return;t=e.F,Cj(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;cn(r=tm(),new ij(r,t)),fm(n)}else Lj(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function hhe(n,e){return!(Ej(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Cd(Cn(n.Na,n,e),Uj(n,n.C)),n.C++,0)))}(n,e)||2==r&&LS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:$o(n,5);break;case 4:$o(n,10);break;case 3:$o(n,6);break;default:$o(n,2)}}function Uj(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function $o(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Cn(n.pb,n);t||(t=new jo("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||om(t,"https"),lm(t)),function ohe(n,e){const t=new em;if(se.Image){const r=new Image;r.onload=Kg(cm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Kg(cm,t,r,"TestLoadImage: error",!1,e),r.onabort=Kg(cm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kg(cm,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Un(2);n.H=0,n.h&&n.h.za(e),jj(n),Nj(n)}function jj(n){if(n.H=0,n.ma=[],n.h){const e=Dj(n.i);(0!=e.length||0!=n.j.length)&&(FU(n.ma,e),FU(n.ma,n.j),n.i.i.length=0,iS(n.j),n.j.length=0),n.h.ya()}}function $j(n,e,t){var r=t instanceof jo?Ji(t):new jo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),am(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new jo(null);r&&om(s,r),e&&(s.g=e),i&&am(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Xe(r,t,e),Xe(r,"VER",n.ra),Pd(n,r),r}function Hj(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pt(t&&n.Ha&&!n.va?new kd({ob:!0}):n.va)).Oa(n.J),e}function zj(){}function gm(){if(xl&&!(10<=Number(Ide)))throw Error("Environmental error: no available transport.")}function hr(n,e){Yt.call(this),this.g=new Oj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!md(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!md(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ol(this)}function Gj(n){SS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qj(){TS.call(this),this.status=1}function Ol(n){this.g=n}function $r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function BS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Le(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(U=pt.prototype).Oa=function(n){this.M=n},U.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():AS.g(),this.C=function oj(n){return n.h||(n.h=n.i())}(this.u?this.u:AS),this.g.onreadystatechange=Cn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void Tj(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=se.FormData&&n instanceof se.FormData,!(0<=PU(che,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xj(this),0<this.B&&((this.L=function uhe(n){return xl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cn(this.ua,this)):this.A=DS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Tj(this,s)}},U.ua=function(){typeof nS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))},U.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cn(this,"complete"),cn(this,"abort"),dm(this))},U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dm(this,!0)),pt.$.N.call(this)},U.La=function(){this.s||(this.G||this.v||this.l?Mj(this):this.kb())},U.kb=function(){Mj(this)},U.isActive=function(){return!!this.g},U.da=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},U.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ahe(e)}},U.Ia=function(){return this.m},U.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=Oj.prototype).ra=8,U.H=1,U.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Id(this,this.l,n);let s=this.s;if(this.U&&(s?(s=jU(s),HU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Fj(this,i,e),Xe(t=Ji(this.I),"RID",n),Xe(t,"CVER",22),this.F&&Xe(t,"X-HTTP-Session-Id",this.F),Pd(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(Rj(s)))+"&"+e:this.o&&PS(t,this.o,s)),OS(this.i,i),this.bb&&Xe(t,"TYPE","init"),this.P?(Xe(t,"$req",e),Xe(t,"SID","null"),i.aa=!0,xS(i,t,null)):xS(i,t,e),this.H=2}}else 3==this.H&&(n?Pj(this,n):0==this.j.length||bj(this.i)||Pj(this))},U.Ma=function(){if(this.u=null,Vj(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Cd(Cn(this.jb,this),n)}},U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Un(10),hm(this),Vj(this))},U.ib=function(){null!=this.v&&(this.v=null,hm(this),LS(this),Un(19))},U.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Un(2)):(this.l.info("Failed to ping google.com"),Un(1))},U.isActive=function(){return!!this.h&&this.h.isActive(this)},(U=zj.prototype).Ba=function(){},U.Aa=function(){},U.za=function(){},U.ya=function(){},U.isActive=function(){return!0},U.Va=function(){},gm.prototype.g=function(n,e){return new hr(n,e)},Kt(hr,Yt),hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Un(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$j(n,null,n.Y),fm(n)},hr.prototype.close=function(){FS(this.g)},hr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bS(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&fm(e)},hr.prototype.N=function(){this.g.h=null,delete this.j,FS(this.g),delete this.g,hr.$.N.call(this)},Kt(Gj,SS),Kt(qj,TS),Kt(Ol,zj),Ol.prototype.Ba=function(){cn(this.g,"a")},Ol.prototype.Aa=function(n){cn(this.g,new Gj(n))},Ol.prototype.za=function(n){cn(this.g,new qj)},Ol.prototype.ya=function(){cn(this.g,"b")},Kt($r,function fhe(){this.blockSize=-1}),$r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$r.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)BS(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){BS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){BS(this,r),i=0;break}}this.h=i,this.i+=e},$r.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var phe={};function US(n){return-128<=n&&128>n?function Ede(n,e){var t=phe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Le([0|e],0>e?-1:0)}):new Le([0|n],0>n?-1:0)}function yi(n){if(isNaN(n)||!isFinite(n))return Nl;if(0>n)return un(yi(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=jS;return new Le(e,0)}var jS=4294967296,Nl=US(0),$S=US(1),Kj=US(16777216);function es(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Mr(n){return-1==n.h}function un(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Le(t,~n.h).add($S)}function mm(n,e){return n.add(un(e))}function _m(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Fd(n,e){this.g=n,this.h=e}function ym(n,e){if(es(e))throw Error("division by zero");if(es(n))return new Fd(Nl,Nl);if(Mr(n))return e=ym(un(n),e),new Fd(un(e.g),un(e.h));if(Mr(e))return e=ym(n,un(e)),new Fd(un(e.g),e.h);if(30<n.g.length){if(Mr(n)||Mr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=$S,r=e;0>=r.X(n);)t=Yj(t),r=Yj(r);var i=Pl(t,1),s=Pl(r,1);for(r=Pl(r,2),t=Pl(t,2);!es(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Pl(r,1),t=Pl(t,1)}return e=mm(n,i.R(e)),new Fd(i,e)}for(i=Nl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=yi(t)).R(e);Mr(o)||0<o.X(n);)o=(s=yi(t-=r)).R(e);es(s)&&(s=$S),i=i.add(s),n=mm(n,o)}return new Fd(i,n)}function Yj(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Le(t,n.h)}function Pl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Le(i,n.h)}(U=Le.prototype).ea=function(){if(Mr(this))return-un(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:jS+r)*e,e*=jS}return n},U.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(es(this))return"0";if(Mr(this))return"-"+un(this).toString(n);for(var e=yi(Math.pow(n,6)),t=this,r="";;){var i=ym(t,e).g,s=((0<(t=mm(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(es(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},U.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},U.X=function(n){return Mr(n=mm(this,n))?-1:es(n)?0:1},U.abs=function(){return Mr(this)?un(this):this},U.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Le(t,-2147483648&t[t.length-1]?-1:0)},U.R=function(n){if(es(this)||es(n))return Nl;if(Mr(this))return Mr(n)?un(this).R(un(n)):un(un(this).R(n));if(Mr(n))return un(this.R(un(n)));if(0>this.X(Kj)&&0>n.X(Kj))return yi(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,_m(t,2*r+2*i),t[2*r+2*i+1]+=s*l,_m(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,_m(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,_m(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Le(t,0)},U.gb=function(n){return ym(this,n).h},U.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Le(t,this.h&n.h)},U.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Le(t,this.h|n.h)},U.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Le(t,this.h^n.h)},gm.prototype.createWebChannel=gm.prototype.g,hr.prototype.send=hr.prototype.u,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,nm.NO_ERROR=0,nm.TIMEOUT=8,nm.HTTP_ERROR=6,sj.COMPLETE="complete",aj.EventType=Dd,Dd.OPEN="a",Dd.CLOSE="b",Dd.ERROR="c",Dd.MESSAGE="d",Yt.prototype.listen=Yt.prototype.O,pt.prototype.listenOnce=pt.prototype.P,pt.prototype.getLastError=pt.prototype.Sa,pt.prototype.getLastErrorCode=pt.prototype.Ia,pt.prototype.getStatus=pt.prototype.da,pt.prototype.getResponseJson=pt.prototype.Wa,pt.prototype.getResponseText=pt.prototype.ja,pt.prototype.send=pt.prototype.ha,pt.prototype.setWithCredentials=pt.prototype.Oa,$r.prototype.digest=$r.prototype.l,$r.prototype.reset=$r.prototype.reset,$r.prototype.update=$r.prototype.j,Le.prototype.add=Le.prototype.add,Le.prototype.multiply=Le.prototype.R,Le.prototype.modulo=Le.prototype.gb,Le.prototype.compare=Le.prototype.X,Le.prototype.toNumber=Le.prototype.ea,Le.prototype.toString=Le.prototype.toString,Le.prototype.getBits=Le.prototype.D,Le.fromNumber=yi,Le.fromString=function Wj(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return un(Wj(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yi(Math.pow(e,8)),r=Nl,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=yi(Math.pow(e,s)),r=r.R(s).add(yi(o))):r=(r=r.R(t)).add(yi(o))}return r};var ghe=jr.createWebChannelTransport=function(){return new gm},mhe=jr.getStatEventTarget=function(){return tm()},HS=jr.ErrorCode=nm,_he=jr.EventType=sj,yhe=jr.Event=Bo,Qj=jr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vhe=jr.FetchXmlHttpFactory=kd,vm=jr.WebChannel=aj,whe=jr.XhrIo=pt,bhe=jr.Md5=$r,Fl=jr.Integer=Le;const Xj="@firebase/firestore";class Qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");let Ll="9.23.0";const Rs=new wl("@firebase/firestore");function zS(){return Rs.logLevel}function k(n,...e){if(Rs.logLevel<=Se.DEBUG){const t=e.map(GS);Rs.debug(`Firestore (${Ll}): ${n}`,...t)}}function Ct(n,...e){if(Rs.logLevel<=Se.ERROR){const t=e.map(GS);Rs.error(`Firestore (${Ll}): ${n}`,...t)}}function Hr(n,...e){if(Rs.logLevel<=Se.WARN){const t=e.map(GS);Rs.warn(`Firestore (${Ll}): ${n}`,...t)}}function GS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function H(n="Unexpected state"){const e=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: `+n;throw Ct(e),new Error(e)}function q(n,e){n||H()}function B(n,e){return n}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ut{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Zj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ehe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class Che{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Dhe{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ut,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ut)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new Zj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Qt(e)}}class Ihe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class She{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Ihe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class The{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(q("string"==typeof t.token),this.T=t.token,new Jj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ahe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class e${static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Ahe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function re(n,e){return n<e?-1:n>e?1:0}function Vl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ct{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ct(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new ct(0,0))}static max(){return new W(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ld{constructor(e,t,r){void 0===t?t=0:t>e.length&&H(),void 0===r?r=e.length-t:r>e.length-t&&H(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ld.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ld?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ee extends Ld{construct(e,t,r){return new Ee(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ee(t)}static emptyPath(){return new Ee([])}}const Mhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Ld{construct(e,t,r){return new Dt(e,t,r)}static isValidIdentifier(e){return Mhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new x(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new x(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(Ee.fromString(e))}static fromName(e){return new L(Ee.fromString(e).popFirst(5))}static empty(){return new L(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ee.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new Ee(e.slice()))}}function r$(n){return new fr(n.readTime,n.key,-1)}class fr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fr(W.min(),L.empty(),-1)}static max(){return new fr(W.max(),L.empty(),-1)}}function WS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=L.comparator(n.documentKey,e.documentKey),0!==t?t:re(n.largestBatchId,e.largestBatchId))}const i$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Os(n){return KS.apply(this,arguments)}function KS(){return KS=m(function*(n){if(n.code!==b.FAILED_PRECONDITION||n.message!==i$)throw n;k("LocalStore","Unexpectedly lost primary lease")}),KS.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Ns(n){return"IndexedDbTransactionError"===n.name}let pr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ud(n){return null==n}function jd(n){return 0===n&&1/n==-1/0}function f$(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function p$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class We{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new We(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dm(this.root,e,this.comparator,!0)}}class Dm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=s??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new dn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1,dn.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(n,e,t,r,i){return this}insert(n,e,t){return new dn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g$(this.data.getIterator())}getIteratorFrom(e){return new g$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ze(this.comparator);return t.data=e,t}}class g${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Ze(Dt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class m$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new m$("Invalid base64 string: "+i):i}}(e);return new jt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const tfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(q(!!n),"string"==typeof n){let e=0;const t=tfe.exec(n);if(q(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ts(n){return"string"==typeof n?jt.fromBase64String(n):jt.fromUint8Array(n)}function Im(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Sm(n){const e=n.mapValue.fields.__previous_value__;return Im(e)?Sm(e):e}function $d(n){const e=Fs(n.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}class nfe{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Go{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Go("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const Ls={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Im(n)?4:w$(n)?9007199254740991:10:H()}function wi(n,e){if(n===e)return!0;const t=Vs(n);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $d(n).isEqual($d(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Fs(r.timestampValue),o=Fs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ts(n.bytesValue).isEqual(ts(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return gt(r.geoPointValue.latitude)===gt(i.geoPointValue.latitude)&&gt(r.geoPointValue.longitude)===gt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gt(r.integerValue)===gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=gt(r.doubleValue),o=gt(i.doubleValue);return s===o?jd(s)===jd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Vl(n.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(f$(s)!==f$(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!wi(s[a],o[a])))return!1;return!0}(n,e);default:return H()}var i}function Hd(n,e){return void 0!==(n.values||[]).find(t=>wi(t,e))}function Bs(n,e){if(n===e)return 0;const t=Vs(n),r=Vs(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=gt(i.integerValue||i.doubleValue),a=gt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return _$(n.timestampValue,e.timestampValue);case 4:return _$($d(n),$d(e));case 5:return re(n.stringValue,e.stringValue);case 6:return function(i,s){const o=ts(i),a=ts(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=re(o[l],a[l]);if(0!==c)return c}return re(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(gt(i.latitude),gt(s.latitude));return 0!==o?o:re(gt(i.longitude),gt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Bs(o[l],a[l]);if(c)return c}return re(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ls.mapValue&&s===Ls.mapValue)return 0;if(i===Ls.mapValue)return 1;if(s===Ls.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=re(a[u],c[u]);if(0!==d)return d;const h=Bs(o[a[u]],l[c[u]]);if(0!==h)return h}return re(a.length,c.length)}(n.mapValue,e.mapValue);default:throw H()}}function _$(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return re(n,e);const t=Fs(n),r=Fs(e),i=re(t.seconds,r.seconds);return 0!==i?i:re(t.nanos,r.nanos)}function Ul(n){return XS(n)}function XS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Fs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ts(n.bytesValue).toBase64():"referenceValue"in n?L.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=XS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${XS(r.fields[a])}`;return s+"}"}(n.mapValue):H();var e}function qo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ZS(n){return!!n&&"integerValue"in n}function zd(n){return!!n&&"arrayValue"in n}function y$(n){return!!n&&"nullValue"in n}function v$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mm(n){return!!n&&"mapValue"in n}function Gd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ps(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function w$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gd(t)}setAll(e){let t=Dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Gd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Mm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ps(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hn(Gd(this.value))}}function C$(n){const e=[];return Ps(n.fields,(t,r)=>{const i=new Dt([t]);if(Mm(r)){const s=C$(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jn(e)}class Je{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Je(e,0,W.min(),W.min(),W.min(),hn.empty(),0)}static newFoundDocument(e,t,r,i){return new Je(e,1,t,W.min(),r,i,0)}static newNoDocument(e,t){return new Je(e,2,t,W.min(),W.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Je(e,3,t,W.min(),W.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Us{constructor(e,t){this.position=e,this.inclusive=t}}function D$(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?L.comparator(L.fromName(o.referenceValue),t.key):Bs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function I$(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wi(n.position[t],e.position[t]))return!1;return!0}class jl{constructor(e,t="asc"){this.field=e,this.dir=t}}function sfe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class S${}class _e extends S${constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ofe(e,t,r):"array-contains"===t?new cfe(e,r):"in"===t?new R$(e,r):"not-in"===t?new ufe(e,r):"array-contains-any"===t?new dfe(e,r):new _e(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new afe(e,r):new lfe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bs(t,this.value)):null!==t&&Vs(this.value)===Vs(t)&&this.matchesComparison(Bs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ve extends S${constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ve(e,t)}matches(e){return $l(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $l(n){return"and"===n.op}function eT(n){return function T$(n){for(const e of n.filters)if(e instanceof Ve)return!1;return!0}(n)&&$l(n)}function tT(n){if(n instanceof _e)return n.field.canonicalString()+n.op.toString()+Ul(n.value);if(eT(n))return n.filters.map(e=>tT(e)).join(",");{const e=n.filters.map(t=>tT(t)).join(",");return`${n.op}(${e})`}}function A$(n,e){return n instanceof _e?(t=n,(r=e)instanceof _e&&t.op===r.op&&t.field.isEqual(r.field)&&wi(t.value,r.value)):n instanceof Ve?function(t,r){return r instanceof Ve&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&A$(s,r.filters[o]),!0)}(n,e):void H();var t,r}function x$(n){return n instanceof _e?`${(e=n).field.canonicalString()} ${e.op} ${Ul(e.value)}`:n instanceof Ve?function(e){return e.op.toString()+" {"+e.getFilters().map(x$).join(" ,")+"}"}(n):"Filter";var e}class ofe extends _e{constructor(e,t,r){super(e,t,r),this.key=L.fromName(r.referenceValue)}matches(e){const t=L.comparator(e.key,this.key);return this.matchesComparison(t)}}class afe extends _e{constructor(e,t){super(e,"in",t),this.keys=k$(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lfe extends _e{constructor(e,t){super(e,"not-in",t),this.keys=k$(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function k$(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>L.fromName(r.referenceValue))}class cfe extends _e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zd(t)&&Hd(t.arrayValue,this.value)}}class R$ extends _e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hd(this.value.arrayValue,t)}}class ufe extends _e{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hd(this.value.arrayValue,t)}}class dfe extends _e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hd(this.value.arrayValue,r))}}class hfe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function nT(n,e=null,t=[],r=[],i=null,s=null,o=null){return new hfe(n,e,t,r,i,s,o)}function Wo(n){const e=B(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ul(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ul(r)).join(",")),e.dt=t}return e.dt}function qd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sfe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!A$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!I$(n.startAt,e.startAt)&&I$(n.endAt,e.endAt)}function xm(n){return L.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ns{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Hl(n){return new ns(n)}function F$(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Rm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function iT(n){return null!==n.collectionGroup}function Ko(n){const e=B(n);if(null===e.wt){e.wt=[];const t=Rm(e),r=rT(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new jl(t)),e.wt.push(new jl(Dt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new jl(Dt.keyField(),s))}}}return e.wt}function jn(n){const e=B(n);if(!e._t)if("F"===e.limitType)e._t=nT(e.path,e.collectionGroup,Ko(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ko(e))t.push(new jl(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Us(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Us(e.startAt.position,e.startAt.inclusive):null;e._t=nT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function sT(n,e){e.getFirstInequalityField(),Rm(n);const t=n.filters.concat([e]);return new ns(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Om(n,e,t){return new ns(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wd(n,e){return qd(jn(n),jn(e))&&n.limitType===e.limitType}function L$(n){return`${Wo(jn(n))}|lt:${n.limitType}`}function oT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>x$(r)).join(", ")}]`),Ud(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ul(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ul(r)).join(",")),`Target(${t})`}(jn(n))}; limitType=${n.limitType})`}function Kd(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):L.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ko(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=D$(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ko(t),r)||t.endAt&&!function(i,s,o){const a=D$(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ko(t),r)));var t,r}function B$(n){return(e,t)=>{let r=!1;for(const i of Ko(n)){const s=ffe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ffe(n,e,t){const r=n.field.isKeyField()?L.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Bs(a,l):H()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}class rs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return p$(this.inner)}size(){return this.innerSize}}const pfe=new We(L.comparator);function er(){return pfe}const U$=new We(L.comparator);function Yd(...n){let e=U$;for(const t of n)e=e.insert(t.key,t);return e}function j$(n){let e=U$;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bi(){return Qd()}function $$(){return Qd()}function Qd(){return new rs(n=>n.toString(),(n,e)=>n.isEqual(e))}const gfe=new We(L.comparator),mfe=new Ze(L.comparator);function fe(...n){let e=mfe;for(const t of n)e=e.add(t);return e}const _fe=new Ze(re);function H$(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function z$(n){return{integerValue:""+n}}function G$(n,e){return function o$(n){return"number"==typeof n&&Number.isInteger(n)&&!jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?z$(e):H$(n,e)}class Nm{constructor(){this._=void 0}}function yfe(n,e,t){return n instanceof zl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Im(i)&&(i=Sm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Yo?W$(n,e):n instanceof Qo?K$(n,e):function(r,i){const s=q$(r,i),o=Y$(s)+Y$(r.gt);return ZS(s)&&ZS(r.gt)?z$(o):H$(r.serializer,o)}(n,e)}function vfe(n,e,t){return n instanceof Yo?W$(n,e):n instanceof Qo?K$(n,e):t}function q$(n,e){return n instanceof Gl?ZS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class zl extends Nm{}class Yo extends Nm{constructor(e){super(),this.elements=e}}function W$(n,e){const t=Q$(e);for(const r of n.elements)t.some(i=>wi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qo extends Nm{constructor(e){super(),this.elements=e}}function K$(n,e){let t=Q$(e);for(const r of n.elements)t=t.filter(i=>!wi(i,r));return{arrayValue:{values:t}}}class Gl extends Nm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Y$(n){return gt(n.integerValue||n.doubleValue)}function Q$(n){return zd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class bfe{constructor(e,t){this.version=e,this.transformResults=t}}class nt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nt}static exists(e){return new nt(void 0,e)}static updateTime(e){return new nt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Fm{}function X$(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Wl(n.key,nt.none()):new ql(n.key,n.data,nt.none());{const t=n.data,r=hn.empty();let i=new Ze(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new is(n.key,r,new Jn(i.toArray()),nt.none())}}function Efe(n,e,t){n instanceof ql?function(r,i,s){const o=r.value.clone(),a=eH(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof is?function(r,i,s){if(!Pm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=eH(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(J$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zd(n,e,t,r){return n instanceof ql?function(i,s,o,a){if(!Pm(i.precondition,s))return o;const l=i.value.clone(),c=tH(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof is?function(i,s,o,a){if(!Pm(i.precondition,s))return o;const l=tH(i.fieldTransforms,a,s),c=s.data;return c.setAll(J$(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,Pm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Cfe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=q$(r.transform,i||null);null!=s&&(null===t&&(t=hn.empty()),t.set(r.field,s))}return t||null}function Z$(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Vl(t,r,(i,s)=>function wfe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Yo&&r instanceof Yo||t instanceof Qo&&r instanceof Qo?Vl(t.elements,r.elements,wi):t instanceof Gl&&r instanceof Gl?wi(t.gt,r.gt):t instanceof zl&&r instanceof zl);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ql extends Fm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class is extends Fm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function J$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eH(n,e,t){const r=new Map;q(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vfe(o,a,t[i]))}return r}function tH(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,yfe(s,o,e))}return r}class Wl extends Fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lT extends Fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Efe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=X$(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(t,r)=>Z$(t,r))&&Vl(this.baseMutations,e.baseMutations,(t,r)=>Z$(t,r))}}class uT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){q(e.mutations.length===r.length);let i=gfe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uT(e,t,r,i)}}class dT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ife{constructor(e,t){this.count=e,this.unchangedNames=t}}var kt,Ce;function rH(n){if(void 0===n)return Ct("GRPC error has no .code"),b.UNKNOWN;switch(n){case kt.OK:return b.OK;case kt.CANCELLED:return b.CANCELLED;case kt.UNKNOWN:return b.UNKNOWN;case kt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case kt.INTERNAL:return b.INTERNAL;case kt.UNAVAILABLE:return b.UNAVAILABLE;case kt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case kt.NOT_FOUND:return b.NOT_FOUND;case kt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case kt.ABORTED:return b.ABORTED;case kt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case kt.DATA_LOSS:return b.DATA_LOSS;default:return H()}}(Ce=kt||(kt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";class hT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Lm}static getOrCreateInstance(){return null===Lm&&(Lm=new hT),Lm}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Lm=null;const Sfe=new Fl([4294967295,4294967295],0);function sH(n){const e=function iH(){return new TextEncoder}().encode(n),t=new bhe;return t.update(e),new Uint8Array(t.digest())}function oH(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fl([t,r],0),new Fl([i,s],0)]}class fT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jd(`Invalid padding: ${t}`);if(r<0)throw new Jd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Jd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Jd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Fl.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Fl.fromNumber(r)));return 1===i.compare(Sfe)&&(i=new Fl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=sH(e),[r,i]=oH(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fT(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=sH(e),[r,i]=oH(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new eh(W.min(),i,new We(re),er(),fe())}}class th{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new th(r,t,fe(),fe(),fe())}}class Vm{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class aH{constructor(e,t){this.targetId=e,this.Vt=t}}class lH{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cH{constructor(){this.St=0,this.Dt=dH(),this.Ct=jt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fe(),t=fe(),r=fe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:H()}}),new th(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=dH()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Tfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=er(),this.zt=uH(),this.Wt=new We(re)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:H()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(xm(o))if(0===i){const a=new L(o.path);this.Yt(r,a,Je.newNoDocument(a,W.min()))}else q(1===i);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);0!==l&&(this.ee(r),this.Wt=this.Wt.insert(r,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=hT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,g,_,v;const y={localCacheCount:u,existenceFilterCount:d.count},I=d.unchangedNames;return I&&(y.bloomFilter={applied:0===c,hashCount:null!==(h=I?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=I?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(v=null===(_=I?.bits)||void 0===_?void 0:_.padding)&&void 0!==v?v:0}),y}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=ts(s).toUint8Array()}catch(u){if(u instanceof m$)return Hr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new fT(l,o,a)}catch(u){return Hr(u instanceof Jd?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&xm(a.target)){const l=new L(a.target.path);null!==this.jt.get(l)||this.ae(o,l)||this.Yt(o,l,Je.newNoDocument(l,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=fe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new eh(e,t,this.Wt,this.jt,r);return this.jt=er(),this.zt=uH(),this.Wt=new We(re),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cH,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ze(re),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||k("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cH),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function uH(){return new We(L.comparator)}function dH(){return new We(L.comparator)}const Afe={asc:"ASCENDING",desc:"DESCENDING"},Mfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xfe={and:"AND",or:"OR"};class kfe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pT(n,e){return n.useProto3Json||Ud(e)?e:{value:e}}function Kl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hH(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Rfe(n,e){return Kl(n,e.toTimestamp())}function It(n){return q(!!n),W.fromTimestamp(function(e){const t=Fs(e);return new ct(t.seconds,t.nanos)}(n))}function gT(n,e){return(t=n,new Ee(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fH(n){const e=Ee.fromString(n);return q(EH(e)),e}function nh(n,e){return gT(n.databaseId,e.path)}function Ei(n,e){const t=fH(e);if(t.get(1)!==n.databaseId.projectId)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new L(gH(t))}function mT(n,e){return gT(n.databaseId,e)}function rh(n){return new Ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gH(n){return q(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function mH(n,e,t){return{name:nh(n,e),fields:t.value.mapValue.fields}}function yH(n,e){return{documents:[mT(n,e.path)]}}function yT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=mT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return bH(Ve.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:js((u=c).field),direction:Lfe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=pT(n,e.limit);var a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function vH(n){let e=function pH(n){const e=fH(n);return 4===e.length?Ee.emptyPath():gH(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){q(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=wH(u);return d instanceof Ve&&eT(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new jl(Yl((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Ud(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Us((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Us(u.values||[],!u.before)}(t.endAt)),function P$(n,e,t,r,i,s,o,a){return new ns(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function wH(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yl(e.unaryFilter.field);return _e.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Yl(e.unaryFilter.field);return _e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yl(e.unaryFilter.field);return _e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yl(e.unaryFilter.field);return _e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(n):void 0!==n.fieldFilter?_e.create(Yl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ve.create(e.compositeFilter.filters.map(t=>wH(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(n):H();var e}function Lfe(n){return Afe[n]}function Vfe(n){return Mfe[n]}function Bfe(n){return xfe[n]}function js(n){return{fieldPath:n.canonicalString()}}function Yl(n){return Dt.fromServerFormat(n.fieldPath)}function bH(n){return n instanceof _e?function(e){if("=="===e.op){if(v$(e.value))return{unaryFilter:{field:js(e.field),op:"IS_NAN"}};if(y$(e.value))return{unaryFilter:{field:js(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(v$(e.value))return{unaryFilter:{field:js(e.field),op:"IS_NOT_NAN"}};if(y$(e.value))return{unaryFilter:{field:js(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(e.field),op:Vfe(e.op),value:e.value}}}(n):n instanceof Ve?function(e){const t=e.getFilters().map(r=>bH(r));return 1===t.length?t[0]:{compositeFilter:{op:Bfe(e.op),filters:t}}}(n):H()}function Ufe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ss{constructor(e,t,r,i,s=W.min(),o=W.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CH{constructor(e){this.fe=e}}function vT(n){const e=vH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Om(e,e.limit,"L"):e}class ea{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(gt(e.integerValue));else if("doubleValue"in e){const r=gt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),jd(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ts(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?w$(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):H()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),L.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}ea.Ve=new ea;class Yfe{constructor(){this.rn=new IT}addToCollectionParentIndex(e,t){return this.rn.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(fr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class IT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ze(Ee.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Ee.comparator)).toArray()}}new Uint8Array(0);class Sn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class na{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new na(0)}static Mn(){return new na(-1)}}class tpe{constructor(){this.changes=new rs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ipe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YH{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Zd(r.mutation,i,Jn.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){const i=bi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Yd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=bi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=er();const o=Qd(),a=Qd();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof is)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Zd(u.mutation,c,u.mutation.getFieldMask(),ct.now())):o.set(c.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new ipe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Qd();let i=new We((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Jn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=$$();u.forEach(h=>{if(!s.has(h)){const f=X$(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return L.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):iT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(bi());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fe())).next(u=>({batchId:a,changes:j$(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(r=>{let i=Yd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Yd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const l=(c=t,u=a.child(i),new ns(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,Je.newInvalidDocument(c)))});let o=Yd();return s.forEach((a,l)=>{const c=i.get(a);void 0!==c&&Zd(c.mutation,l,Jn.empty(),ct.now()),Kd(t,l)&&(o=o.insert(a,l))}),o})}}class spe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return w.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:It(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:vT(r.bundledQuery),readTime:It(r.readTime)}),w.resolve();var r}}class ope{constructor(){this.overlays=new We(L.comparator),this.ls=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bi();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=bi(),s=t.length+1,o=new L(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new We((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=bi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=bi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dT(t,r));let s=this.ls.get(t);void 0===s&&(s=fe(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class ST{constructor(){this.fs=new Ze(Zt.ds),this.ws=new Ze(Zt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Zt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Zt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new L(new Ee([])),r=new Zt(t,e),i=new Zt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new L(new Ee([])),r=new Zt(t,e),i=new Zt(t,e+1);let s=fe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Zt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return L.comparator(e.key,t.key)||re(e.As,t.As)}static _s(e,t){return re(e.As,t.As)||L.comparator(e.key,t.key)}}class ape{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ze(Zt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new cT(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Zt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zt(t,0),i=new Zt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(re);return t.forEach(i=>{const s=new Zt(i,0),o=new Zt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new Zt(new L(s),0);let a=new Ze(re);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){q(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(t.mutations,i=>{const s=new Zt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Zt(t,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lpe{constructor(e){this.Ds=e,this.docs=new We(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(t))}getEntries(e,t){let r=er();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Je.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=er();const o=t.path,a=new L(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||WS(r$(u),r)<=0||(i.has(u.key)||Kd(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){H()}Cs(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cpe(this)}getSize(e){return w.resolve(this.size)}}class cpe extends tpe{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class upe{constructor(e){this.persistence=e,this.xs=new rs(t=>Wo(t),qd),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ST,this.targetCount=0,this.Ms=na.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),w.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new na(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Fn(t),w.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.ks.containsKey(t))}}class TT{constructor(e,t){this.$s={},this.overlays={},this.Os=new pr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new upe(this),this.indexManager=new Yfe,this.remoteDocumentCache=new lpe(r=>this.referenceDelegate.Ls(r)),this.serializer=new CH(t),this.qs=new spe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ope,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new ape(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){k("MemoryPersistence","Starting transaction:",e);const i=new dpe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class dpe extends Rhe{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Qs=new ST,this.js=null}static zs(e){return new Wm(e)}get Ws(){if(this.js)return this.js;throw H()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),w.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=L.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,W.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return w.or([()=>w.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class kT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=fe(),i=fe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kT(e,t.fromCache,r,i)}}class XH{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(F$(t))return w.resolve(null);let r=jn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Om(t,null,"F"),r=jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(t,a);return this.zi(t,c,o,l.readTime)?this.Ki(e,Om(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,r,i){return F$(t)||i.isEqual(W.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(zS()<=Se.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oT(t)),this.Wi(e,o,t,function n$(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new ct(t+1,0):new ct(t,r));return new fr(i,L.empty(),e)}(i,-1)))})}ji(e,t){let r=new Ze(B$(e));return t.forEach((i,s)=>{Kd(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return zS()<=Se.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",oT(t)),this.Ui.getDocumentsMatchingQuery(e,t,fr.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class fpe{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new We(re),this.Yi=new rs(s=>Wo(s),qd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function JH(n,e){return RT.apply(this,arguments)}function RT(){return RT=m(function*(n,e){const t=B(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),RT.apply(this,arguments)}function ez(n){const e=B(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function mpe(n,e){const t=B(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jl(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=m(function*(n,e,t){const r=B(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ns(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),OT.apply(this,arguments)}function Qm(n,e,t){const r=B(n);let i=W.min(),s=fe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=B(a),d=u.Yi.get(c);return void 0!==d?w.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,o,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:W.min(),t?s:fe())).next(a=>(function iz(n,e,t){let r=n.Xi.get(e)||W.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function V$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class VT{constructor(){this.activeTargetIds=function aT(){return _fe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class az{constructor(){this.Hr=new VT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new VT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vpe{Yr(e){}shutdown(){}}class lz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jm=null;function UT(){return null===Jm?Jm=268435456+Math.round(2147483648*Math.random()):Jm++,"0x"+Jm.toString(16)}const wpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bpe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Tn="WebChannelConnection";class Epe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=UT(),a=this.To(e,t);k("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(k("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Hr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ll,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${wpe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=UT();return new Promise((o,a)=>{const l=new whe;l.setWithCredentials(!0),l.listenOnce(_he.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case HS.NO_ERROR:const u=l.getResponseJson();k(Tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case HS.TIMEOUT:k(Tn,`RPC '${e}' ${s} timed out`),a(new x(b.DEADLINE_EXCEEDED,"Request time out"));break;case HS.HTTP_ERROR:const d=l.getStatus();if(k(Tn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const _=g.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(_)>=0?_:b.UNKNOWN}(f.status);a(new x(p,f.message))}else a(new x(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new x(b.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{k(Tn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);k(Tn,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=UT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ghe(),a=mhe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new vhe({})),this.Eo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");k(Tn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new bpe({ro:_=>{f?k(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(k(Tn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),k(Tn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),g=(_,v,y)=>{_.listen(v,I=>{try{y(I)}catch(R){setTimeout(()=>{throw R},0)}})};return g(d,vm.EventType.OPEN,()=>{f||k(Tn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,vm.EventType.CLOSE,()=>{f||(f=!0,k(Tn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,vm.EventType.ERROR,_=>{f||(f=!0,Hr(Tn,`RPC '${e}' stream ${i} transport errored:`,_),p.wo(new x(b.UNAVAILABLE,"The operation could not be completed")))}),g(d,vm.EventType.MESSAGE,_=>{var v;if(!f){const y=_.data[0];q(!!y);const R=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(R){k(Tn,`RPC '${e}' stream ${i} received error:`,R);const j=R.status;let K=function(Tt){const Jt=kt[Tt];if(void 0!==Jt)return rH(Jt)}(j),ge=R.message;void 0===K&&(K=b.INTERNAL,ge="Unknown error status: "+j+" with message "+R.message),f=!0,p.wo(new x(K,ge)),d.close()}else k(Tn,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,yhe.STAT_EVENT,_=>{_.stat===Qj.PROXY?k(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Qj.NOPROXY&&k(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function e_(){return typeof document<"u"?document:null}function fh(n){return new kfe(n,!0)}class jT{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class uz{constructor(e,t,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new jT(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===b.RESOURCE_EXHAUSTED?(Ct(t.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new x(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cpe extends uz{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Nfe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:H(),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(q(void 0===c||"string"==typeof c),jt.fromBase64String(c||"")):(q(void 0===c||c instanceof Uint8Array),jt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?b.UNKNOWN:rH(l.code);return new x(c,l.message||"")}(o);t=new lH(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ei(n,r.document.name),s=It(r.document.updateTime),o=r.document.createTime?It(r.document.createTime):W.min(),a=new hn({mapValue:{fields:r.document.fields}}),l=Je.newFoundDocument(i,s,o,a);t=new Vm(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Ei(n,r.document),s=r.readTime?It(r.readTime):W.min(),o=Je.newNoDocument(i,s);t=new Vm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ei(n,r.document);t=new Vm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return H();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Ife(i,s);t=new aH(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?It(s.readTime):W.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=rh(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=xm(a)?{documents:yH(i,a)}:{query:yT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=hH(i,s.resumeToken);const l=pT(i,s.expectedCount);null!==l&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(W.min())>0){o.readTime=Kl(i,s.snapshotVersion.toTimestamp());const l=pT(i,s.expectedCount);null!==l&&(o.expectedCount=l)}return o}(this.serializer,e);const r=function Ffe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=rh(this.serializer),t.removeTarget=e,this.Wo(t)}}class Dpe extends uz{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Pfe(n,e){return n&&n.length>0?(q(void 0!==e),n.map(t=>function(r,i){let s=It(r.updateTime?r.updateTime:i);return s.isEqual(W.min())&&(s=It(i)),new bfe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.cu(r,t)}return q(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=rh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function ih(n,e){let t;if(e instanceof ql)t={update:mH(n,e.key,e.value)};else if(e instanceof Wl)t={delete:nh(n,e.key)};else if(e instanceof is)t={update:mH(n,e.key,e.data),updateMask:Ufe(e.fieldMask)};else{if(!(e instanceof lT))return H();t={verify:nh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof zl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Gl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Rfe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:H()),t;var i}(this.serializer,r))};this.Wo(t)}}class Ipe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(b.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(b.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Tpe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ct(t),this.mu=!1):k("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ape{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var l;Gs(o)&&(k("RemoteStore","Restarting streams for network reachability change."),yield(l=m(function*(c){const u=B(c);u.vu.add(4),yield ec(u),u.bu.set("Unknown"),u.vu.delete(4),yield ph(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.bu=new Tpe(r,i)}}function ph(n){return HT.apply(this,arguments)}function HT(){return HT=m(function*(n){if(Gs(n))for(const e of n.Ru)yield e(!0)}),HT.apply(this,arguments)}function ec(n){return zT.apply(this,arguments)}function zT(){return zT=m(function*(n){for(const e of n.Ru)yield e(!1)}),zT.apply(this,arguments)}function t_(n,e){const t=B(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),WT(t)?qT(t):nc(t).Ko()&&GT(t,e))}function gh(n,e){const t=B(n),r=nc(t);t.Au.delete(e),r.Ko()&&dz(t,e),0===t.Au.size&&(r.Ko()?r.jo():Gs(t)&&t.bu.set("Unknown"))}function GT(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nc(n).su(e)}function dz(n,e){n.Vu.qt(e),nc(n).iu(e)}function qT(n){n.Vu=new Tfe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),nc(n).start(),n.bu.gu()}function WT(n){return Gs(n)&&!nc(n).Uo()&&n.Au.size>0}function Gs(n){return 0===B(n).vu.size}function hz(n){n.Vu=void 0}function Mpe(n){return KT.apply(this,arguments)}function KT(){return KT=m(function*(n){n.Au.forEach((e,t)=>{GT(n,e)})}),KT.apply(this,arguments)}function xpe(n,e){return YT.apply(this,arguments)}function YT(){return YT=m(function*(n,e){hz(n),WT(n)?(n.bu.Iu(e),qT(n)):n.bu.set("Unknown")}),YT.apply(this,arguments)}function kpe(n,e,t){return QT.apply(this,arguments)}function QT(){return QT=m(function*(n,e,t){if(n.bu.set("Online"),e instanceof lH&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield n_(n,r)}else if(e instanceof Vm?n.Vu.Ht(e):e instanceof aH?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(W.min()))try{const r=yield ez(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(jt.EMPTY_BYTE_STRING,c.snapshotVersion)),dz(i,a);const u=new ss(c.target,a,l,c.sequenceNumber);GT(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){k("RemoteStore","Failed to raise snapshot:",r),yield n_(n,r)}var r}),QT.apply(this,arguments)}function n_(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=m(function*(n,e,t){if(!Ns(e))throw e;n.vu.add(1),yield ec(n),n.bu.set("Offline"),t||(t=()=>ez(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){k("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield ph(n)}))}),XT.apply(this,arguments)}function fz(n,e){return e().catch(t=>n_(n,t,e))}function tc(n){return ZT.apply(this,arguments)}function ZT(){return ZT=m(function*(n){const e=B(n),t=qs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Rpe(e);)try{const i=yield mpe(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Ope(e,i)}catch(i){yield n_(e,i)}pz(e)&&gz(e)}),ZT.apply(this,arguments)}function Rpe(n){return Gs(n)&&n.Eu.length<10}function Ope(n,e){n.Eu.push(e);const t=qs(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function pz(n){return Gs(n)&&!qs(n).Uo()&&n.Eu.length>0}function gz(n){qs(n).start()}function Npe(n){return JT.apply(this,arguments)}function JT(){return JT=m(function*(n){qs(n).hu()}),JT.apply(this,arguments)}function Ppe(n){return eA.apply(this,arguments)}function eA(){return eA=m(function*(n){const e=qs(n);for(const t of n.Eu)e.uu(t.mutations)}),eA.apply(this,arguments)}function Fpe(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=m(function*(n,e,t){const r=n.Eu.shift(),i=uT.from(r,e,t);yield fz(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield tc(n)}),tA.apply(this,arguments)}function Lpe(n,e){return nA.apply(this,arguments)}function nA(){return nA=m(function*(n,e){var t;e&&qs(n).ou&&(yield(t=m(function*(r,i){if(function nH(n){switch(n){default:return H();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}(s=i.code)&&s!==b.ABORTED){const o=r.Eu.shift();qs(r).Qo(),yield fz(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield tc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),pz(n)&&gz(n)}),nA.apply(this,arguments)}function mz(n,e){return rA.apply(this,arguments)}function rA(){return rA=m(function*(n,e){const t=B(n);t.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=Gs(t);t.vu.add(3),yield ec(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ph(t)}),rA.apply(this,arguments)}function sA(){return sA=m(function*(n,e){const t=B(n);e?(t.vu.delete(2),yield ph(t)):e||(t.vu.add(2),yield ec(t),t.bu.set("Unknown"))}),sA.apply(this,arguments)}function nc(n){return n.Su||(n.Su=function(e,t,r){const i=B(e);return i.fu(),new Cpe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Mpe.bind(null,n),ao:xpe.bind(null,n),nu:kpe.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Su.Qo(),WT(n)?qT(n):n.bu.set("Unknown")):(yield n.Su.stop(),hz(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function qs(n){return n.Du||(n.Du=function(e,t,r){const i=B(e);return i.fu(),new Dpe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Npe.bind(null,n),ao:Lpe.bind(null,n),au:Ppe.bind(null,n),cu:Fpe.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Du.Qo(),yield tc(n)):(yield n.Du.stop(),n.Eu.length>0&&(k("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class oA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new oA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rc(n,e){if(Ct("AsyncQueue",`${e}: ${n}`),Ns(n))return new x(b.UNAVAILABLE,`${e}: ${n}`);throw n}class ic{constructor(e){this.comparator=e?(t,r)=>e(t,r)||L.comparator(t.key,r.key):(t,r)=>L.comparator(t.key,r.key),this.keyedMap=Yd(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new ic(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _z{constructor(){this.Cu=new We(L.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):H():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class sc{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new sc(e,t,ic.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Vpe{constructor(){this.Nu=void 0,this.listeners=[]}}class Bpe{constructor(){this.queries=new rs(e=>L$(e),Wd),this.onlineState="Unknown",this.ku=new Set}}function aA(n,e){return lA.apply(this,arguments)}function lA(){return lA=m(function*(n,e){const t=B(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Vpe),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=rc(o,`Initialization of query '${oT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&dA(t)}),lA.apply(this,arguments)}function cA(n,e){return uA.apply(this,arguments)}function uA(){return uA=m(function*(n,e){const t=B(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),uA.apply(this,arguments)}function Upe(n,e){const t=B(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&dA(t)}function jpe(n,e,t){const r=B(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function dA(n){n.ku.forEach(e=>{e.next()})}class hA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class wz{constructor(e){this.key=e}}class bz{constructor(e){this.key=e}}class Ez{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fe(),this.mutatedKeys=fe(),this.tc=B$(e),this.ec=new ic(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new _z,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Kd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==s.length||l?{snapshot:new sc(this.query,e.ec,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _z,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new bz(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new wz(r))}),t}hc(e){this.Yu=e.ir,this.Zu=fe();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return sc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class zpe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Gpe{constructor(e){this.key=e,this.fc=!1}}class qpe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new rs(a=>L$(a),Wd),this._c=new Map,this.mc=new Set,this.gc=new We(L.comparator),this.yc=new Map,this.Ic=new ST,this.Tc={},this.Ec=new Map,this.Ac=na.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Wpe(n,e){return fA.apply(this,arguments)}function fA(){return fA=m(function*(n,e){const t=function FA(n){const e=B(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qpe.bind(null,e),e.dc.nu=Upe.bind(null,e.eventManager),e.dc.Pc=jpe.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Zl(n,e){const t=B(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,jn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function pA(n,e,t,r,i){return gA.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&t_(t.remoteStore,o)}return i}),fA.apply(this,arguments)}function gA(){return gA=m(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=m(function*(g,_,v,y){let I=_.view.sc(v);I.zi&&(I=yield Qm(g.localStore,_.query,!1).then(({documents:K})=>_.view.sc(K,I)));const R=y&&y.targetChanges.get(_.targetId),j=_.view.applyChanges(I,g.isPrimaryClient,R);return IA(g,_.targetId,j.cc),j.snapshot}),function(g,_,v,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Qm(n.localStore,e,!0),o=new Ez(e,s.ir),a=o.sc(s.documents),l=th.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);IA(n,t,c.cc);const u=new zpe(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),gA.apply(this,arguments)}function Kpe(n,e){return mA.apply(this,arguments)}function mA(){return mA=m(function*(n,e){const t=B(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Wd(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Jl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),gh(t.remoteStore,r.targetId),oc(t,r.targetId)}).catch(Os))):(oc(t,r.targetId),yield Jl(t.localStore,r.targetId,!0))}),mA.apply(this,arguments)}function _A(){return _A=m(function*(n,e,t){const r=function LA(n){const e=B(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zpe.bind(null,e),e}(n);try{const i=yield function(s,o){const a=B(s),l=ct.now(),c=o.reduce((h,f)=>h.add(f.key),fe());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=er(),p=fe();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((_,v)=>{v.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const _=[];for(const v of o){const y=Cfe(v,u.get(v.key).overlayedDocument);null!=y&&_.push(new is(v.key,y,C$(y.value.mapValue),nt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(g=>{d=g;const _=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,_)})}).then(()=>({batchId:d.batchId,changes:j$(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new We(re)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield os(r,i.changes),yield tc(r.remoteStore)}catch(i){const s=rc(i,"Failed to persist write");t.reject(s)}}),_A.apply(this,arguments)}function Cz(n,e){return yA.apply(this,arguments)}function yA(){return yA=m(function*(n,e){const t=B(n);try{const r=yield function gpe(n,e){const t=B(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(jt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let l=er(),c=fe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function tz(n,e,t){let r=fe(),i=fe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=er();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(W.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?q(o.fc):i.removedDocuments.size>0&&(q(o.fc),o.fc=!1))}),yield os(t,r,e)}catch(r){yield Os(r)}}),yA.apply(this,arguments)}function Dz(n,e,t){const r=B(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=B(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&dA(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qpe(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=m(function*(n,e,t){const r=B(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new We(L.comparator);o=o.insert(s,Je.newNoDocument(s,W.min()));const a=fe().add(s),l=new eh(W.min(),new Map,new We(re),o,a);yield Cz(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),SA(r)}else yield Jl(r.localStore,e,!1).then(()=>oc(r,e,t)).catch(Os)}),vA.apply(this,arguments)}function Xpe(n,e){return wA.apply(this,arguments)}function wA(){return wA=m(function*(n,e){const t=B(n),r=e.batch.batchId;try{const i=yield function ppe(n,e){const t=B(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);q(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=fe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);DA(t,r,null),CA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield os(t,i)}catch(i){yield Os(i)}}),wA.apply(this,arguments)}function Zpe(n,e,t){return bA.apply(this,arguments)}function bA(){return bA=m(function*(n,e,t){const r=B(n);try{const i=yield function(s,o){const a=B(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(q(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);DA(r,e,t),CA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield os(r,i)}catch(i){yield Os(i)}}),bA.apply(this,arguments)}function CA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function DA(n,e,t){const r=B(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function oc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Iz(n,r)})}function Iz(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(gh(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),SA(n))}function IA(n,e,t){for(const r of t)r instanceof wz?(n.Ic.addReference(r.key,e),ege(n,r)):r instanceof bz?(k("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Iz(n,r.key)):H()}function ege(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(k("SyncEngine","New document in limbo: "+t),n.mc.add(r),SA(n))}function SA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new L(Ee.fromString(e)),r=n.Ac.next();n.yc.set(r,new Gpe(t)),n.gc=n.gc.insert(t,r),t_(n.remoteStore,new ss(jn(Hl(t.path)),r,"TargetPurposeLimboResolution",pr.ct))}}function os(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=m(function*(n,e,t){const r=B(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=kT.Li(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(l,c){const u=B(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ns(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,g)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),TA.apply(this,arguments)}function tge(n,e){return AA.apply(this,arguments)}function AA(){return AA=m(function*(n,e){const t=B(n);if(!t.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=yield JH(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new x(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield os(t,r.er)}var i}),AA.apply(this,arguments)}function nge(n,e){const t=B(n),r=t.yc.get(e);if(r&&r.fc)return fe().add(r.key);{let i=fe();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class r_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.serializer=fh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function ZH(n,e,t,r){return new fpe(n,e,t,r)}(this.persistence,new XH,e.initialUser,this.serializer)}createPersistence(e){return new TT(Wm.zs,this.serializer)}createSharedClientState(e){return new az}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ac{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Dz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tge.bind(null,r.syncEngine),yield function iA(n,e){return sA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bpe}createDatastore(e){const t=fh(e.databaseInfo.databaseId),r=new Epe(e.databaseInfo);return new Ipe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Dz(this.syncEngine,a,0),o=lz.D()?new lz:new vpe,new Ape(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new qpe(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=B(t);k("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ec(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class i_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ct("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gge{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=e$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){k("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(k("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=rc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function s_(n,e){return VA.apply(this,arguments)}function VA(){return VA=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield JH(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),VA.apply(this,arguments)}function BA(n,e){return UA.apply(this,arguments)}function UA(){return UA=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function jA(n){return $A.apply(this,arguments)}(n);k("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>mz(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>mz(e.remoteStore,s)),n._onlineComponents=e}),UA.apply(this,arguments)}function $A(){return $A=m(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{yield s_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function kz(n){return"FirebaseError"===n.name?n.code===b.FAILED_PRECONDITION||n.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Hr("Error using user provided cache. Falling back to memory cache: "+t),yield s_(n,new r_)}}else k("FirestoreClient","Using default OfflineComponentProvider"),yield s_(n,new r_);return n._offlineComponents}),$A.apply(this,arguments)}function o_(n){return HA.apply(this,arguments)}function HA(){return HA=m(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),yield BA(n,n._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),yield BA(n,new ac))),n._onlineComponents}),HA.apply(this,arguments)}function lc(n){return GA.apply(this,arguments)}function GA(){return GA=m(function*(n){const e=yield o_(n),t=e.eventManager;return t.onListen=Wpe.bind(null,e.syncEngine),t.onUnlisten=Kpe.bind(null,e.syncEngine),t}),GA.apply(this,arguments)}function Lz(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Vz=new Map;function qA(n,e,t){if(!t)throw new x(b.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Bz(n){if(!L.isDocumentKey(n))throw new x(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uz(n){if(L.isDocumentKey(n))throw new x(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function l_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":H()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=l_(n);throw new x(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class $z{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new x(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Dge(n,e,t,r){if(!0===e&&!0===r)throw new x(b.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Lz(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new x(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new x(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new x(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $z({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $z(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ehe;switch(t.type){case"firstParty":return new She(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new x(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vz.get(e);t&&(k("ComponentProvider","Removing Datastore"),Vz.delete(e),t.terminate())}(this),Promise.resolve()}}class St{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class fn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fn(this.firestore,e,this._query)}}class Ci extends fn{constructor(e,t,r){super(e,t,Hl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new L(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Sge(n,e,...t){if(n=Mt(n),qA("collection","path",e),n instanceof mh){const r=Ee.fromString(e,...t);return Uz(r),new Ci(n,null,r)}{if(!(n instanceof St||n instanceof Ci))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return Uz(r),new Ci(n.firestore,null,r)}}function Hz(n,e,...t){if(n=Mt(n),1===arguments.length&&(e=e$.A()),qA("doc","path",e),n instanceof mh){const r=Ee.fromString(e,...t);return Bz(r),new St(n,null,new L(r))}{if(!(n instanceof St||n instanceof Ci))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return Bz(r),new St(n.firestore,n instanceof Ci?n.converter:null,new L(r))}}class Tge{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new jT(this,"async_queue_retry"),this.Xc=()=>{const t=e_();t&&k("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=e_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=e_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ut;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ns(t))throw t;k("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ct("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=oA.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&H()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function WA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class et extends mh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Tge,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gz(this),this._firestoreClient.terminate()}}function Mge(n,e){const r="string"==typeof n?n:e||"(default)",i=bl("object"==typeof n?n:bE(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=R2("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function Ige(n,e,t,r={}){var i;const s=(n=ve(n,mh))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Qt.MOCK_USER;else{a=function Fne(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rg(JSON.stringify({alg:"none",type:"JWT"})),rg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new x(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(c)}n._authCredentials=new Che(new Zj(a,l))}}(i,...s)}return i}function Rt(n){return n._firestoreClient||Gz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Gz(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nfe(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Lz(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new gge(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(jt.fromBase64String(e))}catch(t){throw new x(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ia(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class KA{constructor(e){this._methodName=e}}class YA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const kge=/^__.*__$/;class Rge{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new is(e,this.data,this.fieldMask,t,this.fieldTransforms):new ql(e,this.data,t,this.fieldTransforms)}}class Kz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new is(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class c_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new c_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return d_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Yz(this.ca)&&kge.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Oge{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fh(e)}ya(e,t,r,i=!1){return new c_({ca:e,methodName:t,ga:r,path:Dt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uc(n){const e=n._freezeSettings(),t=fh(n._databaseId);return new Oge(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QA(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);ZA("Data must be an object, but it was:",o,r);const a=e4(r,o);let l,c;if(s.merge)l=new Jn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=vh(e,d,t);if(!o.contains(h))throw new x(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);n4(u,h)||u.push(h)}l=new Jn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Rge(new hn(a),l,c)}class yh extends KA{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function sa(n,e){if(t4(n=Mt(n)))return ZA("Unsupported field value:",e,n),e4(n,e);if(n instanceof KA)return function(t,r){if(!Yz(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=sa(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Mt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return G$(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ct.fromDate(t);return{timestampValue:Kl(r.serializer,i)}}if(t instanceof ct){const i=new ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kl(r.serializer,i)}}if(t instanceof YA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ia)return{bytesValue:hH(r.serializer,t._byteString)};if(t instanceof St){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${l_(t)}`)}(n,e)}function e4(n,e){const t={};return p$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(n,(r,i)=>{const s=sa(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function t4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof YA||n instanceof ia||n instanceof St||n instanceof KA)}function ZA(n,e,t){if(!t4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=l_(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function vh(n,e,t){if((e=Mt(e))instanceof cc)return e._internalPath;if("string"==typeof e)return u_(n,e);throw d_("Field path arguments must be of type string or ",n,!1,void 0,t)}const Lge=new RegExp("[~\\*/\\[\\]]");function u_(n,e,t){if(e.search(Lge)>=0)throw d_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cc(...e.split("."))._internalPath}catch{throw d_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function d_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new x(b.INVALID_ARGUMENT,a+n+l)}function n4(n,e){return n.some(t=>t.isEqual(e))}class JA{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(h_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vge extends JA{data(){return super.data()}}function h_(n,e){return"string"==typeof e?u_(n,e):e instanceof cc?e._internalPath:e._delegate._internalPath}function r4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new x(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eM{}class Bge extends eM{}function Uge(n,e,...t){let r=[];e instanceof eM&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof dc).length,o=i.filter(a=>a instanceof wh).length;if(s>1||s>0&&o>0)throw new x(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class wh extends Bge{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wh(e,t,r)}_apply(e){const t=this._parse(e);return a4(e._query,t),new fn(e.firestore,e.converter,sT(e._query,t))}_parse(e){const t=uc(e.firestore);return function(i,s,o,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new x(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){o4(u,c);const h=[];for(const f of u)h.push(s4(a,i,f));d={arrayValue:{values:h}}}else d=s4(a,i,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||o4(u,c),d=function Jz(n,e,t,r=!1){return sa(t,n.ya(r?4:3,e))}(o,"where",u,"in"===c||"not-in"===c);return _e.create(l,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function jge(n,e,t){const r=e,i=h_("where",n);return wh._create(i,r,t)}class dc extends eM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dc(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ve.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)a4(s,a),s=sT(s,a)}(e._query,t),new fn(e.firestore,e.converter,sT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function s4(n,e,t){if("string"==typeof(t=Mt(t))){if(""===t)throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(e)&&-1!==t.indexOf("/"))throw new x(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ee.fromString(t));if(!L.isDocumentKey(r))throw new x(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qo(n,new L(r))}if(t instanceof St)return qo(n,t._key);throw new x(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l_(t)}.`)}function o4(n,e){if(!Array.isArray(n)||0===n.length)throw new x(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a4(n,e){if(e.isInequality()){const r=Rm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new x(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=rT(n);null!==s&&function l4(n,e,t){if(!t.isEqual(e))throw new x(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new x(b.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $ge{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw H()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ps(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new YA(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($d(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ee.fromString(e);q(EH(r));const i=new Go(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(t)||Ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class oa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hc extends JA{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new m_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(h_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class m_ extends hc{data(e={}){return super.data(e)}}class fc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new oa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new m_(this._firestore,this._userDataWriter,r.key,r,new oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new m_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new m_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:zge(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zge(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class Ws extends $ge{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}function Gge(n){n=ve(n,fn);const e=ve(n.firestore,et),t=Rt(e),r=new Ws(e);return r4(n._query),function Fz(n,e,t={}){const r=new Ut;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,l){const c=new i_({next:d=>{s.enqueueAndForget(()=>cA(i,u)),d.fromCache&&"server"===a.source?l.reject(new x(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new hA(o,c,{includeMetadataChanges:!0,Ku:!0});return aA(i,u)}(yield lc(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new fc(e,r,n,i))}function qge(n,e,t,...r){n=ve(n,St);const i=ve(n.firestore,et),s=uc(i);let o;return o="string"==typeof(e=Mt(e))||e instanceof cc?function Zz(n,e,t,r,i,s){const o=n.ya(1,e,t),a=[vh(e,r,t)],l=[i];if(s.length%2!=0)throw new x(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(vh(e,s[h])),l.push(s[h+1]);const c=[],u=hn.empty();for(let h=a.length-1;h>=0;--h)if(!n4(c,a[h])){const f=a[h];let p=l[h];p=Mt(p);const g=o.da(f);if(p instanceof yh)c.push(f);else{const _=sa(p,g);null!=_&&(c.push(f),u.set(f,_))}}const d=new Jn(c);return new Kz(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function Xz(n,e,t,r){const i=n.ya(1,e,t);ZA("Data must be an object, but it was:",i,r);const s=[],o=hn.empty();Ps(r,(l,c)=>{const u=u_(e,l,t);c=Mt(c);const d=i.da(u);if(c instanceof yh)s.push(u);else{const h=sa(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Jn(s);return new Kz(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),bh(i,[o.toMutation(n._key,nt.exists(!0))])}function Wge(n){return bh(ve(n.firestore,et),[new Wl(n._key,nt.none())])}function Kge(n,e){const t=ve(n.firestore,et),r=Hz(n),i=function nM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return bh(t,[QA(uc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,nt.exists(!1))]).then(()=>r)}function bh(n,e){return function(t,r){const i=new Ut;return t.asyncQueue.enqueueAndForget(m(function*(){return function Ype(n,e,t){return _A.apply(this,arguments)}(yield function zA(n){return o_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Rt(n),e)}!function(n,e=!0){Ll=Mo,Vn(new bn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new et(new Dhe(t.getProvider("auth-internal")),new The(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new x(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),dt(Xj,"3.13.0",n),dt(Xj,"3.13.0","esm2017")}();var ame={includeMetadataChanges:!1};function iM(n,e){return void 0===e&&(e=ame),new Be(function(t){var r=function Yge(n,...e){var t,r,i;n=Mt(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||WA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(WA(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof St)c=ve(n.firestore,et),u=Hl(n._key.path),l={next:d=>{e[o]&&e[o](function rM(n,e,t){const r=t.docs.get(e._key),i=new Ws(n);return new hc(n,i,e._key,r,new oa(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=ve(n,fn);c=ve(d.firestore,et),u=d._query;const h=new Ws(c);l={next:f=>{e[o]&&e[o](new fc(c,h,d,f))},error:e[o+1],complete:e[o+2]},r4(n._query)}return function(d,h,f,p){const g=new i_(p),_=new hA(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return aA(yield lc(d),_)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return cA(yield lc(d),_)}))}}(Rt(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function pme(n,e){return void 0===e&&(e={}),function fme(n){return iM(n,{includeMetadataChanges:!0}).pipe(we(function(e){return e.docs}))}(n).pipe(we(function(t){return t.map(function(r){return function d4(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class y_{constructor(e){return e}}const g4="firestore",aM=new O("angularfire2.firestore-instances");function _me(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new y_(r)}}const yme={provide:class gme{constructor(){return CD(g4)}},deps:[[new On,aM]]},vme={provide:y_,useFactory:function mme(n,e){const t=ED(g4,n,e);return t&&new y_(t)},deps:[[new On,aM],Il]};let wme=(()=>{class n{constructor(){dt("angularfire",Eg.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:[vme,yme]}),n})();function bme(n,...e){return{ngModule:wme,providers:[{provide:aM,useFactory:_me(n),multi:!0,deps:[de,Vt,DD,ID,[new On,RU],[new On,WD],...e]}]}}const Eh=En(pme,!0),Gr=En(Kge,!0),rt=En(Sge,!0),m4=En(Wge,!0),v_=En(Hz,!0),pc=En(Gge,!0),Eme=En(Mge,!0),gc=En(Uge,!0),w_=En(qge,!0),Ch=En(jge,!0);let lM=(()=>{class n{constructor(){}geticon(t){var r="";switch(t){case"Initial":r="../../../assets/sobre1.png";break;case"Basic":r="../../../assets/sobre2.png";break;case"Avanzado":r="../../../assets/sobre3.png";break;case"Especial":r="../../../assets/sobre4.png";break;case"Peasant":r="../../../assets/granjero.png";break;case"Arquero":r="../../../assets/ballesta1.png";break;case"Paladin":r="../../../assets/caballero1.png";break;case"Guerrero":r="../../../assets/hacha1.png";break;case"Picaro":r="../../../assets/espada1.png";break;case"Caballero":r="../../../assets/caballo1.png";break;case"Curandero":r="../../../assets/heal1.png";break;case"Hechicero":r="../../../assets/sorcer1.png";break;case"palo":r="../../../assets/porra.png";break;case"Pocion PV peque\xf1a":r="../../../assets/pocion.png";break;case"Carga":r="../../../assets/carga.png"}return r}sobres(t){var r=0,i=0,s=[];const o=NU;if("Initial"===t)for(let a=0;a<8;a++)switch(a){case 0:i=100*Math.random(),r=this.Option7({op0:40,op1:55,op2:70,op3:80,op4:90,op5:95},i),s.push(o[0][r]);break;case 1:i=100*Math.random(),r=this.Option7({op0:20,op1:40,op2:60,op3:75,op4:90,op5:95},i),s.push(o[0][r]);break;case 2:r=this.Option7({op0:5,op1:10,op2:25,op3:40,op4:60,op5:80},i),s.push(o[0][r]);break;case 3:{i=100*Math.random(),r=this.Option4({op0:10,op1:20,op2:70},i);const c=o[1][r];switch(i=100*Math.random(),++r){case 1:r=this.Option8({op0:15,op1:30,op2:45,op3:60,op4:70,op5:80,op6:90},i);break;case 2:r=this.Option5({op0:40,op1:70,op2:85,op3:95},i);break;case 3:r=this.Option2({op0:70,op1:30},i);break;case 4:r=this.Option4({op0:40,op1:60,op2:70},i)}s.push(c[r]);break}case 4:{i=100*Math.random(),r=this.Option4({op0:40,op1:50,op2:80},i);const c=o[1][r];switch(i=100*Math.random(),++r){case 1:r=this.Option8({op0:15,op1:30,op2:45,op3:60,op4:70,op5:80,op6:90},i);break;case 2:r=this.Option5({op0:40,op1:70,op2:85,op3:95},i);break;case 3:r=this.Option2({op0:70,op1:30},i);break;case 4:r=this.Option4({op0:40,op1:60,op2:70},i)}s.push(c[r]);break}case 5:{i=100*Math.random(),r=this.Option4({op0:40,op1:50,op2:80},i);const c=o[1][r];switch(i=100*Math.random(),++r){case 1:r=this.Option8({op0:15,op1:30,op2:45,op3:60,op4:70,op5:80,op6:90},i);break;case 2:r=this.Option5({op0:40,op1:70,op2:85,op3:95},i);break;case 3:r=this.Option2({op0:70,op1:30},i);break;case 4:r=this.Option4({op0:40,op1:60,op2:70},i)}s.push(c[r]);break}case 6:{i=100*Math.random(),r=this.Option5({op0:35,op1:70,op2:80,op3:90},i);const c=o[2][r];switch(i=100*Math.random(),++r){case 1:case 2:r=this.Option4({op0:35,op1:60,op2:80},i);break;case 3:r=this.Option5({op0:25,op1:50,op2:75,op3:90},i);break;case 4:r=this.Option5({op0:35,op1:60,op2:75,op3:90},i);break;case 5:r=this.Option4({op0:10,op1:60,op2:90},i)}s.push(c[r]);break}case 7:{i=100*Math.random(),r=this.Option5({op0:10,op1:20,op2:50,op3:80},i);const c=o[2][r];switch(i=100*Math.random(),++r){case 1:case 2:r=this.Option4({op0:35,op1:60,op2:80},i);break;case 3:r=this.Option5({op0:25,op1:50,op2:75,op3:90},i);break;case 4:r=this.Option5({op0:35,op1:60,op2:75,op3:90},i);break;case 5:r=this.Option4({op0:10,op1:60,op2:90},i)}s.push(c[r]);break}}return s}Option8(t,r){var i=0;return r<t.op0&&(i=0),r>=t.op0&&r<t.op1&&(i=1),r>=t.op1&&r<t.op2&&(i=2),r>=t.op2&&r<t.op3&&(i=3),r>=t.op3&&r<t.op4&&(i=4),r>=t.op5&&r<t.op6&&(i=5),r>=t.op6&&r<t.op7&&(i=6),r>=t.op7&&(i=7),i}Option7(t,r){var i=0;return r<t.op0&&(i=0),r>=t.op0&&r<t.op1&&(i=1),r>=t.op1&&r<t.op2&&(i=2),r>=t.op2&&r<t.op3&&(i=3),r>=t.op3&&r<t.op4&&(i=4),r>=t.op4&&r<t.op5&&(i=5),r>=t.op5&&(i=6),i}Option5(t,r){var i=0;return r<t.op0&&(i=0),r>=t.op0&&r<t.op1&&(i=1),r>=t.op1&&r<t.op2&&(i=2),r>=t.op2&&r<t.op3&&(i=3),r>=t.op3&&(i=4),i}Option4(t,r){var i=0;return r<t.op0&&(i=0),r>=t.op0&&r<t.op1&&(i=1),r>=t.op1&&r<t.op2&&(i=2),r>=t.op2&&(i=3),i}Option2(t,r){var i=0;return r<t.op0&&(i=0),r>=t.op0&&(i=1),i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ks=(()=>{class n{constructor(t,r,i){this.auth=t,this.sto=r,this.sobre=i,this.email="",this.docID="",this.fila=[]}register(t){return sde(this.auth,t.email,t.pass)}login(t){var r=this;return m(function*(){return localStorage.setItem("email",t.email),yield r.getdocID(t.email),ade(r.auth,t.email,t.pass)})()}logout(){return localStorage.clear(),lde(this.auth)}createinit(){var t=this;return m(function*(){var r=rt(t.sto,t.email);const i=yield Gr(r,{Gamesplayed:0,gamesWon:0,gamesLose:0}),s=pde;t.docID=i.id,r=rt(t.sto,t.email+"/"+t.docID+"/sobres"),Gr(r,s[0]),Gr(r,s[0]),r=rt(t.sto,t.email,t.docID,"tropas"),Gr(r,s[1]),r=rt(t.sto,t.email,t.docID,"equipo"),Gr(r,s[2]),Gr(r,s[3]),r=rt(t.sto,t.email,t.docID,"Habilidades"),Gr(r,s[4]),Gr(rt(t.sto,"Users"),{Gamesplayed:0,gamesWon:0,gameslose:0,Helo:0,email:t.email,Estado:!1})})()}changestatusoff(){var t=this;return m(function*(){const r=gc(rt(t.sto,"Users"),Ch("email","==",localStorage.getItem("email"))),i=yield pc(r);if(i.docs[0].id){const s=i.docs[0].id,o=rt(t.sto,"Users"),a=v_(o,s);yield w_(a,{Estado:!1})}})()}changueStatusOn(){var t=this;return m(function*(){localStorage.getItem("email");const i=gc(rt(t.sto,"Users"),Ch("email","==",localStorage.getItem("email"))),s=yield pc(i);if(s.docs[0]){const o=s.docs[0].id,a=v_(rt(t.sto,"Users"),o);yield w_(a,{Estado:!0})}})()}getdocID(t){var r=this;return m(function*(){const i=gc(rt(r.sto,t)),s=yield pc(i);if(s){const o=s.docs[0];r.docID=o.id,localStorage.setItem("doc",o.id)}})()}setemail(t){this.email=t}getemail(){return this.email}getUsers(){const t=rt(this.sto,"Users");return Eh(t,{idField:"id"})}getSobres(){const t=localStorage.getItem("email"),r=localStorage.getItem("doc"),i=rt(this.sto,t,r,"sobres");return Eh(i,{idField:"id"})}getropas(){const t=localStorage.getItem("email"),r=localStorage.getItem("doc"),i=rt(this.sto,t,r,"tropas");return Eh(i,{idField:"id"})}getitems(){const t=localStorage.getItem("email"),r=localStorage.getItem("doc"),i=rt(this.sto,t,r,"equipo");return Eh(i,{idField:"id"})}getSkills(){const t=localStorage.getItem("email"),r=localStorage.getItem("doc"),i=rt(this.sto,t,r,"Habilidades");return Eh(i,{idField:"id"})}getactivetroops(){var t=this;return m(function*(){const r=[],i=localStorage.getItem("email"),s=localStorage.getItem("doc");try{const o=gc(rt(t.sto,i,s,"tropas"),Ch("activa","==",!0));return(yield pc(o)).forEach(l=>{const c=l.data();r.push(c)}),r}catch(o){return console.error("Error al buscar tropas activas:",o),[]}})()}changuetroopact(t,r){var i=this;return m(function*(){const s=localStorage.getItem("email"),o=localStorage.getItem("doc"),a=rt(i.sto,s,o,"tropas"),l=v_(a,t);r?yield w_(l,{activa:!1}):yield w_(l,{activa:!0})})()}openSobre(t){var r="";const i=localStorage.getItem("email"),s=localStorage.getItem("doc"),a=rt(this.sto,i+"/"+s+"/sobres"),l=v_(a,t.id);if("Initial"===t.tipo){const c=this.sobre.sobres("Initial");for(let u=0;u<8;u++){u<3&&(r="tropas"),u>=3&&u<6&&(r="equipo"),u>=6&&(r="Hablidades");const d=rt(this.sto,i,s,r);Gr(d,c[u]),m4(l)}}m4(l)}addboard(t,r,i){Gr(rt(this.sto,"boards","TABLEROBASE",i),{id:r,cell:t})}getfilas(t,r){var i=this;return m(function*(){const s=rt(i.sto,"boards","TABLEROBASE",r),o=gc(s,Ch("id","==",t)),a=yield pc(o);return a&&(i.fila=a.docs[0].get("cell")),i.fila})()}getsolicitudes(t){var r=this;return m(function*(){const i=rt(r.sto,"solicitudes"),s=gc(i,Ch("Solicitado","==",t)),o=yield pc(s);var a=[];return o?(o.forEach(l=>{const c=l.data();a.push(c)}),a):[]})()}enviasol(t){const r=rt(this.sto,"solicitudes");Gr(r,{Solicitado:t.Solicitado,Solicitante:t.Solicitante,mapa:t.mapa,tiempo:t.tiempo,puntosBatalla:t.puntosBatalla})}}return n.\u0275fac=function(t){return new(t||n)(C(fd),C(y_),C(lM))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_4=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(E(Li),E(Lt))},n.\u0275dir=J({type:n}),n})(),aa=(()=>{class n extends _4{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=nn(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[De]}),n})();const Di=new O("NgValueAccessor"),Ime={provide:Di,useExisting:He(()=>Ys),multi:!0},Tme=new O("CompositionEventMode");let Ys=(()=>{class n extends _4{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sme(){const n=bs()?bs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Li),E(Lt),E(Tme,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ue("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[tt([Ime]),De]}),n})();function Qs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const An=new O("NgValidators"),Xs=new O("NgAsyncValidators");function b_(n){return null}function A4(n){return null!=n}function M4(n){return du(n)?Ht(n):n}function x4(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function k4(n,e){return e.map(t=>t(n))}function R4(n){return n.map(e=>function Mme(n){return!n.validate}(e)?e:t=>e.validate(t))}function cM(n){return null!=n?function O4(n){if(!n)return null;const e=n.filter(A4);return 0==e.length?null:function(t){return x4(k4(t,e))}}(R4(n)):null}function uM(n){return null!=n?function N4(n){if(!n)return null;const e=n.filter(A4);return 0==e.length?null:function(t){return function Cme(...n){const e=Gx(n),{args:t,keys:r}=EL(n),i=new Be(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;xn(t[u]).subscribe(it(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?CL(r,a):a),s.complete())}))}});return e?i.pipe(Nb(e)):i}(k4(t,e).map(M4)).pipe(we(x4))}}(R4(n)):null}function P4(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function F4(n){return n._rawValidators}function L4(n){return n._rawAsyncValidators}function dM(n){return n?Array.isArray(n)?n:[n]:[]}function E_(n,e){return Array.isArray(n)?n.includes(e):n===e}function V4(n,e){const t=dM(e);return dM(n).forEach(i=>{E_(t,i)||t.push(i)}),t}function B4(n,e){return dM(e).filter(t=>!E_(n,t))}class U4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class $n extends U4{get formDirective(){return null}get path(){return null}}class Zs extends U4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class j4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let mc=(()=>{class n extends j4{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Zs,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&hu("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[De]}),n})(),hM=(()=>{class n extends j4{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E($n,10))},n.\u0275dir=J({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&hu("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[De]}),n})();const Dh="VALID",D_="INVALID",_c="PENDING",Ih="DISABLED";function gM(n){return(I_(n)?n.validators:n)||null}function mM(n,e){return(I_(e)?e.asyncValidators:n)||null}function I_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class G4{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Dh}get invalid(){return this.status===D_}get pending(){return this.status==_c}get disabled(){return this.status===Ih}get enabled(){return this.status!==Ih}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(V4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(V4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(B4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(B4(e,this._rawAsyncValidators))}hasValidator(e){return E_(this._rawValidators,e)}hasAsyncValidator(e){return E_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_c,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ih,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dh||this.status===_c)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ih:Dh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_c,this._hasOwnPendingAsyncValidator=!0;const t=M4(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Ih:this.errors?D_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_c)?_c:this._anyControlsHaveStatus(D_)?D_:Dh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){I_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ome(n){return Array.isArray(n)?cM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Nme(n){return Array.isArray(n)?uM(n):n||null}(this._rawAsyncValidators)}}class Sh extends G4{constructor(e,t,r){super(gM(t),mM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function z4(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new D(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function H4(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[t])throw new D(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const la=new O("CallSetDisabledState",{providedIn:"root",factory:()=>Th}),Th="always";function S_(n,e){return[...e.path,n]}function Ah(n,e,t=Th){_M(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Lme(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&q4(n,e)})}(n,e),function Bme(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vme(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&q4(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Fme(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function T_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),M_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function A_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _M(n,e){const t=F4(n);null!==e.validator?n.setValidators(P4(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=L4(n);null!==e.asyncValidator?n.setAsyncValidators(P4(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();A_(e._rawValidators,i),A_(e._rawAsyncValidators,i)}function M_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=F4(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=L4(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return A_(e._rawValidators,r),A_(e._rawAsyncValidators,r),t}function q4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function wM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ys?t=s:function $me(n){return Object.getPrototypeOf(n.constructor)===aa}(s)?r=s:i=s}),i||r||t||null}function Y4(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Q4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const yc=class extends G4{constructor(e=null,t,r){super(gM(t),mM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),I_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Q4(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Y4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Y4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Q4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Wme={provide:Zs,useExisting:He(()=>xh)},J4=(()=>Promise.resolve())();let xh=(()=>{class n extends Zs{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new yc,this._registered=!1,this.name="",this.update=new Qe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wM(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ah(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){J4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function ul(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);J4.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?S_(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(E($n,9),E(An,10),E(Xs,10),E(Di,10),E(_p,8),E(la,8))},n.\u0275dir=J({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tt([Wme]),De,or]}),n})(),EM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Kme={provide:Di,useExisting:He(()=>CM),multi:!0};let CM=(()=>{class n extends aa{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=nn(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&ue("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[tt([Kme]),De]}),n})(),e3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({}),n})();const DM=new O("NgModelWithFormControlWarning"),Jme={provide:$n,useExisting:He(()=>kh)};let kh=(()=>{class n extends $n{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(M_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ah(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){T_(t.control||null,t,!1),function Hme(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function K4(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(T_(r||null,t),(n=>n instanceof yc)(i)&&(Ah(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function W4(n,e){_M(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ume(n,e){return M_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_M(this.form,this),this._oldForm&&M_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(E(An,10),E(Xs,10),E(la,8))},n.\u0275dir=J({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ue("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tt([Jme]),De,or]}),n})();const n_e={provide:Zs,useExisting:He(()=>x_)};let x_=(()=>{class n extends Zs{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wM(0,s)}ngOnChanges(t){this._added||this._setUpControl(),vM(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return S_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(E($n,13),E(An,10),E(Xs,10),E(Di,10),E(DM,8))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[tt([n_e]),De,or]}),n})();function c3(n){return"number"==typeof n?n:parseFloat(n)}let ca=(()=>{class n{constructor(){this._validator=b_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):b_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,features:[or]}),n})();const c_e={provide:An,useExisting:He(()=>MM),multi:!0};let MM=(()=>{class n extends ca{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>c3(t),this.createValidator=t=>function b4(n){return e=>{if(Qs(e.value)||Qs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=nn(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Er("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[tt([c_e]),De]}),n})();const u_e={provide:An,useExisting:He(()=>xM),multi:!0};let xM=(()=>{class n extends ca{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>c3(t),this.createValidator=t=>function w4(n){return e=>{if(Qs(e.value)||Qs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=nn(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Er("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[tt([u_e]),De]}),n})(),g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({imports:[e3]}),n})(),y_e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:la,useValue:t.callSetDisabledState??Th}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({imports:[g3]}),n})(),v_e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:DM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:la,useValue:t.callSetDisabledState??Th}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({imports:[g3]}),n})();function w_e(n,e){if(1&n&&(T(0,"div",1)(1,"p",2),F(2),S(),T(3,"p",2),F(4),S(),T(5,"p",2),F(6),S()()),2&n){const t=e.$implicit;V(2),sn(" ",t.Solicitante,""),V(2),sn(" ",t.puntosBatalla,""),V(2),sn(" ",t.tiempo,"")}}let b_e=(()=>{class n{constructor(t){this.fire=t,this.solicitudes=[]}ngOnInit(){this.getsolictudes()}getsolictudes(){this.fire.getsolicitudes(localStorage.getItem("email")).then(t=>{this.solicitudes=t})}}return n.\u0275fac=function(t){return new(t||n)(E(Ks))},n.\u0275cmp=rr({type:n,selectors:[["app-popupsolicitudes"]],decls:1,vars:1,consts:[["style","display: flex; justify-content: center;align-items: center; border: 2px solid gold;background-color: palegoldenrod;",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center","border","2px solid gold","background-color","palegoldenrod"],[2,"margin","4px"]],template:function(t,r){1&t&&Pe(0,w_e,7,3,"div",0),2&t&&te("ngForOf",r.solicitudes)},dependencies:[Su]}),n})();function E_e(n,e){if(1&n){const t=Cr();T(0,"div",7),at(1,"app-popupsolicitudes"),T(2,"button",6),ue("click",function(){return vt(t),wt(ce().cerrarpop())}),F(3,"cerrar"),S()()}}function C_e(n,e){if(1&n){const t=Cr();T(0,"div",16),ue("mouseenter",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!0))})("mouseleave",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!1))}),at(1,"img",17),T(2,"p"),F(3),S(),T(4,"button",18),ue("click",function(){const s=vt(t).$implicit;return wt(ce(2).abrirsob(s))}),F(5,"Abrir"),S()()}if(2&n){const t=e.$implicit,r=ce(2);V(1),te("src",r.geticon(t.tipo),Yn),V(2),rn(t.tipo)}}function D_e(n,e){if(1&n&&(T(0,"span",22),F(1),S()),2&n){const t=ce().$implicit;V(1),rn(t.Nombre)}}function I_e(n,e){if(1&n){const t=Cr();T(0,"div",19),ue("click",function(){const s=vt(t).$implicit;return wt(ce(2).gettroop(s))})("mouseenter",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!0))})("mouseleave",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!1))}),at(1,"img",20),Pe(2,D_e,2,1,"span",21),S()}if(2&n){const t=e.$implicit,r=e.index,i=ce(2);V(1),te("src",i.geticon(t.Nombre),Yn)("alt",r),V(1),te("ngIf",i.showTooltipForItem(t))}}function S_e(n,e){if(1&n&&(T(0,"span",22),F(1),S()),2&n){const t=ce().$implicit;V(1),rn(t.nombre)}}function T_e(n,e){1&n&&(T(0,"button",24),F(1,"Equipar"),S())}function A_e(n,e){1&n&&(T(0,"button",24),F(1,"A\xf1adir"),S())}function M_e(n,e){if(1&n){const t=Cr();T(0,"div",16),ue("mouseenter",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!0))})("mouseleave",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!1))}),at(1,"img",17),Pe(2,S_e,2,1,"span",21),Pe(3,T_e,2,0,"button",23),Pe(4,A_e,2,0,"button",23),S()}if(2&n){const t=e.$implicit,r=ce(2);V(1),te("src",r.geticon(t.nombre),Yn),V(1),te("ngIf",r.showTooltipForItem(t)),V(1),te("ngIf","Arma"==t.tipo&&0==r.armaselect&&r.troopSelected),V(1),te("ngIf","Arma"!=t.tipo&&0==r.armaselect&&r.troopSelected)}}function x_e(n,e){if(1&n&&(T(0,"span",22),F(1),S()),2&n){const t=ce().$implicit;V(1),rn(t.nombre)}}function k_e(n,e){if(1&n){const t=Cr();T(0,"div",16),ue("mouseenter",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!0))})("mouseleave",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!1))}),at(1,"img",20),Pe(2,x_e,2,1,"span",21),S()}if(2&n){const t=e.$implicit,r=ce(2);V(1),te("src",r.geticon(t.nombre),Yn)("alt",t.tipo),V(1),te("ngIf",r.showTooltipForItem(t))}}function R_e(n,e){if(1&n&&(T(0,"span",22),F(1),S()),2&n){const t=ce().$implicit;V(1),rn(t.Nombre)}}function O_e(n,e){if(1&n){const t=Cr();T(0,"div",19),ue("click",function(){const s=vt(t).$implicit;return wt(ce(2).gettroop(s))})("mouseenter",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!0))})("mouseleave",function(){const s=vt(t).$implicit;return wt(ce(2).onMouseEnterLeave(s,!1))}),at(1,"img",20),Pe(2,R_e,2,1,"span",21),S()}if(2&n){const t=e.$implicit,r=e.index,i=ce(2);V(1),te("src",i.geticon(t.Nombre),Yn)("alt",t.Nombre+r),V(1),te("ngIf",i.showTooltipForItem(t))}}function N_e(n,e){if(1&n){const t=Cr();T(0,"div",9)(1,"h1",10),F(2),S(),T(3,"div")(4,"p"),F(5),S(),T(6,"p"),F(7),S(),T(8,"p"),F(9),S(),T(10,"p"),F(11),S(),T(12,"p"),F(13),S(),T(14,"p"),F(15),S(),T(16,"p"),F(17),S()(),T(18,"button",18),ue("click",function(){vt(t);const i=ce(2);return wt(i.cambiarestado(i.troopSelected.id,i.active))}),F(19),S()()}if(2&n){const t=ce(2);V(2),rn(t.troopSelected.Nombre),V(3),sn("BattlePoints ",t.troopSelected.BattlePoints,""),V(2),sn(" FUE ",t.troopSelected.FUE,""),V(2),sn("DEF ",t.troopSelected.DEF,""),V(2),sn("VEL ",t.troopSelected.VEL,""),V(2),sn("MOV ",t.troopSelected.MOV,""),V(2),sn("PV",t.troopSelected.PV,""),V(2),sn("PM:",t.troopSelected.PM,""),V(2),rn(t.active?"quitar":"a\xf1adir")}}function P_e(n,e){if(1&n&&(T(0,"div",26),at(1,"img",27),S()),2&n){const t=e.index,r=ce(3);V(1),te("src",r.geticon(r.troopSelected.ITEM1[t]),Yn)}}function F_e(n,e){if(1&n&&(T(0,"div",26),at(1,"img",27),S()),2&n){const t=e.index,r=ce(3);V(1),te("src",r.geticon(r.troopSelected.SKILL1[t]),Yn)}}function L_e(n,e){if(1&n&&(T(0,"div",9)(1,"h1",10),F(2),S(),T(3,"div",25)(4,"div",26),at(5,"img",27),S(),T(6,"p"),F(7),S()(),T(8,"div",25)(9,"div",26),at(10,"img",27),S(),T(11,"p"),F(12),S()(),T(13,"p",10),F(14,"Inventario"),S(),T(15,"div",11),Pe(16,P_e,2,1,"div",28),S(),T(17,"p",10),F(18," Skills"),S(),T(19,"div",11),Pe(20,F_e,2,1,"div",28),S()()),2&n){const t=ce(2);V(2),sn("Equipado ",t.troopSelected.Nombre,""),V(3),te("src",t.geticon(t.troopSelected.ARMA),Yn),V(2),rn(t.troopSelected.ARMA),V(3),te("src",t.geticon(t.troopSelected.ARMADURA),Yn),V(2),rn(t.troopSelected.ARMADURA),V(4),te("ngForOf",t.troopSelected.ITEM1),V(4),te("ngForOf",t.troopSelected.SKILL1)}}function V_e(n,e){if(1&n&&(T(0,"div",29),F(1),T(2,"button"),F(3,"Aceptar"),S()()),2&n){const t=e.$implicit;V(1),mw(" ",t.Solicitante," ",t.mapa," ",t.puntosBatalla," ")}}function B_e(n,e){if(1&n&&(T(0,"div",8)(1,"div",9)(2,"div")(3,"h1",10),F(4,"Sobres"),S()(),T(5,"div",11),Pe(6,C_e,6,2,"div",12),S()(),T(7,"div",9)(8,"h1",10),F(9,"tropas"),S(),T(10,"div",11),Pe(11,I_e,3,3,"div",13),S()(),T(12,"div",9)(13,"h1",10),F(14,"items"),S(),T(15,"div",11),Pe(16,M_e,5,4,"div",12),S()(),T(17,"div",9)(18,"h1",10),F(19,"skills"),S(),T(20,"div",11),Pe(21,k_e,3,3,"div",12),S()(),T(22,"div",9)(23,"h1",10),F(24),S(),T(25,"div",11),Pe(26,O_e,3,3,"div",13),S()(),Pe(27,N_e,20,9,"div",14),Pe(28,L_e,21,7,"div",14),T(29,"div",9)(30,"h1",10),F(31,"Solicitudes"),S(),Pe(32,V_e,4,3,"div",15),S()()),2&n){const t=ce();V(6),te("ngForOf",t.sobres),V(5),te("ngForOf",t.tropas),V(5),te("ngForOf",t.items),V(5),te("ngForOf",t.skills),V(3),sn("Activas ",t.BP," Puntos"),V(2),te("ngForOf",t.activas),V(1),te("ngIf",t.troopboo),V(1),te("ngIf",t.troopboo),V(4),te("ngForOf",t.solicitudes)}}let U_e=(()=>{class n{constructor(t,r,i){this.fire=t,this.rout=r,this.icon=i,this.sob=NU,this.Audioenable=!0,this.audi=new Audio,this.sobres=[],this.tropas=[],this.items=[],this.skills=[],this.troopboo=!1,this.armaselect=!1,this.armaduraselect=!1,this.activas=[],this.itemsSelect=!1,this.skillselect=!1,this.active=!1,this.SKILLSELCTED=[],this.BP=0,this.boar="board1",this.solicitud=!1,this.solicitudes=[]}ngOnChanges(t){throw new Error("Method not implemented.")}ngOnInit(){this.getsolictudes(),this.getsobres().subscribe(t=>{this.sobres=t}),this.gettropas().subscribe(t=>{this.tropas=t}),this.getitems().subscribe(t=>{this.items=t}),this.getskils().subscribe(t=>{this.skills=t}),this.Audioenable&&(this.audi.src=pd.Audio4,this.audi.loop=!0,this.audi.play()),this.fire.getactivetroops().then(t=>{this.activas=t,this.BP=this.getpointbattles()}).catch(t=>{console.log(t)})}logOut(){var t=this;return m(function*(){t.audi.pause(),yield t.fire.changestatusoff(),t.fire.logout().then(r=>{t.rout.navigate(["/login"])}).catch(r=>{console.log(r)})})()}getsobres(){return this.fire.getSobres()}gettropas(){return this.fire.getropas()}getitems(){return this.fire.getitems()}getskils(){return this.fire.getSkills()}gettroop(t){this.BP=this.getpointbattles(),this.troopSelected=t,this.troopboo=!0,console.log(this.troopSelected.ARMA),this.troopSelected.hasOwnProperty("SKILL1")&&this.troopSelected.SKILL1&&(this.SKILLSELCTED=this.troopSelected.SKILL1,this.skillselect=!0),this.troopSelected.ARMA&&(this.armaselect=!0),this.troopSelected.ARMADURA&&(this.armaduraselect=!0),this.active=!!this.troopSelected.activa}geticon(t){return OU[t]}cambiarestado(t,r){this.active=!r,this.fire.changuetroopact(t,r).then(i=>{}).catch(i=>{console.log(i)}),this.fire.getactivetroops().then(i=>{this.activas=i,this.BP=this.getpointbattles()}).catch(i=>{console.log(i)})}getpointbattles(){var t=0;if(this.activas.length>0)for(let r of this.activas)t+=r.BattlePoints;return t}onMouseEnterLeave(t,r){this.currentItemTooltip=r?t:null}showTooltipForItem(t){return this.currentItemTooltip===t}gobat(){this.audi.pause(),this.rout.navigate(["/BattleSearch"])}goboard(){""==this.boar&&(this.boar="board1"),localStorage.setItem("board",this.boar),this.audi.pause(),this.rout.navigate(["/board"])}abrirpop(){this.solicitud=!0}cerrarpop(){this.solicitud=!1}abrirsob(t){this.fire.openSobre(t)}getsolictudes(){this.fire.getsolicitudes(localStorage.getItem("email")).then(t=>{this.solicitudes=t})}}return n.\u0275fac=function(t){return new(t||n)(E(Ks),E(on),E(lM))},n.\u0275cmp=rr({type:n,selectors:[["app-mytroops"]],features:[or],decls:14,vars:3,consts:[["class","popup",4,"ngIf"],[1,"headed",2,"display","flex","align-items","center","justify-content","center"],[2,"height","50px","width","auto",3,"click"],[2,"display","flex"],["type","text","name","carga",3,"ngModel","ngModelChange"],["class","Cards",4,"ngIf"],[3,"click"],[1,"popup"],[1,"Cards"],[1,"Subcards"],[1,"titulo"],[1,"columnobj"],["class","obj",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","obj",3,"click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","Subcards",4,"ngIf"],["style","border: 3px solid black;height: auto;width: auto;",4,"ngFor","ngForOf"],[1,"obj",3,"mouseenter","mouseleave"],["alt","item.id",1,"imagen-personaje",3,"src"],[1,"buttont",3,"click"],[1,"obj",3,"click","mouseenter","mouseleave"],[1,"imagen-personaje",3,"src","alt"],["class","tooltip",4,"ngIf"],[1,"tooltip"],["class","buttont",4,"ngIf"],[1,"buttont"],[1,"columnobj",2,"justify-content","center"],[1,"obj"],[1,"imagen-personaje",3,"src"],["class","obj",4,"ngFor","ngForOf"],[2,"border","3px solid black","height","auto","width","auto"]],template:function(t,r){1&t&&(T(0,"body"),Pe(1,E_e,4,0,"div",0),T(2,"div",1)(3,"button",2),ue("click",function(){return r.gobat()}),F(4,"Battlenet"),S(),T(5,"div",3)(6,"input",4),ue("ngModelChange",function(s){return r.boar=s}),S(),T(7,"button",2),ue("click",function(){return r.goboard()}),F(8,"Cargar tab"),S(),T(9,"button",2),ue("click",function(){return r.abrirpop()}),F(10,"Solicitudes"),S()()(),Pe(11,B_e,33,9,"div",5),T(12,"button",6),ue("click",function(){return r.logOut()}),F(13,"logOut"),S()()),2&t&&(V(1),te("ngIf",r.solicitud),V(5),te("ngModel",r.boar),V(5),te("ngIf",!r.solicitud))},dependencies:[Su,Rp,Ys,mc,xh,b_e],styles:[".Subcards[_ngcontent-%COMP%]{height:450px;width:275px;background:rgba(255,255,255,.3);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:1.5px solid rgba(209,213,219,.3);text-align:center;justify-content:center;justify-items:center;display:flexbox}.Cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,275px);grid-gap:30px;margin:50px;padding:auto}.obj[_ngcontent-%COMP%]{height:60px;width:60px;border-radius:50%;border:2px solid;border-color:#000;justify-content:center;vertical-align:middle;justify-items:center;margin-top:2px;text-align:center;z-index:1;position:relative;display:flex;font-size:small;color:#240a6b}.imagen-personaje[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;object-fit:cover;z-index:-1;opacity:.7;object-position:center;margin:0;border-radius:50%}.titulo[_ngcontent-%COMP%]{height:auto;width:auto;border:2px solid black;bottom:top}.tooltip[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#000;color:#fff;padding:8px;border-radius:4px;font-size:24px;z-index:3;width:auto;height:auto}.obj[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{display:block;position:relative;z-index:3}.columnobj[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,65px)}.popup[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;border:1px solid #ccc;box-shadow:0 2px 8px #00000026;height:auto;width:auto}"]}),n})(),j_e=(()=>{class n{constructor(t,r){this.fire=t,this.rout=r,this.forr={email:"",pass:""},this.audi=new Audio,this.Audioenable=!0,this.formreg=new Sh({email:new yc,pass:new yc})}ngOnInit(){this.audi.src=pd.Audio5,this.audi.loop=!0,this.audi.play()}submit(){this.forr.email=this.formreg.value.email,this.forr.pass=this.formreg.value.pass,this.fire.register(this.forr).then(t=>{t.user.email&&(this.fire.setemail(t.user.email),this.fire.createinit()),this.rout.navigate(["/login"])}).catch(t=>console.log(t))}Audiochangue(){this.Audioenable?(this.audi.muted=!0,this.Audioenable=!1):(this.audi.muted=!1,this.Audioenable=!0)}golog(){this.audi.pause(),this.rout.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(E(Ks),E(on))},n.\u0275cmp=rr({type:n,selectors:[["app-register"]],decls:24,vars:1,consts:[[2,"width","max-content","height","40px",3,"click"],[2,"justify-content","center","align-content","center","display","flex"],[2,"display","contents"],[1,"wrapper"],[3,"formGroup","ngSubmit"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","pass",1,"form-control"],["type","submit"],[2,"display","flex","justify-content","center","justify-items","center"],[2,"width","auto",3,"click"]],template:function(t,r){1&t&&(T(0,"html")(1,"body")(2,"button",0),ue("click",function(){return r.Audiochangue()}),F(3,"Mute/Sound On"),S(),T(4,"div",1),at(5,"p"),T(6,"h1",2),F(7,"Shining Force Wars"),S()(),T(8,"div",3)(9,"form",4),ue("ngSubmit",function(){return r.submit()}),T(10,"div")(11,"p"),F(12,"Email"),S(),at(13,"input",5),S(),T(14,"div")(15,"p"),F(16,"password"),S(),at(17,"input",6),S(),T(18,"div")(19,"button",7),F(20,"enviar"),S()()()(),T(21,"div",8)(22,"button",9),ue("click",function(){return r.golog()}),F(23,"Si ya estas registrado accede aqui"),S()()()()),2&t&&(V(9),te("formGroup",r.formreg))},dependencies:[EM,Ys,mc,hM,kh,x_]}),n})(),$_e=(()=>{class n{constructor(t,r,i){this.fire=t,this.route=r,this.icon=i,this.Audioenable=!0,this.loading=!0,this.forr={email:"",pass:""},this.formreg=new Sh({email:new yc,pass:new yc}),this.audi=new Audio}ngOnInit(){this.Audioenable&&(this.audi.src=pd.Audio5,this.audi.loop=!0,this.audi.play())}Audiochangue(){this.Audioenable?(this.audi.muted=!0,this.Audioenable=!1):(this.audi.muted=!1,this.Audioenable=!0)}submit(){var t=this;return m(function*(){t.forr.email=t.formreg.value.email,t.forr.pass=t.formreg.value.pass,yield t.fire.login(t.forr).then(r=>{t.fire.changueStatusOn()}).catch(r=>{console.log(r)}),t.route.navigate(["/mytroops"]),t.audi.pause()})()}goreg(){this.audi.pause(),this.route.navigate(["/register"])}}return n.\u0275fac=function(t){return new(t||n)(E(Ks),E(on),E(lM))},n.\u0275cmp=rr({type:n,selectors:[["app-login"]],decls:25,vars:1,consts:[[2,"width","max-content",3,"click"],[2,"justify-content","center","align-content","center","display","flex"],[2,"display","contents"],[1,"wrapper"],[3,"formGroup","ngSubmit"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","pass",1,"form-control"],["type","submit"],[2,"display","flex","justify-content","center","justify-items","center"],[2,"width","auto",3,"click"]],template:function(t,r){1&t&&(T(0,"html")(1,"body")(2,"button",0),ue("click",function(){return r.Audiochangue()}),F(3,"Mute/Sound On"),S(),T(4,"div",1)(5,"h1",2),F(6,"Shining Force Wars"),S()(),T(7,"div",3)(8,"form",4),ue("ngSubmit",function(){return r.submit()}),T(9,"p"),F(10,"login"),S(),T(11,"div")(12,"p"),F(13,"Email"),S(),at(14,"input",5),S(),T(15,"div")(16,"p"),F(17,"password"),S(),at(18,"input",6),S(),T(19,"div")(20,"button",7),F(21,"enviar"),S()()()(),T(22,"div",8)(23,"button",9),ue("click",function(){return r.goreg()}),F(24,"Si no estas registrado hazlo ya"),S()()()()),2&t&&(V(8),te("formGroup",r.formreg))},dependencies:[EM,Ys,mc,hM,kh,x_]}),n})();function m3(n,e=0){return function H_e(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function k_(n){return Array.isArray(n)?n:[n]}function Ot(n){return null==n?"":"string"==typeof n?n:`${n}px`}function vc(n){return n instanceof Lt?n.nativeElement:n}const z_e=["addListener","removeListener"],G_e=["addEventListener","removeEventListener"],q_e=["on","off"];function RM(n,e,t,r){if(ye(t)&&(r=t,t=void 0),r)return RM(n,e,t).pipe(Nb(r));const[i,s]=function Y_e(n){return ye(n.addEventListener)&&ye(n.removeEventListener)}(n)?G_e.map(o=>a=>n[o](e,a,t)):function W_e(n){return ye(n.addListener)&&ye(n.removeListener)}(n)?z_e.map(_3(n,e)):function K_e(n){return ye(n.on)&&ye(n.off)}(n)?q_e.map(_3(n,e)):[];if(!i&&gy(n))return $t(o=>RM(o,e,t))(xn(n));if(!i)throw new TypeError("Invalid event target");return new Be(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function _3(n,e){return t=>r=>n[t](e,r)}const Rh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Rh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new pn(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Rh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Rh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class X_e extends wg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Q_e extends vg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Rh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Rh.cancelAnimationFrame(t),e._scheduled=void 0)}});let OM,J_e=1;const R_={};function y3(n){return n in R_&&(delete R_[n],!0)}const eye={setImmediate(n){const e=J_e++;return R_[e]=!0,OM||(OM=Promise.resolve()),OM.then(()=>y3(e)&&n()),e},clearImmediate(n){y3(n)}},{setImmediate:tye,clearImmediate:nye}=eye,O_={setImmediate(...n){const{delegate:e}=O_;return(e?.setImmediate||tye)(...n)},clearImmediate(n){const{delegate:e}=O_;return(e?.clearImmediate||nye)(n)},delegate:void 0};new class iye extends wg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class rye extends vg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=O_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(O_.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function v3(n,e=bg){return function oye(n){return mt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(it(t,c=>{r=!0,i=c,s||xn(n(c)).subscribe(s=it(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function lye(n=0,e,t=uae){let r=-1;return null!=e&&(zx(e)?t=e:r=e),new Be(i=>{let s=function aye(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let NM;try{NM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{NM=!1}let Oh,ua,PM,Ii=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function YZ(n){return n===ZF}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C(Fi))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N_(n){return function cye(){if(null==Oh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oh=!0}))}finally{Oh=Oh||!1}return Oh}()?n:!!n.capture}function uye(){if(null==ua){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ua=!1,ua;if("scrollBehavior"in document.documentElement.style)ua=!0;else{const n=Element.prototype.scrollTo;ua=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ua}function FM(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Js(n){return n.composedPath?n.composedPath()[0]:n.target}function LM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const fye=new O("cdk-dir-doc",{providedIn:"root",factory:function pye(){return z(Ie)}}),gye=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let VM=(()=>{class n{constructor(t){this.value="ltr",this.change=new Qe,t&&(this.value=function mye(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?gye.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C(fye,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({}),n})(),yye=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ue,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Be(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(v3(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ln(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=vc(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>RM(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(C(de),C(Ii),C(Ie,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b3=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ue,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(v3(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(C(Ii),C(de),C(Ie,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({}),n})(),C3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({imports:[Nh,E3,Nh,E3]}),n})();function BM(n){return mt((e,t)=>{xn(n).subscribe(it(t,()=>t.complete(),iy)),!t.closed&&e.subscribe(t)})}class UM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class jM extends UM{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class D3 extends UM{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class wye extends UM{constructor(e){super(),this.element=e instanceof Lt?e.nativeElement:e}}class $M{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof jM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof D3?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof wye?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class bye extends $M{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Vt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let HM=(()=>{class n extends $M{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Qe,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(E(Ga),E(Dr),E(Ie))},n.\u0275dir=J({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[De]}),n})(),F_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({}),n})();const I3=uye();class Eye{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ot(-this._previousScrollPosition.left),e.style.top=Ot(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),I3&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),I3&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Cye{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ln(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class S3{enable(){}disable(){}attach(){}}function zM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function T3(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Dye{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();zM(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Iye=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new S3,this.close=o=>new Cye(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Eye(this._viewportRuler,this._document),this.reposition=o=>new Dye(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(C(yye),C(b3),C(de),C(Ie))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class A3{constructor(e){if(this.scrollStrategy=new S3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Sye{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let M3=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(C(Ie))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tye=(()=>{class n extends M3{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(C(Ie),C(de,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aye=(()=>{class n extends M3{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Js(s)},this._clickListener=s=>{const o=Js(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(C(Ie),C(Ii),C(de,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L_=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||LM()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),LM()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(C(Ie),C(Ii))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ph{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Ue,this._attachments=new Ue,this._detachments=new Ue,this._locationChanges=pn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Ue,this._outsidePointerEvents=new Ue,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(dr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ot(this._config.width),e.height=Ot(this._config.height),e.minWidth=Ot(this._config.minWidth),e.minHeight=Ot(this._config.minHeight),e.maxWidth=Ot(this._config.maxWidth),e.maxHeight=Ot(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=k_(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(BM(_y(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const x3="cdk-overlay-connected-position-bounding-box",Mye=/([A-Za-z%]+)$/;class xye{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ue,this._resizeSubscription=pn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(x3),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&da(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(x3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=R3(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=k3(this._overlayRef.getConfig().minHeight),a=k3(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=R3(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Sye(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Ot(r.height),i.top=Ot(r.top),i.bottom=Ot(r.bottom),i.width=Ot(r.width),i.left=Ot(r.left),i.right=Ot(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ot(s)),o&&(i.maxWidth=Ot(o))}this._lastBoundingBoxSize=r,da(this._boundingBox.style,i)}_resetBoundingBoxStyles(){da(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){da(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();da(r,this._getExactOverlayY(t,e,u)),da(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Ot(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Ot(o.maxWidth):s&&(r.maxWidth="")),da(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ot(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ot(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:T3(e,r),isOriginOutsideView:zM(e,r),isOverlayClipped:T3(t,r),isOverlayOutsideView:zM(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&k_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Lt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function da(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function k3(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Mye);return t&&"px"!==t?null:parseFloat(e)}return n||null}function R3(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const O3="cdk-global-overlay-wrapper";class kye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(O3),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(O3),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Rye=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new kye}flexibleConnectedTo(t){return new xye(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(C(b3),C(Ie),C(Ii),C(L_))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oye=0,bc=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new A3(t);return o.direction=o.direction||this._directionality.value,new Ph(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Oye++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ws)),new bye(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C(Iye),C(L_),C(Ga),C(Rye),C(Tye),C(Vt),C(de),C(Ie),C(VM),C(Cu),C(Aye),C(Zc,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fye={provide:new O("cdk-connected-overlay-scroll-strategy"),deps:[bc],useFactory:function Pye(n){return()=>n.scrollStrategies.reposition()}};let N3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:[bc,Fye],imports:[Nh,F_,C3,C3]}),n})();function F3(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function L3(n){return Ln((e,t)=>n<=t)}let $ye=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:[$ye]}),n})();const V3=new Set;let ha,Gye=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Wye}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function qye(n,e){if(!V3.has(n))try{ha||(ha=document.createElement("style"),e&&(ha.nonce=e),ha.setAttribute("type","text/css"),document.head.appendChild(ha)),ha.sheet&&(ha.sheet.insertRule(`@media ${n} {body{ }}`,0),V3.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Ii),C(xv,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wye(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Kye=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ue}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return B3(k_(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Fp(B3(k_(t)).map(o=>this._registerQuery(o).observable));return s=Vp(s.pipe(dr(1)),s.pipe(L3(1),function zye(n,e=bg){return mt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(it(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(we(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Be(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Up(r),we(({matches:o})=>({query:t,matches:o})),BM(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(C(Gye),C(de))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B3(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let V_=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Zye(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Xye(n){try{return n.frameElement}catch{return null}}(function ove(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===H3(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=H3(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function ive(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function sve(n){return!function eve(n){return function nve(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Jye(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function tve(n){return function rve(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||$3(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(C(Ii))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function H3(n){if(!$3(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ave{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(dr(1)).subscribe(e)}}let GM=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new ave(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(C(V_),C(de),C(Ie))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function G3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const lve=new O("cdk-input-modality-detector-options"),cve={ignoreKeys:[18,17,224,91,16]},Ec=N_({passive:!0,capture:!0});let uve=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new tr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Js(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(z3(o)?"keyboard":"mouse"),this._mostRecentTarget=Js(o))},this._onTouchstart=o=>{G3(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Js(o))},this._options={...cve,...s},this.modalityDetected=this._modality.pipe(L3(1)),this.modalityChanged=this.modalityDetected.pipe(Kx()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ec),i.addEventListener("mousedown",this._onMousedown,Ec),i.addEventListener("touchstart",this._onTouchstart,Ec)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ec),document.removeEventListener("mousedown",this._onMousedown,Ec),document.removeEventListener("touchstart",this._onTouchstart,Ec))}}return n.\u0275fac=function(t){return new(t||n)(C(Ii),C(de),C(Ie),C(lve,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hve=new O("cdk-focus-monitor-default-options"),B_=N_({passive:!0,capture:!0});let qM=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ue,this._rootNodeFocusAndBlurListener=a=>{for(let c=Js(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=vc(t);if(!this._platform.isBrowser||1!==i.nodeType)return Q();const s=function hye(n){if(function dye(){if(null==PM){const n=typeof document<"u"?document.head:null;PM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return PM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ue,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=vc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=vc(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Js(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,B_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,B_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(BM(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,B_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,B_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(C(de),C(Ii),C(uve),C(Ie,8),C(hve,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W3="cdk-high-contrast-black-on-white",K3="cdk-high-contrast-white-on-black",WM="cdk-high-contrast-active";let Y3=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=z(Kye).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(WM,W3,K3),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(WM,W3):2===r&&t.add(WM,K3)}}}return n.\u0275fac=function(t){return new(t||n)(C(Ii),C(Ie))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fve=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(C(Y3))},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({imports:[Hye]}),n})();function pve(n,e){}class U_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Q3=(()=>{class n extends $M{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=FM(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=FM();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=FM())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(E(Lt),E(GM),E(Ie,8),E(U_),E(V_),E(de),E(Ph),E(qM))},n.\u0275cmp=rr({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&SP(HM,7),2&t){let i;Lw(i=function Vw(){return function cQ(n,e){return n[Xr].queries[e].queryList}(M(),Hk())}())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&Er("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[De],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Pe(0,pve,0,0,"ng-template",0)},dependencies:[HM],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class KM{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ue,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!F3(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const X3=new O("DialogScrollStrategy"),gve=new O("DialogData"),mve=new O("DefaultDialogConfig"),yve={provide:X3,deps:[bc],useFactory:function _ve(n){return()=>n.scrollStrategies.block()}};let vve=0,Z3=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,s,o,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ue,this._afterOpenedAtThisLevel=new Ue,this._ariaHiddenElements=new Map,this.afterAllClosed=Bp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Up(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new U_,...r}).id=r.id||"cdk-dialog-"+vve++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),a=new KM(o,r),l=this._attachContainer(o,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){YM(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){YM(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),YM(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new A3({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,o=[{provide:U_,useValue:i},{provide:KM,useValue:r},{provide:Ph,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,o.push(...i.container.providers(i))):a=Q3;const l=new jM(a,i.viewContainerRef,Vt.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,r,i,s){if(t instanceof ai){const o=this._createInjector(s,r,i,void 0);let a={$implicit:s.data,dialogRef:r};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new D3(t,null,a,o))}else{const o=this._createInjector(s,r,i,this._injector),a=i.attachComponentPortal(new jM(t,s.viewContainerRef,o,s.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,s){const o=t.injector||t.viewContainerRef?.injector,a=[{provide:gve,useValue:t.data},{provide:KM,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!o||!o.get(VM,null,{optional:!0}))&&a.push({provide:VM,useValue:{value:t.direction,change:Q()}}),Vt.create({parent:o||s,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(C(bc),C(Vt),C(mve,8),C(n,12),C(L_),C(X3))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function YM(n,e){let t=n.length;for(;t--;)e(n[t])}let wve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:[Z3,yve],imports:[N3,F_,fve,F_]}),n})();const Eve=new O("mat-sanity-checks",{providedIn:"root",factory:function bve(){return!0}});let tG=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!LM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(C(Y3),C(Eve,8),C(Ie))},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({imports:[Nh,Nh]}),n})();class Dve{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nG=N_({passive:!0,capture:!0});class Ive{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Js(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,nG)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,nG)))}}const rG={enterDuration:225,exitDuration:150},iG=N_({passive:!0,capture:!0}),sG=["mousedown","touchstart"],oG=["mouseup","mouseleave","touchend","touchcancel"];class j_{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=vc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...rG,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function Tve(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,g=new Dve(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",g.state=0,r.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(g),y=()=>this._destroyRipple(g);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",y),_={onTransitionEnd:v,onTransitionCancel:y}}),this._activeRipples.set(g,_),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...rG,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=vc(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,sG.forEach(r=>{j_._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{oG.forEach(t=>{this._triggerElement.addEventListener(t,this,iG)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=z3(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!G3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(sG.forEach(t=>j_._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&oG.forEach(t=>e.removeEventListener(t,this,iG)))}}j_._eventManager=new Ive;class aG{}class Ave{}const as="*";function uG(n,e=null){return{type:2,steps:n,options:e}}function Cc(n){return{type:6,styles:n,offset:null}}class Lh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function xve(n,e){}class $_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const XM="mdc-dialog--open",mG="mdc-dialog--opening",_G="mdc-dialog--closing";let Ove=(()=>{class n extends Q3{constructor(t,r,i,s,o,a,l,c){super(t,r,i,s,o,a,l,c),this._animationStateChanged=new Qe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(E(Lt),E(GM),E(Ie,8),E($_),E(V_),E(de),E(Ph),E(qM))},n.\u0275cmp=rr({type:n,selectors:[["ng-component"]],features:[De],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();const yG="--mat-dialog-transition-duration";function vG(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?m3(n.substring(0,n.length-2)):n.endsWith("s")?1e3*m3(n.substring(0,n.length-1)):"0"===n?0:null}let Nve=(()=>{class n extends Ove{constructor(t,r,i,s,o,a,l,c,u){super(t,r,i,s,o,a,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?vG(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?vG(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(yG,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(mG,XM)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(XM),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(XM),this._animationsEnabled?(this._hostElement.style.setProperty(yG,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(_G)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(mG,_G)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return n.\u0275fac=function(t){return new(t||n)(E(Lt),E(GM),E(Ie,8),E($_),E(V_),E(de),E(Ph),E(Zc,8),E(qM))},n.\u0275cmp=rr({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,r){2&t&&(_w("id",r._config.id),Er("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),hu("_mat-animation-noopable",!r._animationsEnabled))},features:[De],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1),Pe(2,xve,0,0,"ng-template",2),S()())},dependencies:[HM],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class wG{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Ue,this._beforeClosed=new Ue,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Ln(i=>"opened"===i.state),dr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ln(i=>"closed"===i.state),dr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),_y(this.backdropClick(),this.keydownEvents().pipe(Ln(i=>27===i.keyCode&&!this.disableClose&&!F3(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function Pve(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ln(t=>"closing"===t.state),dr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Fve=new O("MatMdcDialogData"),Lve=new O("mat-mdc-dialog-default-options"),bG=new O("mat-mdc-dialog-scroll-strategy"),Bve={provide:bG,deps:[bc],useFactory:function Vve(n){return()=>n.scrollStrategies.block()}};let Uve=0,jve=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ue,this._afterOpenedAtThisLevel=new Ue,this._idPrefix="mat-dialog-",this.dialogConfigClass=$_,this.afterAllClosed=Bp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Up(void 0))),this._scrollStrategy=a,this._dialog=r.get(Z3)}open(t,r){let i;(r={...this._defaultOptions||new $_,...r}).id=r.id||`${this._idPrefix}${Uve++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:U_,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,a,l)=>(i=new this._dialogRefConstructor(o,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){Hv()},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),EG=(()=>{class n extends jve{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,wG,Nve,Fve,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(C(bc),C(Vt),C(Cu,8),C(Lve,8),C(bG),C(n,12),C(L_),C(Zc,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),$ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:[EG,Bve],imports:[wve,N3,F_,tG,tG]}),n})(),Hve=(()=>{class n{constructor(t,r){this.dialogref=t,this.fire=r,this.points=300,this.hour=1,this.min=0,this.sol=localStorage.getItem("sol")}cerrar(){this.dialogref.close()}enviar(){var t="";0!=this.hour&&(t+=this.hour+"h"),0!=this.min&&(t+=this.min+"m");const r={Solicitante:localStorage.getItem("email"),Solicitado:localStorage.getItem("sol"),mapa:"river1",puntosBatalla:this.points,tiempo:t};this.fire.enviasol(r)}}return n.\u0275fac=function(t){return new(t||n)(E(wG),E(Ks))},n.\u0275cmp=rr({type:n,selectors:[["app-popup"]],decls:19,vars:4,consts:[[2,"height","auto","background-color","grey"],[2,"display","flexbox","justify-content","center","align-items","center","text-justify","auto","background-color","gray"],["src","../../../assets/mapariver1.bmp","alt","river1",2,"width","50px","height","50px","object-fit","cover","z-index","-1"],["type","number","placeholder","puntosBatt","min","300","max","1000",3,"ngModel","ngModelChange"],["type","number","placeholder","Horas","min","0","max","3",3,"ngModel","ngModelChange"],["type","number","placeholder","Minutos","min","0","max","59",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"h2"),F(3),S(),T(4,"p"),F(5,"seleciona mapa"),S(),at(6,"img",2),S(),T(7,"div",1)(8,"p"),F(9,"Puntos de batalla"),S(),T(10,"input",3),ue("ngModelChange",function(s){return r.points=s}),S(),T(11,"p"),F(12,"Tiempo de batalla"),S(),T(13,"input",4),ue("ngModelChange",function(s){return r.hour=s}),S(),T(14,"input",5),ue("ngModelChange",function(s){return r.min=s}),S()(),T(15,"button",6),ue("click",function(){return r.enviar()}),F(16,"Enviar solicitud"),S(),T(17,"button",6),ue("click",function(){return r.cerrar()}),F(18,"Cerrar"),S()()),2&t&&(V(3),sn(" Solicitud de guerra para ",r.sol," "),V(7),te("ngModel",r.points),V(3),te("ngModel",r.hour),V(1),te("ngModel",r.min))},dependencies:[Ys,CM,mc,xM,MM,xh]}),n})();function zve(n,e){if(1&n){const t=Cr();T(0,"button",8),ue("click",function(){vt(t);const i=ce().$implicit;return wt(ce().gowar(i.email))}),F(1,"jugar"),S()}}const Gve=function(n){return{color:n}};function qve(n,e){if(1&n&&(T(0,"tr")(1,"td"),F(2),S(),T(3,"td"),F(4),S(),T(5,"td"),F(6),S(),T(7,"td"),F(8),S(),T(9,"td"),F(10),S(),T(11,"td",6),F(12),S(),T(13,"td"),Pe(14,zve,2,0,"button",7),S()()),2&n){const t=e.$implicit,r=ce();V(2),rn(t.email),V(2),rn(t.Helo),V(2),rn(t.Gamesplayed),V(2),rn(t.gamesWon),V(2),rn(t.gameslose),V(1),te("ngStyle",function lP(n,e,t,r){return cP(M(),kn(),n,e,t,r)}(8,Gve,t.Estado?"green":"red")),V(1),rn(t.Estado),V(2),te("ngIf",t.Estado&&t.email!=r.email)}}let Wve=(()=>{class n{constructor(t,r,i){this.fire=t,this.rout=r,this.dialog=i,this.Users=[],this.email=localStorage.getItem("email"),this.audi=new Audio}ngOnInit(){this.getusers().subscribe(t=>{this.Users=t}),this.audi.src=pd.Audio2,this.audi.loop=!0,this.audi.play()}getusers(){return this.fire.getUsers()}gotrop(){this.audi.pause(),this.rout.navigate(["/mytroops"])}gowar(t){localStorage.setItem("sol",t),this.dialog.open(Hve,{width:"400px",height:"auto",disableClose:!0}).afterClosed().subscribe(i=>{console.log("El popup se cerr\xf3.")})}}return n.\u0275fac=function(t){return new(t||n)(E(Ks),E(on),E(EG))},n.\u0275cmp=rr({type:n,selectors:[["app-battle"]],decls:20,vars:1,consts:[[1,"headed",2,"display","flex","align-items","center","justify-content","center"],[2,"height","50px","width","auto",3,"click"],[2,"display","flex","align-items","center","justify-content","center"],[1,"tablebat"],["scope","col"],[4,"ngFor","ngForOf"],[3,"ngStyle"],["class","buttontable",3,"click",4,"ngIf"],[1,"buttontable",3,"click"]],template:function(t,r){1&t&&(T(0,"body")(1,"div",0)(2,"button",1),ue("click",function(){return r.gotrop()}),F(3,"Mis Tropas"),S()(),T(4,"div",2)(5,"table",3)(6,"tr")(7,"th",4),F(8," email "),S(),T(9,"th",4),F(10," Helo "),S(),T(11,"th",4),F(12," games "),S(),T(13,"th",4),F(14," Won "),S(),T(15,"th",4),F(16," Lose "),S(),T(17,"th",4),F(18," Activo "),S()(),Pe(19,qve,15,10,"tr",5),S()()()),2&t&&(V(19),te("ngForOf",r.Users))},dependencies:[Su,Rp,YF],styles:[".inactive[_ngcontent-%COMP%]{color:red}.active[_ngcontent-%COMP%]{color:green}"]}),n})();function Kve(n,e){if(1&n){const t=Cr();T(0,"div",7),ue("click",function(){const s=vt(t).index,o=ce().index;return wt(ce().marcarcelda(o,s))}),at(1,"img",8),S()}if(2&n){const t=e.$implicit,r=ce(2);V(1),te("src",r.getImagenPath(t.back),Yn)("alt","Imagen "+t.id)}}function Yve(n,e){if(1&n&&(T(0,"div",5),Pe(1,Kve,2,2,"div",6),S()),2&n){const t=e.$implicit;V(1),te("ngForOf",t)}}function Qve(n,e){if(1&n){const t=Cr();T(0,"button",20),ue("click",function(){vt(t);const i=ce().$implicit;return wt(ce(2).llamarcell(i.key))}),F(1),S()}if(2&n){const t=ce().$implicit;V(1),sn(" ",t.key,"")}}function Xve(n,e){if(1&n&&(T(0,"div",17),Pe(1,Qve,2,1,"button",18),at(2,"img",19),S()),2&n){const t=e.$implicit,r=ce(2);V(1),te("ngIf",t.key!=r.tablerosel.back),V(1),te("src",t.value,Yn)}}function Zve(n,e){if(1&n){const t=Cr();T(0,"div",9)(1,"div")(2,"h1",10),F(3),S(),at(4,"img",11),S(),Pe(5,Xve,3,2,"div",12),function pP(n,e){const t=be();let r;const i=n+me;t.firstCreatePass?(r=function VY(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=lo(r.type)),o=Hn(E);try{const a=bf(!1),l=s();return bf(a),function v7(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,M(),i,l),l}finally{Hn(o)}}(6,"keyvalue"),T(7,"div")(8,"div",13)(9,"label",14),F(10,"Carpeta:"),S(),T(11,"input",15),ue("ngModelChange",function(i){return vt(t),wt(ce().carpeta=i)}),S()(),T(12,"button"),F(13,"Guardar"),S(),T(14,"button",16),ue("click",function(){return vt(t),wt(ce().cargartab())}),F(15,"Cargar"),S()()()}if(2&n){const t=ce();V(3),gw("Celda ",t.posx,",",t.posy,""),V(1),te("src",t.getImagenPath(t.tablerosel.back),Yn),V(1),te("ngForOf",gP(6,5,t.backs1)),V(6),te("ngModel",t.carpeta)}}const Jve=function(){return[]};let ewe=(()=>{class n{constructor(t){this.fire=t,this.tablero=[],this.fila=[],this.posx=0,this.posy=0,this.backs1=qg,this.tablerosel={back:"tierra",collision:!1,id:0},this.carpeta=localStorage.getItem("board"),this.tablero=this.gettablero()}ngOnInit(){}compararimg(t){return t!=this.tablerosel.back}Creartablero(){this.fila=[];for(let t=0;t<20;t++){for(let r=0;r<20;r++)this.fila.push({back:"hierba",id:0,collision:!1});this.tablero.push(this.fila),this.fire.addboard(this.fila,t,this.carpeta),this.fila=[],console.log("fila ",t)}}marcarcelda(t,r){this.posx=t,this.posy=r,this.tablerosel=this.tablero[this.posx][this.posy]}llamarcell(t){this.cambiarcell(t)}cambiarcell(t){var r=!1;console.log(t),("agua"==t||"arbol"==t||"rock"==t)&&(r=!0),this.tablero[this.posx][this.posy]={id:this.tablerosel.id,collision:r,back:t},console.log(this.tablero[this.posx][this.posy])}getImagenPath(t){return null!=t?qg[t]:qg.tierra}guardartab(){this.fila=[];for(let t=0;t<20;t++){for(let r=0;r<20;r++)this.fila.push(this.tablero[t][r]);this.fire.addboard(this.fila,t,this.carpeta),this.fila=[]}}cargartab(){this.tablero=this.gettablero()}gettablero(){const t=[];for(let r=0;r<20;r++)this.fire.getfilas(r,this.carpeta).then(i=>{t.push(i)}).catch(i=>{console.log(i)});return t}}return n.\u0275fac=function(t){return new(t||n)(E(Ks))},n.\u0275cmp=rr({type:n,selectors:[["app-board"]],decls:7,vars:3,consts:[[1,"headed"],[2,"align-items","center","justify-content","center","display","flex"],[1,"tablero"],["class","fila",4,"ngFor","ngForOf"],["class","Subcards",4,"ngIf"],[1,"fila"],["class","celda",3,"click",4,"ngFor","ngForOf"],[1,"celda",3,"click"],[1,"imagen-celda",3,"src","alt"],[1,"Subcards"],[1,"titulo"],["alt","IOmagens",1,"imagen-celda",3,"src"],["class","celda",4,"ngFor","ngForOf"],[2,"background-color","aquamarine"],["for","carpetaInput"],["type","text","id","carpetaInput","name","carpeta",3,"ngModel","ngModelChange"],[3,"click"],[1,"celda"],["style","margin-left: 65px;margin-top: 0;position: absolute;",3,"click",4,"ngIf"],["alt","cell.key",1,"imagen-celda",3,"src"],[2,"margin-left","65px","margin-top","0","position","absolute",3,"click"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"h1"),F(2,"Generador de tableros"),S()(),T(3,"div",1)(4,"div",2),Pe(5,Yve,2,1,"div",3),S(),Pe(6,Zve,16,7,"div",4),S()),2&t&&(V(5),te("ngForOf",r.tablero),V(1),te("ngIf",r.tablero!=function aP(n,e,t){const r=kn()+n,i=M();return i[r]===le?ii(i,r,t?e.call(t):e()):function au(n,e){return n[e]}(i,r)}(2,Jve)))},dependencies:[Su,Rp,Ys,mc,xh,QF],styles:[".tablero[_ngcontent-%COMP%]{margin:10px;display:flex;flex-direction:column;height:650px;width:650px;border:3px solid gold;overflow:scroll}.fila[_ngcontent-%COMP%]{height:52px;width:1020px;display:flex}.celda[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid #999999;display:block;justify-content:flex-start;align-items:flex-start;font-size:24px;cursor:pointer}.imagen-celda[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;object-fit:cover;z-index:-1}.imagen-personaje[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;object-fit:cover;z-index:1;opacity:.7}.Subcards[_ngcontent-%COMP%]{height:450px;width:275px;background:rgba(255,255,255,.3);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:1.5px solid rgba(209,213,219,.3);text-align:center;justify-content:center;justify-items:center;display:flexbox}"]}),n})();const twe=[{path:"",pathMatch:"full",redirectTo:"/login"},{path:"mytroops",component:U_e,canActivate:[cde],data:{authGuardPipe:()=>(n=>Sx(tS,we(e=>e||n)))(["/login"])}},{path:"register",component:j_e},{path:"login",component:$_e},{path:"BattleSearch",component:Wve},{path:"board",component:ewe}];let nwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({imports:[T2.forRoot(twe),T2]}),n})(),rwe=(()=>{class n{constructor(t){this.fire=t,this.title="juego2"}}return n.\u0275fac=function(t){return new(t||n)(E(Ks))},n.\u0275cmp=rr({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&at(0,"router-outlet")},dependencies:[Qb]}),n})();const iwe_firebase={projectId:"strong-41d31",appId:"1:18557698008:web:8becb03aca09f10c893cad",databaseURL:"https://strong-41d31-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"strong-41d31.appspot.com",apiKey:"AIzaSyD5YraE6i8ckG7TRmfAPlrgJ72OvfRA9dw",authDomain:"strong-41d31.firebaseapp.com",messagingSenderId:"18557698008"};function DG(n){return new D(3e3,!1)}function eo(n){switch(n.length){case 0:return new Lh;case 1:return n[0];default:return new gG(n)}}function IG(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,i),g){case"!":g=t.get(f);break;case as:g=r.get(f);break;default:g=n.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),u||s.push(d),a=d,o=c}),i.length)throw function Twe(n){return new D(3502,!1)}();return s}function ZM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&JM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&JM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&JM(t,"destroy",n)))}}function JM(n,e,t){const s=ex(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function ex(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function gr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function SG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Bwe=(()=>typeof document>"u"?null:document.documentElement)();function tx(n){const e=n.parentNode||n.host||null;return e===Bwe?null:e}let fa=null,TG=!1;function AG(n,e){for(;e;){if(e===n)return!0;e=tx(e)}return!1}function MG(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let xG=(()=>{class n{validateStyleProperty(t){return function jwe(n){fa||(fa=function $we(){return typeof document<"u"?document.body:null}()||{},TG=!!fa.style&&"WebkitAppearance"in fa.style);let e=!0;return fa.style&&!function Uwe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in fa.style,!e&&TG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in fa.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return AG(t,r)}getParentElement(t){return tx(t)}query(t,r,i){return MG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Lh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),nx=(()=>{class n{}return n.NOOP=new xG,n})();const Hwe=1e3,rx="ng-enter",H_="ng-leave",z_="ng-trigger",G_=".ng-trigger",RG="ng-animating",ix=".ng-animating";function ls(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:sx(parseFloat(e[1]),e[2])}function sx(n,e){return"s"===e?n*Hwe:n}function q_(n,e,t){return n.hasOwnProperty("duration")?n:function Gwe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(DG()),{duration:0,delay:0,easing:""};i=sx(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=sx(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function swe(){return new D(3100,!1)}()),a=!0),s<0&&(e.push(function owe(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,DG())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Vh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function OG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function to(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Si(n,e,t){e.forEach((r,i)=>{const s=ax(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function pa(n,e){e.forEach((t,r)=>{const i=ax(r);n.style[i]=""})}function Bh(n){return Array.isArray(n)?1==n.length?n[0]:uG(n):n}const ox=new RegExp("{{\\s*(.+?)\\s*}}","g");function PG(n){let e=[];if("string"==typeof n){let t;for(;t=ox.exec(n);)e.push(t[1]);ox.lastIndex=0}return e}function Uh(n,e,t){const r=n.toString(),i=r.replace(ox,(s,o)=>{let a=e[o];return null==a&&(t.push(function lwe(n){return new D(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function W_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Kwe=/-+([a-z0-9])/g;function ax(n){return n.replace(Kwe,(...e)=>e[1].toUpperCase())}function mr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function cwe(n){return new D(3004,!1)}()}}function FG(n,e){return window.getComputedStyle(n)[e]}const K_="*";function Xwe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Zwe(n,e,t){if(":"==n[0]){const l=function Jwe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Cwe(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ewe(n){return new D(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(LG(i,o));"<"==s[0]&&!(i==K_&&o==K_)&&e.push(LG(o,i))}(r,t,e)):t.push(n),t}const Y_=new Set(["true","1"]),Q_=new Set(["false","0"]);function LG(n,e){const t=Y_.has(n)||Q_.has(n),r=Y_.has(e)||Q_.has(e);return(i,s)=>{let o=n==K_||n==i,a=e==K_||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Y_.has(n):Q_.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Y_.has(e):Q_.has(e)),o&&a}}const ebe=new RegExp("s*:selfs*,?","g");function lx(n,e,t,r){return new tbe(n).build(e,t,r)}class tbe{constructor(e){this._driver=e}build(e,t,r){const i=new ibe(t);return this._resetContextStyleTimingState(i),mr(this,Bh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function dwe(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function hwe(){return new D(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{PG(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(W_(s.values()),t.errors.push(function fwe(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=mr(this,Bh(e.animation),t);return{type:1,matchers:Xwe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ga(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>mr(this,r,t)),options:ga(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=mr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:ga(e.options)}}visitAnimate(e,t){const r=function obe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return cx(q_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=cx(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=q_(t,e);return cx(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Cc({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Cc(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===as?r.push(a):t.errors.push(new D(3002,!1)):r.push(OG(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function gwe(n,e,t,r,i){return new D(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function Wwe(n,e,t){const r=e.params||{},i=PG(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function awe(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function mwe(){return new D(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const y=this._makeStyleAst(v,t);let I=null!=y.offset?y.offset:function sbe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),R=0;return null!=I&&(s++,R=y.offset=I),l=l||R<0||R>1,a=a||R<c,c=R,o.push(R),y});l&&t.errors.push(function _we(){return new D(3012,!1)}()),a&&t.errors.push(function ywe(){return new D(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function vwe(){return new D(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((v,y)=>{const I=h>0?y==f?1:h*y:o[y],R=I*_;t.currentTime=p+g.delay+R,g.duration=R,this._validateStyleAst(v,t),v.offset=I,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:mr(this,Bh(e.animation),t),options:ga(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ga(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ga(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function nbe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ebe,"")),n=n.replace(/@\*/g,G_).replace(/@\w+/g,t=>G_+"-"+t.slice(1)).replace(/:animating/g,ix),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,gr(t.collectedStyles,t.currentQuerySelector,new Map);const a=mr(this,Bh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ga(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function wwe(){return new D(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:q_(e.timings,t.errors,!0);return{type:12,animation:mr(this,Bh(e.animation),t),timings:r,options:null}}}class ibe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ga(n){return n?(n=Vh(n)).params&&(n.params=function rbe(n){return n?Vh(n):null}(n.params)):n={},n}function cx(n,e,t){return{duration:n,delay:e,easing:t}}function ux(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class X_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cbe=new RegExp(":enter","g"),dbe=new RegExp(":leave","g");function dx(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new hbe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class hbe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new X_;const d=new hx(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?ls(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),mr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[ux(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ls(Uh(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ls(r.duration):null,a=null!=r.delay?ls(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),mr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Z_);const o=ls(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>mr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ls(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),mr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return q_(t.params?Uh(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ls(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Z_);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),mr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;mr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Z_={};class hx{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Z_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new J_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ls(r.duration)),null!=r.delay&&(i.delay=ls(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Uh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new hx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Z_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new fbe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(cbe,"."+this._enterClassName)).replace(dbe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function bwe(n){return new D(3014,!1)}()),a}}class J_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new J_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||as),this._currentKeyframe.set(t,as);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function pbe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,as)}else to(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Uh(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??as),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=to(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===as&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?W_(e.values()):[],o=t.size?W_(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return ux(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class fbe extends J_{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=to(e[0]);l.set("offset",0),s.push(l);const c=to(e[0]);c.set("offset",UG(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=to(e[d]);const f=h.get("offset");h.set("offset",UG((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return ux(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function UG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class fx{}const gbe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mbe extends fx{normalizePropertyName(e,t){return ax(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(gbe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function uwe(n,e){return new D(3005,!1)}())}return o+s}}function jG(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const px={};class $G{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function _be(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||px,p=this.buildStyles(r,a&&a.params||px,d),g=l&&l.params||px,_=this.buildStyles(i,g,d),v=new Set,y=new Map,I=new Map,R="void"===i,j={params:ybe(g,h),delay:this.ast.options?.delay},K=u?[]:dx(e,t,this.ast.animation,s,o,p,_,j,c,d);let ge=0;if(K.forEach(Jt=>{ge=Math.max(Jt.duration+Jt.delay,ge)}),d.length)return jG(t,this._triggerName,r,i,R,p,_,[],[],y,I,ge,d);K.forEach(Jt=>{const Wr=Jt.element,rq=gr(y,Wr,new Set);Jt.preStyleProps.forEach(ma=>rq.add(ma));const $h=gr(I,Wr,new Set);Jt.postStyleProps.forEach(ma=>$h.add(ma)),Wr!==t&&v.add(Wr)});const Tt=W_(v.values());return jG(t,this._triggerName,r,i,R,p,_,K,Tt,y,I,ge)}}function ybe(n,e){const t=Vh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class vbe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Vh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Uh(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class bbe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new vbe(i.style,i.options&&i.options.params||{},r))}),HG(this.states,"true","1"),HG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new $G(e,i,this.states))}),this.fallbackTransition=function Ebe(n,e,t){return new $G(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function HG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Cbe=new X_;class Dbe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=lx(this._driver,t,r,[]);if(r.length)throw function Awe(n){return new D(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=IG(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=dx(this._driver,t,s,rx,H_,new Map,new Map,r,Cbe,i),o.forEach(u=>{const d=gr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Mwe(){return new D(3300,!1)}()),o=[]),i.length)throw function xwe(n){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,as))})});const c=eo(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function kwe(n){return new D(3301,!1)}();return t}listen(e,t,r,i){const s=ex(t,"","","");return ZM(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const zG="ng-animate-queued",gx="ng-animate-disabled",Mbe=[],GG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xbe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qr="__ng_removed";class mx{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Nbe(n){return n??null}(r?e.value:e),r){const s=Vh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const jh="void",_x=new mx(jh);class kbe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Rwe(n,e){return new D(3302,!1)}();if(null==r||0==r.length)throw function Owe(n){return new D(3303,!1)}();if(!function Pbe(n){return"start"==n||"done"==n}(r))throw function Nwe(n,e){return new D(3400,!1)}();const s=gr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=gr(this._engine.statesByElement,e,new Map);return a.has(t)||(xr(e,z_),xr(e,z_+"-"+t),a.set(t,_x)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Pwe(n){return new D(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new yx(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(xr(e,z_),xr(e,z_+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new mx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=_x),c.value!==jh&&l.value===c.value){if(!function Vbe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{pa(e,_),Si(e,v)})}return}const h=gr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(xr(e,zG),o.onStart(()=>{Dc(e,zG)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,G_,!0);r.forEach(i=>{if(i[qr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,jh,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&eo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||_x,u=new mx(jh),d=new yx(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[qr];(!s||s===GG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){xr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=ex(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,ZM(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Rbe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kbe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(ey(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ey(t))return;const s=t[qr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xr(e,gx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Dc(e,gx))}removeNode(e,t,r){if(ey(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[qr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return ey(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,G_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ix,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[qr];if(t&&t.setForRemoval){if(e[qr]=GG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(gx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)xr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?eo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Fwe(n){return new D(3402,!1)}()}_flushAnimations(e,t){const r=new X_,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(G=>{u.add(G);const Y=this.driver.query(G,".ng-animate-queued",!0);for(let X=0;X<Y.length;X++)u.add(Y[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=KG(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((G,Y)=>{const X=rx+g++;p.set(Y,X),G.forEach(Te=>xr(Te,X))});const _=[],v=new Set,y=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const Y=this.collectedLeaveElements[G],X=Y[qr];X&&X.setForRemoval&&(_.push(Y),v.add(Y),X.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(Te=>v.add(Te)):y.add(Y))}const I=new Map,R=KG(h,Array.from(v));R.forEach((G,Y)=>{const X=H_+g++;I.set(Y,X),G.forEach(Te=>xr(Te,X))}),e.push(()=>{f.forEach((G,Y)=>{const X=p.get(Y);G.forEach(Te=>Dc(Te,X))}),R.forEach((G,Y)=>{const X=I.get(Y);G.forEach(Te=>Dc(Te,X))}),_.forEach(G=>{this.processLeaveNode(G)})});const j=[],K=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(t).forEach(X=>{const Te=X.player,en=X.element;if(j.push(Te),this.collectedEnterElements.length){const Mn=en[qr];if(Mn&&Mn.setForMove){if(Mn.previousTriggersValues&&Mn.previousTriggersValues.has(X.triggerName)){const _a=Mn.previousTriggersValues.get(X.triggerName),kr=this.statesByElement.get(X.element);if(kr&&kr.has(X.triggerName)){const ry=kr.get(X.triggerName);ry.value=_a,kr.set(X.triggerName,ry)}}return void Te.destroy()}}const Ti=!d||!this.driver.containsElement(d,en),_r=I.get(en),no=p.get(en),ut=this._buildInstruction(X,r,no,_r,Ti);if(ut.errors&&ut.errors.length)return void K.push(ut);if(Ti)return Te.onStart(()=>pa(en,ut.fromStyles)),Te.onDestroy(()=>Si(en,ut.toStyles)),void i.push(Te);if(X.isFallbackTransition)return Te.onStart(()=>pa(en,ut.fromStyles)),Te.onDestroy(()=>Si(en,ut.toStyles)),void i.push(Te);const oq=[];ut.timelines.forEach(Mn=>{Mn.stretchStartingKeyframe=!0,this.disabledNodes.has(Mn.element)||oq.push(Mn)}),ut.timelines=oq,r.append(en,ut.timelines),o.push({instruction:ut,player:Te,element:en}),ut.queriedElements.forEach(Mn=>gr(a,Mn,[]).push(Te)),ut.preStyleProps.forEach((Mn,_a)=>{if(Mn.size){let kr=l.get(_a);kr||l.set(_a,kr=new Set),Mn.forEach((ry,bx)=>kr.add(bx))}}),ut.postStyleProps.forEach((Mn,_a)=>{let kr=c.get(_a);kr||c.set(_a,kr=new Set),Mn.forEach((ry,bx)=>kr.add(bx))})});if(K.length){const G=[];K.forEach(Y=>{G.push(function Lwe(n,e){return new D(3505,!1)}())}),j.forEach(Y=>Y.destroy()),this.reportError(G)}const ge=new Map,Tt=new Map;o.forEach(G=>{const Y=G.element;r.has(Y)&&(Tt.set(Y,Y),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,ge))}),i.forEach(G=>{const Y=G.element;this._getPreviousPlayers(Y,!1,G.namespaceId,G.triggerName,null).forEach(Te=>{gr(ge,Y,[]).push(Te),Te.destroy()})});const Jt=_.filter(G=>QG(G,l,c)),Wr=new Map;WG(Wr,this.driver,y,c,as).forEach(G=>{QG(G,l,c)&&Jt.push(G)});const $h=new Map;f.forEach((G,Y)=>{WG($h,this.driver,new Set(G),l,"!")}),Jt.forEach(G=>{const Y=Wr.get(G),X=$h.get(G);Wr.set(G,new Map([...Y?.entries()??[],...X?.entries()??[]]))});const ma=[],iq=[],sq={};o.forEach(G=>{const{element:Y,player:X,instruction:Te}=G;if(r.has(Y)){if(u.has(Y))return X.onDestroy(()=>Si(Y,Te.toStyles)),X.disabled=!0,X.overrideTotalTime(Te.totalTime),void i.push(X);let en=sq;if(Tt.size>1){let _r=Y;const no=[];for(;_r=_r.parentNode;){const ut=Tt.get(_r);if(ut){en=ut;break}no.push(_r)}no.forEach(ut=>Tt.set(ut,en))}const Ti=this._buildAnimation(X.namespaceId,Te,ge,s,$h,Wr);if(X.setRealPlayer(Ti),en===sq)ma.push(X);else{const _r=this.playersByElement.get(en);_r&&_r.length&&(X.parentPlayer=eo(_r)),i.push(X)}}else pa(Y,Te.fromStyles),X.onDestroy(()=>Si(Y,Te.toStyles)),iq.push(X),u.has(Y)&&i.push(X)}),iq.forEach(G=>{const Y=s.get(G.element);if(Y&&Y.length){const X=eo(Y);G.setRealPlayer(X)}}),i.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<_.length;G++){const Y=_[G],X=Y[qr];if(Dc(Y,H_),X&&X.hasAnimation)continue;let Te=[];if(a.size){let Ti=a.get(Y);Ti&&Ti.length&&Te.push(...Ti);let _r=this.driver.query(Y,ix,!0);for(let no=0;no<_r.length;no++){let ut=a.get(_r[no]);ut&&ut.length&&Te.push(...ut)}}const en=Te.filter(Ti=>!Ti.destroyed);en.length?Fbe(this,Y,en):this.processLeaveNode(Y)}return _.length=0,ma.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const Y=this.players.indexOf(G);this.players.splice(Y,1)}),G.play()}),ma}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==jh;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=gr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}pa(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[qr];if(_&&_.removedBeforeQueried)return new Lh(p.duration,p.delay);const v=g!==l,y=function Lbe(n){const e=[];return YG(n,e),e}((r.get(g)||Mbe).map(ge=>ge.getRealPlayer())).filter(ge=>!!ge.element&&ge.element===g),I=s.get(g),R=o.get(g),j=IG(this._normalizer,p.keyframes,I,R),K=this._buildPlayer(p,j,y);if(p.subTimeline&&i&&d.add(g),v){const ge=new yx(e,a,g);ge.setRealPlayer(K),c.push(ge)}return K});c.forEach(p=>{gr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Obe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>xr(p,RG));const f=eo(h);return f.onDestroy(()=>{u.forEach(p=>Dc(p,RG)),Si(l,t.toStyles)}),d.forEach(p=>{gr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Lh(e.duration,e.delay)}}class yx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Lh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ZM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){gr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ey(n){return n&&1===n.nodeType}function qG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function WG(n,e,t,r,i){const s=[];t.forEach(l=>s.push(qG(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[qr]=xbe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>qG(l,s[a++])),o}function KG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function xr(n,e){n.classList?.add(e)}function Dc(n,e){n.classList?.remove(e)}function Fbe(n,e,t){eo(t).onDone(()=>n.processLeaveNode(e))}function YG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof gG?YG(r.players,e):e.push(r)}}function QG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class ty{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Rbe(e,t,r),this._timelineEngine=new Dbe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=lx(this._driver,s,l,[]);if(l.length)throw function Swe(n,e){return new D(3404,!1)}();a=function wbe(n,e,t){return new bbe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=SG(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=SG(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Ube=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Si(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Si(this._element,this._initialStyles),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pa(this._element,this._endStyles),this._endStyles=null),Si(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function vx(n){let e=null;return n.forEach((t,r)=>{(function jbe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class XG{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:FG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $be{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return AG(e,t)}getParentElement(e){return tx(e)}query(e,t,r){return MG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof XG);(function Ywe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function qwe(n){return n.length?n[0]instanceof Map?n:n.map(e=>OG(e)):[]}(t).map(f=>to(f));d=function Qwe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,FG(n,a)))}}return e}(e,d,c);const h=function Bbe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=vx(e[0]),e.length>1&&(r=vx(e[e.length-1]))):e instanceof Map&&(t=vx(e)),t||r?new Ube(n,t,r):null}(e,d);return new XG(e,d,l,h)}}let Hbe=(()=>{class n extends aG{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:vr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?uG(t):t;return ZG(this._renderer,null,r,"register",[i]),new zbe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C(tu),C(Ie))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class zbe extends Ave{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Gbe(this._id,e,t||{},this._renderer)}}class Gbe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ZG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ZG(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const JG="@.disabled";let qbe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new eq("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new Wbe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C(tu),C(ty),C(de))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class eq{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==JG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Wbe extends eq{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==JG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Kbe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Ybe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Qbe=(()=>{class n extends ty{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C(Ie),C(nx),C(fx),C(ws))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const tq=[{provide:aG,useClass:Hbe},{provide:fx,useFactory:function Xbe(){return new mbe}},{provide:ty,useClass:Qbe},{provide:tu,useFactory:function Zbe(n,e,t){return new qbe(n,e,t)},deps:[xb,ty,de]}],wx=[{provide:nx,useFactory:()=>new $be},{provide:Zc,useValue:"BrowserAnimations"},...tq],nq=[{provide:nx,useClass:xG},{provide:Zc,useValue:"NoopAnimations"},...tq];let Jbe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nq:wx}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=ze({providers:wx,imports:[_L]}),n})(),eEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n,bootstrap:[rwe]}),n.\u0275inj=ze({imports:[_L,nwe,bae(()=>Eae(iwe_firebase)),rde(()=>ode()),bme(()=>Eme()),v_e,y_e,Jbe,$ve]}),n})();$J().bootstrapModule(eEe).catch(n=>console.error(n))}},ye=>{ye(ye.s=842)}]);