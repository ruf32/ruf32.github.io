<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div{
            height: 50px;
            width:70px;
            background-size: cover;
            background-repeat: no-repeat;
            padding: 5px;
            font-size: x-small;
        }
       
        .Cardlsit{
            display: grid;
            grid-template-columns: repeat(18,75px);
        }
    </style>
</head>
<body>
    <h1 id="number"> </h1>
    
    <button onclick="cargarlista()">Cargar lista</button>
    <div class="Cardlsit" id="Cards"></div>
    <script>
        let lista=[]
        const obj=[]
        async function fetchdataAll(){
            const fetch1= await fetch('https://pokeapi.co/api/v2/pokemon?limit=100000&offset=0')
            const res= await fetch1.json()
            return res
        }
        async function fetchdata(url){
           const fetch1= await fetch(url)
           const res= await fetch1.json()
           return res
        }
        function name(param){
            console.log(param)
        }
        fetchdataAll().then(res=>{
            console.log(res)
            lista=res.results
            if (lista.length>0){
            lista.forEach(element => {
               
                fetchdata(element.url).then(res=>{
                    
                    obj.push(res)
                    const title=document.getElementById('number')
            title.innerText='Pokemons en lista '+obj.length
                })

            });
            
        }
            
        })
      function crearelementos(){

      }
      function quitarelementos(){

      }
      function filtrarpornombre(){
        const name=document.getElementById('name')
        console.log(name.value)
        const newlist=obj.filter(element=>{
            
           if (element.forms[0].name==name.value) return true})
        console.log(newlist)
        return newlist

      } 
      function filtraportipo(){
        
      } 
      function cargarlista(){
        obj.forEach(element=>{
            const divi=document.createElement('div')
            divi.setAttribute('id',element.forms[0].name)
            divi.style.backgroundImage=`url(${element.sprites.front_default})`
           
            divi.innerText=element.forms[0].name
            const principal=document.getElementById('Cards')
            principal.appendChild(divi)
        })
      }         
                   
                

                
        
/* obj.forEach(elem=>{
    const divi=document.createElement('div')
    divi.setAttribute('id',elem.forms[0].name)
    const title=document.createElement('h3')
    const imgurl="url('')"
}) */

    </script>

    
</body>
</html>